{"version":3,"file":"mapcontrol.mjs","sources":["../node_modules/nanoevents/index.js","../node_modules/@arcgis/lumina/dist/chunk-PGHUBTOM.js","../node_modules/@arcgis/components-utils/dist/index.js","../node_modules/@arcgis/lumina/dist/chunk-NO7HOBNA.js","../node_modules/@arcgis/components-controllers/dist/chunk-XKVBN44N.js","../node_modules/@arcgis/components-controllers/dist/chunk-PP2BAVRW.js","../node_modules/@arcgis/components-controllers/dist/index.js","../node_modules/@lit/reactive-element/css-tag.js","../node_modules/@lit/reactive-element/reactive-element.js","../node_modules/lit-html/lit-html.js","../node_modules/lit-element/lit-element.js","../node_modules/lit-html/directive.js","../node_modules/lit-html/directives/class-map.js","../node_modules/lit-html/directives/style-map.js","../node_modules/lit-html/directive-helpers.js","../node_modules/@arcgis/lumina/dist/index.js","../node_modules/@arcgis/map-components/dist/chunks/runtime.js","../node_modules/lit-html/async-directive.js","../node_modules/lit-html/directives/ref.js","../node_modules/@arcgis/map-components/dist/chunks/component-utils.js","../node_modules/@arcgis/map-components/dist/chunks/useView.js","../node_modules/@arcgis/components-controllers/dist/accessor/index.js","../node_modules/@arcgis/map-components/dist/chunks/useViewModel.js","../node_modules/@arcgis/map-components/dist/chunks/globalCss.js","../node_modules/@arcgis/map-components/dist/components/arcgis-scale-bar/customElement.js","../src/utils/GpxUtils.ts","../src/utils/SwissTileLayer.ts","../src/utils/LayerUtils.ts","../src/utils/TextUtils.ts","../node_modules/@esri/calcite-components/dist/chunks/runtime.js","../node_modules/@esri/calcite-components/dist/chunks/guid.js","../node_modules/@esri/calcite-components/dist/chunks/useT9n.js","../node_modules/@esri/calcite-components/dist/components/calcite-loader/customElement.js","../node_modules/@esri/calcite-components/dist/chunks/observers.js","../node_modules/@esri/calcite-components/dist/chunks/dom.js","../node_modules/@esri/calcite-components/dist/components/calcite-scrim/customElement.js","../node_modules/@esri/calcite-components/dist/chunks/logger.js","../node_modules/@esri/calcite-components/dist/components/calcite-icon/customElement.js","../node_modules/@esri/calcite-components/dist/chunks/loadable.js","../node_modules/@esri/calcite-components/dist/chunks/interactive.js","../node_modules/@esri/calcite-components/dist/chunks/key.js","../node_modules/@esri/calcite-components/dist/chunks/component.js","../node_modules/@esri/calcite-components/dist/components/calcite-chip/customElement.js","../node_modules/@arcgis/map-components/dist/chunks/basemap-gallery-resources.js","../node_modules/@arcgis/map-components/dist/components/arcgis-basemap-gallery-item/customElement.js","../node_modules/lit-html/static.js","../node_modules/@arcgis/map-components/dist/components/arcgis-basemap-gallery/customElement.js","../src/widgets/Overview.tsx","../src/utils/WidgetUtils.ts","../src/MapClass.ts","../src/utils/ConfigUtils.ts","../src/MapControl.ts"],"sourcesContent":["export let createNanoEvents = () => ({\n  emit(event, ...args) {\n    for (\n      let callbacks = this.events[event] || [],\n        i = 0,\n        length = callbacks.length;\n      i < length;\n      i++\n    ) {\n      callbacks[i](...args)\n    }\n  },\n  events: {},\n  on(event, cb) {\n    ;(this.events[event] ||= []).push(cb)\n    return () => {\n      this.events[event] = this.events[event]?.filter(i => cb !== i)\n    }\n  }\n})\n","// src/config.ts\nvar lazyMetaGroupJoiner = \";\";\nvar lazyMetaItemJoiner = \",\";\nvar lazyMetaSubItemJoiner = \":\";\nvar PropertyFlags = /* @__PURE__ */ ((PropertyFlags2) => {\n  PropertyFlags2[PropertyFlags2[\"ATTRIBUTE\"] = 1] = \"ATTRIBUTE\";\n  PropertyFlags2[PropertyFlags2[\"REFLECT\"] = 2] = \"REFLECT\";\n  PropertyFlags2[PropertyFlags2[\"BOOLEAN\"] = 4] = \"BOOLEAN\";\n  PropertyFlags2[PropertyFlags2[\"NUMBER\"] = 8] = \"NUMBER\";\n  PropertyFlags2[PropertyFlags2[\"STATE\"] = 16] = \"STATE\";\n  PropertyFlags2[PropertyFlags2[\"READ_ONLY\"] = 32] = \"READ_ONLY\";\n  PropertyFlags2[PropertyFlags2[\"NO_ACCESSOR\"] = 64] = \"NO_ACCESSOR\";\n  return PropertyFlags2;\n})(PropertyFlags || {});\n\nexport {\n  lazyMetaGroupJoiner,\n  lazyMetaItemJoiner,\n  lazyMetaSubItemJoiner,\n  PropertyFlags\n};\n","// src/array-utils.ts\nfunction mappedFind(array, callback) {\n  for (let i = 0; i < array.length; i++) {\n    const value = callback(array[i], i);\n    if (value != null) {\n      return value ?? void 0;\n    }\n  }\n  return;\n}\n\n// src/css-utils.ts\nfunction classes(...classes2) {\n  const effectiveClasses = [];\n  for (let i = 0; i < classes2.length; i++) {\n    const arg = classes2[i];\n    if (typeof arg === \"string\") {\n      effectiveClasses.push(arg);\n    } else if (Array.isArray(arg)) {\n      effectiveClasses.push.apply(effectiveClasses, arg);\n    } else if (typeof arg === \"object\") {\n      for (const prop in arg) {\n        if (arg[prop]) {\n          effectiveClasses.push(prop);\n        }\n      }\n    }\n  }\n  const className = effectiveClasses.join(\" \");\n  effectiveClasses.length = 0;\n  return className;\n}\n\n// src/deferred.ts\nvar Deferred = class {\n  /**\n   * Resolves the promise.\n   * @param value The value to resolve the promise with.\n   */\n  resolve(_value) {\n  }\n  /**\n   * Rejects the promise.\n   */\n  reject(_error) {\n  }\n  /**\n   * Creates a new deferred promise.\n   */\n  constructor() {\n    this.promise = new Promise((resolve, reject) => {\n      this.resolve = resolve;\n      this.reject = reject;\n    });\n  }\n};\n\n// src/dom.ts\nfunction inTargetElement(element, targetElement) {\n  let currentElement = element;\n  while (currentElement) {\n    if (currentElement === targetElement) {\n      return true;\n    }\n    if (!currentElement.parentNode) {\n      return false;\n    }\n    if (currentElement.parentNode instanceof ShadowRoot) {\n      currentElement = currentElement.parentNode.host;\n    } else {\n      currentElement = currentElement.parentNode;\n    }\n  }\n  return false;\n}\nfunction observeAncestorsMutation(element, attributeFilter, callback) {\n  const { subscribe } = observe(attributeFilter);\n  return subscribe((mutations) => {\n    const matched = mutations.some((mutation) => inTargetElement(element, mutation.target));\n    if (matched) {\n      callback();\n    }\n  });\n}\nvar observers = {};\nfunction observe(attributeFilter) {\n  const attributes = attributeFilter.join(\",\");\n  const previousObserver = observers[attributes];\n  if (previousObserver !== void 0) {\n    return previousObserver;\n  }\n  const subscribers = /* @__PURE__ */ new Set();\n  const mutationObserver = new MutationObserver((mutations) => subscribers.forEach((callback) => callback(mutations)));\n  if (globalThis.document) {\n    mutationObserver.observe(document.documentElement, {\n      attributes: true,\n      attributeFilter,\n      subtree: true\n    });\n  }\n  const observer = {\n    subscribe(callback) {\n      subscribers.add(callback);\n      return () => {\n        subscribers.delete(callback);\n        if (subscribers.size === 0) {\n          mutationObserver.disconnect();\n          observers[attributes] = void 0;\n        }\n      };\n    }\n  };\n  observers[attributes] = observer;\n  return observer;\n}\nfunction closestElement(base, selector) {\n  let currentElement = base;\n  while (currentElement) {\n    const element = currentElement.closest?.(selector);\n    if (element) {\n      return element;\n    }\n    const rootElement = currentElement.getRootNode?.();\n    if (rootElement === globalThis.document) {\n      return null;\n    }\n    currentElement = rootElement.host;\n  }\n  return null;\n}\nfunction getElementTheme(base) {\n  const themeElement = closestElement(base, \":is(.calcite-mode-light, .calcite-mode-dark)\");\n  return themeElement?.classList.contains(\"calcite-mode-dark\") ? \"dark\" : \"light\";\n}\nfunction getElementDir(el) {\n  return getElementAttribute(el, \"dir\", \"ltr\");\n}\nfunction getElementAttribute(el, prop, fallbackValue) {\n  const closest = closestElement(el, `[${prop}]`);\n  return closest?.getAttribute(prop) ?? fallbackValue;\n}\nfunction isElement(ref) {\n  return ref.nodeType === Node.ELEMENT_NODE;\n}\nfunction hasSetFocus(ref) {\n  return typeof ref.setFocus === \"function\";\n}\nfunction setFocus(ref, selector = \"\") {\n  if (!isElement(ref)) {\n    return false;\n  }\n  if (ref.matches(selector)) {\n    if (hasSetFocus(ref)) {\n      setTimeout(() => void ref.setFocus(), 0);\n    }\n    return true;\n  }\n  for (const child of ref.children) {\n    if (setFocus(child, selector)) {\n      return true;\n    }\n  }\n  const shadowRoot = ref.shadowRoot;\n  if (shadowRoot) {\n    for (const child of shadowRoot.children) {\n      if (setFocus(child, selector)) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\nasync function focusElement(el) {\n  if (el == null) {\n    return;\n  }\n  if (hasSetFocus(el)) {\n    await el.setFocus();\n  } else {\n    el.focus();\n  }\n}\nfunction setFocusOnElement(ref, selector) {\n  if (!ref?.shadowRoot) {\n    return;\n  }\n  if (ref.hasAttribute(\"hydrated\") || ref.hasAttribute(\"calcite-hydrated\")) {\n    setFocus(ref, selector);\n    return;\n  }\n  void Promise.resolve(ref.componentOnReady?.()).then(() => setFocus(ref, selector));\n}\n\n// src/errors.ts\nfunction isEsriInternalEnv() {\n  return typeof globalThis.process === \"object\" && !!process.env.ESRI_INTERNAL;\n}\nfunction safeCall(callback, thisContext, ...rest) {\n  try {\n    return callback?.call(thisContext, ...rest);\n  } catch (error) {\n    console.error(error, callback);\n  }\n  return void 0;\n}\nasync function safeAsyncCall(callback, thisContext, ...rest) {\n  try {\n    const result = callback?.call(thisContext, ...rest);\n    return result instanceof Promise ? await result : result;\n  } catch (error) {\n    console.error(error, callback);\n  }\n  return void 0;\n}\n\n// src/guid.ts\nfunction gen(count) {\n  let out = \"\";\n  for (let i = 0; i < count; i++) {\n    out += ((1 + Math.random()) * 65536 | 0).toString(16).substring(1);\n  }\n  return out;\n}\nfunction generateGuid() {\n  return [gen(2), gen(1), gen(1), gen(1), gen(3)].join(\"-\");\n}\n\n// src/intl.ts\nvar supportedLocalesArray = [\n  \"ar\",\n  \"bg\",\n  \"bs\",\n  \"ca\",\n  \"cs\",\n  \"da\",\n  \"de\",\n  \"el\",\n  \"en\",\n  \"es\",\n  \"et\",\n  \"fi\",\n  \"fr\",\n  \"he\",\n  \"hr\",\n  \"hu\",\n  \"id\",\n  \"it\",\n  \"ja\",\n  \"ko\",\n  \"lt\",\n  \"lv\",\n  \"nl\",\n  \"nb\",\n  \"no\",\n  \"pl\",\n  \"pt-BR\",\n  \"pt-PT\",\n  \"ro\",\n  \"ru\",\n  \"sk\",\n  \"sl\",\n  \"sr\",\n  \"sv\",\n  \"th\",\n  \"tr\",\n  \"uk\",\n  \"vi\",\n  \"zh-CN\",\n  \"zh-HK\",\n  \"zh-TW\"\n];\nvar supportedLocales = /* @__PURE__ */ new Set(supportedLocalesArray);\nvar defaultLocale = \"en\";\nvar localeEquivalencies = {\n  // We use `pt-PT` as it will have the same translations as `pt`, which has no corresponding bundle\n  pt: \"pt-PT\",\n  // We support both 'nb' and 'no' (BCP 47) for Norwegian but only `no` has corresponding bundle\n  nb: \"no\",\n  // We use `zh-CN` as base translation for chinese locales which has no corresponding bundle.\n  zh: \"zh-CN\"\n};\nasync function fetchT9nStringsBundle(locale, assetsPath, prefix = \"\") {\n  const path = `${assetsPath}/${prefix}`;\n  const filePath = `${path}${locale}.json`;\n  t9nStringsCache[filePath] ?? (t9nStringsCache[filePath] = fetchBundle(locale, path));\n  return await t9nStringsCache[filePath];\n}\nvar t9nStringsCache = {};\nasync function fetchBundle(locale, path) {\n  const filePath = `${path}${locale}.json`;\n  try {\n    const response = await fetch(filePath);\n    if (response.ok) {\n      return await response.json();\n    }\n  } catch (error) {\n    if (process.env.NODE_ENV !== \"production\") {\n      const is404ViteFallback = String(error).includes(`Unexpected token '<', \"<!doctype \"... is not valid JSON`);\n      if (is404ViteFallback) {\n        console.error(`[404] Localization strings not found at ${filePath}`);\n      } else {\n        console.error(`Error fetching localization strings at ${filePath}`, error);\n      }\n    } else {\n      console.error(error);\n    }\n    return {};\n  }\n  if (locale === defaultLocale) {\n    return {};\n  }\n  return await fetchBundle(defaultLocale, path);\n}\nfunction getElementLocales(element) {\n  const lang = getElementAttribute(element, \"lang\", globalThis.navigator?.language || defaultLocale);\n  return { lang, t9nLocale: normalizeLocale(lang) };\n}\nfunction normalizeLocale(locale) {\n  const [rawLanguageCode, regionCode] = locale.split(\"-\");\n  const languageCode = rawLanguageCode.toLowerCase();\n  let normalizedLocale = languageCode;\n  if (regionCode) {\n    normalizedLocale = `${languageCode}-${regionCode.toUpperCase()}`;\n  }\n  normalizedLocale = localeEquivalencies[normalizedLocale] ?? normalizedLocale;\n  if (supportedLocales.has(normalizedLocale)) {\n    return normalizedLocale;\n  }\n  if (regionCode) {\n    return normalizeLocale(languageCode);\n  }\n  return defaultLocale;\n}\nfunction startLocaleObserver(element, getAssetsPath, onUpdated, assetName) {\n  let result = void 0;\n  const callback = () => void updateComponentLocaleState(element, getAssetsPath(), assetName).then((newResult) => {\n    if (result?.lang !== newResult.lang || result.t9nLocale !== newResult.t9nLocale || result.t9nStrings !== newResult.t9nStrings) {\n      onUpdated(newResult);\n    }\n    result = newResult;\n  }).catch(console.error);\n  queueMicrotask(callback);\n  return observeAncestorsMutation(element, [\"lang\"], callback);\n}\nasync function updateComponentLocaleState(element, assetsPath, assetName = element.tagName.toLowerCase().split(\"-\").slice(1).join(\"-\")) {\n  const { lang, t9nLocale } = getElementLocales(element);\n  const t9nAssetsPath = `${assetsPath}/${assetName}/t9n`;\n  const prefix = `messages.`;\n  const t9nStrings = (\n    // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n    assetName === null ? {} : await fetchT9nStringsBundle(t9nLocale, t9nAssetsPath, prefix)\n  );\n  return { lang, t9nLocale, t9nStrings };\n}\n\n// src/preamble.ts\nvar blurb = \"All material copyright Esri, All Rights Reserved, unless otherwise specified.\\nSee https://js.arcgis.com/{minorVersion}/esri/copyright.txt for details.\\nv{version}\";\nvar extractMinorVersion = (version) => {\n  const [major, minor] = version.split(\".\");\n  return `${major}.${minor}`;\n};\nvar getPreamble = (version) => blurb.replace(\"{minorVersion}\", extractMinorVersion(version)).replace(\"{version}\", version);\n\n// src/strings.ts\nvar doubleQuote = '\"';\nvar singleQuote = \"'\";\nfunction repeatString(value, n) {\n  return new Array(n + 1).join(value);\n}\nfunction quoteString(value) {\n  let quote = doubleQuote;\n  let alternateQuote = singleQuote;\n  const avoidEscape = value.includes(quote) && !value.includes(alternateQuote);\n  if (avoidEscape) {\n    alternateQuote = doubleQuote;\n    quote = singleQuote;\n  }\n  const alternateEscape = new RegExp(`(^|[^\\\\\\\\])((?:\\\\\\\\{2})*)((?:\\\\\\\\${alternateQuote})+)`, \"gu\");\n  value = value.replace(\n    alternateEscape,\n    (_, boundaryChar, leadingEscapedSlashes, escapedQuoteChars) => (\n      // We divide the escapedQuoteChars by 2 since there are 2 characters in each escaped part ('\\\\\"'.length === 2)\n      boundaryChar + leadingEscapedSlashes + repeatString(alternateQuote, escapedQuoteChars.length / 2)\n    )\n  );\n  const quoteEscape = new RegExp(`(^|[^\\\\\\\\])((?:\\\\\\\\{2})*)(${quote}+)`, \"gu\");\n  value = value.replace(\n    quoteEscape,\n    (_, boundaryChar, leadingEscapedSlashes, quoteChars) => boundaryChar + leadingEscapedSlashes + repeatString(`\\\\${quote}`, quoteChars.length)\n  );\n  return quote + value + quote;\n}\nfunction createFilterExpression(filterWord) {\n  const sanitizedWord = filterWord ? filterWord.replaceAll(/[-[\\]/{}()*+?.\\\\^$|]/gu, \"\\\\$&\") : \"^.*$\";\n  return new RegExp(sanitizedWord, \"i\");\n}\nfunction setValuesInString(message, values = {}) {\n  return (message ?? \"\").replace(/\\{(?<valueName>.*?)\\}/gu, (match, valueName) => values[valueName] ?? match);\n}\nfunction addLTRMark(value) {\n  return `\\u200E${value ?? \"\"}\\u200E`;\n}\n\n// src/text.ts\nvar kebabToPascal = (string) => string.split(\"-\").map(capitalize).join(\"\");\nvar camelToKebab = (string) => string.replace(upperBeforeLower, (upper, remainder) => `${remainder === 0 ? \"\" : \"-\"}${upper.toLowerCase()}`);\nvar upperBeforeLower = /[A-Z]+(?![a-z])|[A-Z]/gu;\nvar capitalize = (string) => string.charAt(0).toUpperCase() + string.slice(1);\nvar uncapitalize = (string) => string.charAt(0).toLowerCase() + string.slice(1);\nvar camelToHuman = (string) => capitalize(string.replace(upperBeforeLower, (upper, remainder) => `${remainder === 0 ? \"\" : \" \"}${upper}`));\n\n// src/timeouts.ts\nfunction devToolsAwareTimeout(callback, timeout) {\n  const interval = timeout > longTimeoutThreshold ? longTimeoutInterval : timeout / shortTimeoutIntervals;\n  let elapsed = 0;\n  const reference = setInterval(() => {\n    elapsed += interval;\n    if (elapsed >= timeout) {\n      clearInterval(reference);\n      callback();\n    }\n  }, interval);\n  return reference;\n}\nvar longTimeoutThreshold = 4e3;\nvar longTimeoutInterval = 2e3;\nvar shortTimeoutIntervals = 4;\n\n// src/type-guards.ts\nfunction isNotNull(item) {\n  return item !== null;\n}\nfunction isNotUndefined(item) {\n  return item !== void 0;\n}\n\n// src/types.ts\nvar identity = (value) => value;\n\n// src/ui.ts\nfunction debounce(func, waitFor = 100) {\n  let timeout;\n  return (...args) => {\n    const later = () => {\n      clearTimeout(timeout);\n      func(...args);\n    };\n    clearTimeout(timeout);\n    timeout = setTimeout(later, waitFor);\n  };\n}\n\n// src/url.ts\nfunction hasSameOrigin(url1, url2, ignoreProtocol = false) {\n  if (!url1 || !url2) {\n    return false;\n  }\n  const url1Obj = new URL(url1);\n  const url2Obj = new URL(url2);\n  if (!ignoreProtocol && url1Obj.protocol !== url2Obj.protocol) {\n    return false;\n  }\n  if (url1Obj.host == null || url2Obj.host == null) {\n    return false;\n  }\n  return url1Obj.host.toLowerCase() === url2Obj.host.toLowerCase() && url1Obj.port === url2Obj.port;\n}\nfunction isURL(url) {\n  try {\n    new URL(url);\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nexport {\n  Deferred,\n  addLTRMark,\n  camelToHuman,\n  camelToKebab,\n  capitalize,\n  classes,\n  closestElement,\n  createFilterExpression,\n  debounce,\n  defaultLocale,\n  devToolsAwareTimeout,\n  extractMinorVersion,\n  fetchT9nStringsBundle,\n  focusElement,\n  generateGuid,\n  getElementAttribute,\n  getElementDir,\n  getElementLocales,\n  getElementTheme,\n  getPreamble,\n  hasSameOrigin,\n  identity,\n  isEsriInternalEnv,\n  isNotNull,\n  isNotUndefined,\n  isURL,\n  kebabToPascal,\n  mappedFind,\n  normalizeLocale,\n  observeAncestorsMutation,\n  quoteString,\n  safeAsyncCall,\n  safeCall,\n  setFocusOnElement,\n  setValuesInString,\n  startLocaleObserver,\n  supportedLocales,\n  uncapitalize\n};\n","import {\n  lazyMetaGroupJoiner,\n  lazyMetaItemJoiner,\n  lazyMetaSubItemJoiner\n} from \"./chunk-PGHUBTOM.js\";\n\n// src/lazyLoad.ts\nimport { Deferred, camelToKebab, isEsriInternalEnv } from \"@arcgis/components-utils\";\n\n// src/devOnlyDetectIncorrectLazyUsages.ts\nfunction devOnlyDetectIncorrectLazyUsages(LitClass) {\n  const genericPrototype = LitClass.prototype;\n  const descriptor = Object.getOwnPropertyDescriptor(genericPrototype, \"innerText\");\n  if (descriptor !== void 0 && descriptor.get === descriptor.set) {\n    return;\n  }\n  const allowList = /* @__PURE__ */ new Set([\n    // We shouldn't be overwriting this property\n    \"constructor\",\n    // Called by Lit - we proxy it to this.el in ProxyComponent\n    \"setAttribute\",\n    // Called by Lit SSR - we proxy it to this.el in ProxyComponent\n    \"removeAttribute\",\n    // Called by Lit - we proxy it to this.el in ProxyComponent\n    \"isConnected\",\n    // Called by Lit, but only in dev mode for warnings, so we don't have to proxy.\n    \"localName\",\n    // Called by Lit Context - we proxy it to this.el in ProxyComponent.\n    // Interestingly, they never call removeEventListener.\n    \"addEventListener\"\n  ]);\n  const customErrorMessages = {\n    addEventListener: \"use this.listen() or this.el.addEventListener()\"\n  };\n  Object.entries({\n    ...Object.getOwnPropertyDescriptors(HTMLElement.prototype),\n    ...Object.getOwnPropertyDescriptors(Element.prototype),\n    ...Object.getOwnPropertyDescriptors(Node.prototype),\n    ...Object.getOwnPropertyDescriptors(EventTarget.prototype)\n  }).forEach(([key, value]) => {\n    if (allowList.has(key)) {\n      return;\n    }\n    const callback = (...args) => {\n      if (key === \"hasAttribute\" && args[0] === \"defer-hydration\") {\n        return false;\n      }\n      throw new Error(\n        `You should not be trying to access this.${key} directly as it won't work correctly in lazy-builds. Instead, ${customErrorMessages[key] ?? `use this.el.${key}`}`\n      );\n    };\n    if (typeof value.value === \"function\") {\n      genericPrototype[key] = callback;\n    } else {\n      Object.defineProperty(genericPrototype, key, { get: callback, set: callback });\n    }\n  });\n}\n\n// src/lifecycleSupport.ts\nfunction attachToAncestor(child) {\n  let ancestor = child;\n  while (ancestor = ancestor.parentNode ?? ancestor.host) {\n    if (ancestor?.constructor?.lumina) {\n      const litParent = ancestor;\n      if (!litParent.manager?.loadedCalled) {\n        litParent._offspring.push(child);\n      }\n      return litParent._postLoad.promise;\n    }\n  }\n  return false;\n}\n\n// src/lazyLoad.ts\nvar makeDefineCustomElements = (runtime, structure) => function defineCustomElements(windowOrOptions, options) {\n  if (!globalThis.customElements) {\n    return;\n  }\n  const resolvedOptions = options ?? windowOrOptions ?? {};\n  const resourcesUrl = resolvedOptions.resourcesUrl;\n  if (resourcesUrl) {\n    runtime.setAssetPath(resourcesUrl);\n  }\n  Object.entries(structure).forEach(createLazyElement);\n};\nfunction createLazyElement([tagName, [load, compactMeta = \"\"]]) {\n  if (customElements.get(tagName)) {\n    return;\n  }\n  const [compactObservedProps, compactAsyncMethods, compactSyncMethods] = compactMeta.split(lazyMetaGroupJoiner);\n  const observedProps = compactObservedProps ? compactObservedProps?.split(lazyMetaItemJoiner).map(parseCondensedProp) : void 0;\n  const observedProperties = observedProps?.map(([property]) => property);\n  const ProxyClass = class extends ProxyComponent {\n    static {\n      this.observedAttributes = observedProps?.map(([, attribute]) => attribute).filter((attribute) => attribute !== \"\");\n    }\n    static {\n      this._properties = observedProperties;\n    }\n    static {\n      this._asyncMethods = compactAsyncMethods ? compactAsyncMethods?.split(lazyMetaItemJoiner) : void 0;\n    }\n    static {\n      this._syncMethods = compactSyncMethods?.split(lazyMetaItemJoiner);\n    }\n    static {\n      this._name = tagName;\n    }\n    constructor() {\n      const isFirstInstanceOfType = !ProxyClass._loadPromise;\n      if (isFirstInstanceOfType) {\n        ProxyClass._loadPromise = load();\n        ProxyClass._initializePrototype();\n      }\n      super();\n    }\n  };\n  customElements.define(tagName, ProxyClass);\n  if (process.env.NODE_ENV !== \"production\") {\n    globalThis.devOnly$ownTagNames?.add(tagName);\n  }\n}\nvar defineProperty = Object.defineProperty;\nfunction parseCondensedProp(propAndAttribute) {\n  const name = propAndAttribute.split(lazyMetaSubItemJoiner);\n  return name.length === 1 ? [name[0], camelToKebab(name[0])] : name;\n}\nvar HtmlElement = globalThis.HTMLElement ?? parseCondensedProp;\nvar ProxyComponent = class extends HtmlElement {\n  constructor() {\n    super();\n    /** @internal */\n    this._store = {};\n    /**\n     * If attributeChangedCallback() is called before the LitElement is loaded,\n     * store the attributes here, and replay later\n     */\n    this._pendingAttributes = [];\n    /**\n     * Resolved once LitElement's load() is complete.\n     * Not read inside of this class, but needed for LitElement to determine if\n     * it's closest ancestor finished load()\n     */\n    this._postLoad = new Deferred();\n    /**\n     * Resolved once LitElement's loaded() is complete\n     */\n    this._postLoaded = new Deferred();\n    /**\n     * Direct offspring that should be awaited before loaded() is emitted\n     */\n    this._offspring = [];\n    if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv()) {\n      this._hmrSetProps = /* @__PURE__ */ new Set();\n      this._hmrSetAttributes = /* @__PURE__ */ new Set();\n      globalThis.devOnly$createdElements ??= [];\n      globalThis.devOnly$createdElements.push(new WeakRef(this));\n    }\n    this._saveInstanceProperties();\n    const ProxyClass = this.constructor;\n    if (ProxyClass._LitConstructor) {\n      this._initializeComponent({ a: ProxyClass._LitConstructor });\n    } else {\n      void ProxyClass._loadPromise.then(this._initializeComponent.bind(this)).catch((error) => {\n        this._postLoaded.reject(error);\n        setTimeout(() => {\n          throw error;\n        });\n      });\n    }\n    if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv()) {\n      ProxyClass._hmrInstances ??= [];\n      ProxyClass._hmrInstances.push(new WeakRef(this));\n      Object.defineProperty(this, \"_store\", {\n        value: this._store,\n        enumerable: false,\n        configurable: true\n      });\n    }\n  }\n  static {\n    this.lumina = true;\n  }\n  /** @internal */\n  static _initializePrototype() {\n    this._properties?.forEach(this._bindProp, this);\n    this._asyncMethods?.forEach(this._bindAsync, this);\n    this._syncMethods?.forEach(this._bindSync, this);\n  }\n  static _bindProp(propName) {\n    defineProperty(this.prototype, propName, {\n      configurable: true,\n      enumerable: true,\n      get() {\n        return this._store[propName];\n      },\n      set(value) {\n        this._store[propName] = value;\n        if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv()) {\n          this._hmrSetProps.add(propName);\n        }\n      }\n    });\n  }\n  static _bindAsync(methodName) {\n    defineProperty(this.prototype, methodName, {\n      async value(...args) {\n        if (!this._litElement) {\n          await this._postLoaded.promise;\n        }\n        const genericLitElement = this._litElement;\n        return await genericLitElement[methodName](...args);\n      },\n      configurable: true\n    });\n  }\n  static _bindSync(methodName) {\n    defineProperty(this.prototype, methodName, {\n      value(...args) {\n        if (process.env.NODE_ENV !== \"production\" && !this._litElement) {\n          const ProxyClass = this.constructor;\n          throw new Error(\n            `Tried to call method ${methodName}() on <${ProxyClass._name}> component before it's fully loaded. Please do 'await component.componentOnReady();' before calling this method.`\n          );\n        }\n        const genericLitElement = this._litElement;\n        return genericLitElement[methodName](...args);\n      },\n      configurable: true\n    });\n  }\n  get manager() {\n    return this._litElement?.manager;\n  }\n  /**\n   * Until the custom element is registered on the page, an instance of that\n   * element can be constructed and some properties on that instance set.\n   *\n   * These properties are set before the element prototype is set to this proxy\n   * class and thus none of our getters/setters are yet registered - such\n   * properties will be set by JavaScript on the instance directly.\n   *\n   * Once element is registered, the properties set in the meanwhile will shadow\n   * the getter/setters, and thus break reactivity. The fix is to delete these\n   * properties from the instance, and re-apply them once accessors are set.\n   *\n   * @example\n   * ```ts\n   * import { defineCustomElements } from '@arcgis/map-components';\n   * const map = document.createElement('arcgis-map');\n   * // This will shadow the getter/setters\n   * map.itemId = '...';\n   * // This finally defines the custom elements and sets the property accessors\n   * defineCustomElements();\n   * ```\n   *\n   * @remarks\n   * This is an equivalent of the __saveInstanceProperties method in Lit's\n   * ReactiveElement. Lit takes care of this on LitElement, but we have to take\n   * care of this on the lazy proxy\n   */\n  _saveInstanceProperties() {\n    const ProxyClass = this.constructor;\n    const genericThis = this;\n    ProxyClass._properties?.forEach((propName) => {\n      if (Object.hasOwn(this, propName)) {\n        this._store[propName] = genericThis[propName];\n        delete genericThis[propName];\n      }\n    });\n  }\n  /*\n   * This method must be statically present rather than added later, or else,\n   * browsers won't call it. Same for connected and disconnected callbacks.\n   */\n  attributeChangedCallback(name, oldValue, newValue) {\n    this._litElement?.attributeChangedCallback(name, oldValue, newValue);\n    if (!this._litElement) {\n      this._pendingAttributes.push(name);\n    }\n    if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv()) {\n      this._hmrSetAttributes.add(name);\n    }\n  }\n  connectedCallback() {\n    if (this._litElement) {\n      this._litElement.connectedCallback?.();\n    } else {\n      queueMicrotask(() => {\n        this._ancestorLoad = attachToAncestor(this);\n      });\n    }\n  }\n  disconnectedCallback() {\n    this._litElement?.disconnectedCallback?.();\n  }\n  /**\n   * Create a promise that resolves once component is fully loaded\n   */\n  async componentOnReady() {\n    await this._postLoaded.promise;\n    return this;\n  }\n  /** @internal */\n  _initializeComponent(module) {\n    const ProxyClass = this.constructor;\n    const tagName = ProxyClass._name;\n    const store = this._store;\n    const LitConstructor = Object.values(module).find(\n      (LitConstructor2) => LitConstructor2.tagName === tagName\n    );\n    if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv() && !LitConstructor) {\n      throw new Error(\n        `Unable to find the LitElement class for the \"${tagName}\" custom element in the lazy-loaded module`\n      );\n    }\n    const lazyTagName = process.env.NODE_ENV !== \"production\" && isEsriInternalEnv() ? (ProxyClass._hmrIndex ?? 0) === 0 ? `${tagName}--lazy` : `${tagName}--lazy-${ProxyClass._hmrIndex}` : `${tagName}--lazy`;\n    let parentClass = LitConstructor;\n    while (parentClass && !Object.hasOwn(parentClass, \"lumina\")) {\n      parentClass = Object.getPrototypeOf(parentClass);\n    }\n    patchLitElement(parentClass);\n    const isFirstInitialization = !ProxyClass._LitConstructor;\n    if (isFirstInitialization) {\n      ProxyClass._LitConstructor = LitConstructor;\n      customElements.define(lazyTagName, LitConstructor);\n    }\n    LitConstructor.lazy = this;\n    const litElement = document.createElement(lazyTagName);\n    LitConstructor.lazy = void 0;\n    if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv()) {\n      Object.defineProperty(this, \"_litElement\", {\n        value: litElement,\n        configurable: true,\n        enumerable: false\n      });\n    } else {\n      this._litElement = litElement;\n    }\n    this._store = litElement;\n    this._pendingAttributes.forEach((name) => {\n      const value = this.getAttribute(name);\n      litElement.attributeChangedCallback(\n        name,\n        // Lit doesn't look at this value, thus even if attribute already exists, that's ok\n        null,\n        value\n      );\n    });\n    Object.entries(store).forEach(syncLitElement, litElement);\n    if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv()) {\n      const litObserved = LitConstructor.observedAttributes ?? [];\n      const lazyObserved = ProxyClass.observedAttributes ?? [];\n      const missingFromLazy = litObserved.filter((attribute) => !lazyObserved.includes(attribute));\n      const missingFromLit = lazyObserved.filter((attribute) => !litObserved.includes(attribute));\n      if (missingFromLazy.length > 0) {\n        console.warn(\n          `The following attributes on <${ProxyClass._name}> are present on the Lit element, but are missing from the lazy proxy component: ${missingFromLazy.join(\", \")}. This either indicates a bug in Lumina, or you are creating the attribute dynamically in a way that compiler cannot infer statically. For these attributes, lazy-loading version of your component won't work correctly, thus this must be resolved`\n        );\n      }\n      if (missingFromLit.length > 0) {\n        console.warn(\n          `The following attributes on <${ProxyClass._name}> are defined on the lazy proxy component, but not on the actual Lit element: ${missingFromLit.join(\", \")}. This either indicates a bug in Lumina, or you are creating the attribute dynamically in a way that compiler cannot infer statically. This is a non-critical issue, but does indicate that something is going wrong and should be fixed`\n        );\n      }\n    }\n    const isStillConnected = this.isConnected;\n    if (isStillConnected || this._ancestorLoad) {\n      litElement.connectedCallback?.();\n      if (!isStillConnected) {\n        litElement.disconnectedCallback();\n      }\n    }\n  }\n  /**\n   * Implemented on the proxy for compatibility with Lit Context.\n   */\n  addController() {\n  }\n  /**\n   * Implemented on the proxy for compatibility with Lit Context.\n   */\n  requestUpdate() {\n    this._litElement?.requestUpdate();\n  }\n};\nfunction syncLitElement([key, value]) {\n  this[key] = value;\n}\nfunction patchLitElement(parentClass) {\n  const litElementPrototype = parentClass.prototype;\n  const elementPrototype = Element.prototype;\n  const alreadyPatched = Object.hasOwn(litElementPrototype, \"isConnected\");\n  if (!alreadyPatched) {\n    litElementPrototype.setAttribute = function(qualifiedName, value) {\n      elementPrototype.setAttribute.call(this.el, qualifiedName, value);\n    };\n    litElementPrototype.removeAttribute = function(qualifiedName) {\n      elementPrototype.removeAttribute.call(this.el, qualifiedName);\n    };\n    defineProperty(litElementPrototype, \"isConnected\", {\n      get() {\n        return Reflect.get(elementPrototype, \"isConnected\", this.el);\n      }\n    });\n  }\n  if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv()) {\n    devOnlyDetectIncorrectLazyUsages(parentClass);\n  }\n}\n\n// src/utils.ts\nvar noShadowRoot = {};\n\nexport {\n  attachToAncestor,\n  makeDefineCustomElements,\n  ProxyComponent,\n  noShadowRoot\n};\n","// src/framework.ts\nimport { isEsriInternalEnv, isNotUndefined } from \"@arcgis/components-utils\";\nfunction retrieveComponentMembers(component, isLit) {\n  if (isLit) {\n    const elementProperties = component.constructor.elementProperties;\n    component.manager.internals.members = Object.fromEntries(\n      Array.from(\n        elementProperties,\n        ([name, descriptor]) => descriptor.noAccessor ? void 0 : [\n          name,\n          [\n            (descriptor.readOnly ? 2048 /* ReadOnly */ : 0) | (descriptor.state ? 32 /* State */ : 16 /* Unknown */)\n          ]\n        ]\n      ).filter(isNotUndefined)\n    );\n  } else {\n    const constructor = component.constructor;\n    const members = constructor.__registerControllers?.(component) ?? void 0;\n    constructor.__registerControllers = void 0;\n    if (typeof members !== \"object\") {\n      throw new Error(\n        process.env.NODE_ENV !== \"production\" && isEsriInternalEnv() ? \"Failed to retrieve internal component meta. Make sure you have the useComponentsControllers() Rollup Plugin for Stencil Controllers configured in your Stencil config.\" : \"Failed to retrieve component meta\"\n      );\n    }\n    component.manager.internals.members = Object.fromEntries(\n      Object.entries(members).filter(([_name, [propType]]) => (propType & 63 /* PropLike */) !== 0)\n    );\n  }\n}\nfunction parsePropertyValue(value, type = 8 /* Any */) {\n  const isComplex = value == null || typeof value === \"object\" || typeof value === \"function\";\n  if (isComplex) {\n    return value;\n  }\n  if ((type & 4 /* Boolean */) !== 0) {\n    return value === \"false\" ? false : value === \"\" || !!value;\n  } else if ((type & 2 /* Number */) !== 0) {\n    return Number.parseFloat(value);\n  } else if ((type & 1 /* String */) !== 0) {\n    return String(value);\n  } else {\n    return value;\n  }\n}\nvar getMemberType = (component, name) => component.manager.internals.members?.[name]?.[0];\n\nexport {\n  retrieveComponentMembers,\n  parsePropertyValue,\n  getMemberType\n};\n","import {\n  getMemberType,\n  parsePropertyValue\n} from \"./chunk-XKVBN44N.js\";\n\n// src/types.ts\nvar controllerSymbol = Symbol.for(\"controller\");\n\n// package.json\nvar name = \"@arcgis/components-controllers\";\n\n// src/utils.ts\nimport { isEsriInternalEnv } from \"@arcgis/components-utils\";\nvar isController = (value) => typeof value === \"object\" && value !== null && (controllerSymbol in value || \"hostConnected\" in value || \"hostDisconnected\" in value || \"hostUpdate\" in value || \"hostUpdated\" in value);\nvar devOnlySetPersistentControllerData = process.env.NODE_ENV !== \"production\" && isEsriInternalEnv() ? (controller, data) => {\n  const manager = controller.component.manager;\n  const controllers = \"_controllers\" in manager ? manager._controllers : void 0;\n  if (controllers === void 0) {\n    return void 0;\n  }\n  const index = Array.from(controllers).indexOf(controller);\n  if (index === -1) {\n    return;\n  }\n  const devOnlyControllerData = Symbol.for(`${name}: devOnlyControllerData`);\n  const el = controller.component.el;\n  el[devOnlyControllerData] ?? (el[devOnlyControllerData] = {});\n  el[devOnlyControllerData][index] = data;\n} : void 0;\nvar devOnlyGetPersistentControllerData = process.env.NODE_ENV !== \"production\" && isEsriInternalEnv() ? (controller) => {\n  const manager = controller.component.manager;\n  const controllers = \"_controllers\" in manager ? manager._controllers : void 0;\n  if (controllers === void 0) {\n    return void 0;\n  }\n  const index = Array.from(controllers).indexOf(controller);\n  const devOnlyControllerData = Symbol.for(`${name}: devOnlyControllerData`);\n  const el = controller.component.el;\n  return el[devOnlyControllerData]?.[index];\n} : void 0;\n\n// src/ControllerInternals.ts\nimport { isEsriInternalEnv as isEsriInternalEnv2 } from \"@arcgis/components-utils\";\nvar ambientComponent;\nfunction setAmbientComponent(component) {\n  if (ambientComponent === component) {\n    return;\n  }\n  ambientComponent = component;\n  queueMicrotask(() => {\n    if (ambientComponent === component) {\n      ambientComponent = void 0;\n    }\n  });\n}\nfunction retrieveComponent(name2) {\n  if (process.env.NODE_ENV !== \"production\" && ambientComponent === void 0) {\n    throw new Error(\n      [\n        `Unable to find out which component ${name2 || \"this\"} controller `,\n        \"belongs to. Possible causes:\\n\",\n        \"- You might also have multiple versions of \",\n        \"@arcgis/components-controllers package installed\\n\",\n        ...isEsriInternalEnv2() ? [\n          \"- You tried to create controller outside the component. If so, \",\n          \"please wrap your controller definition in an arrow function (like\",\n          \"`const myController = ()=>makeController(...);`) and call that\",\n          \"function inside the component (`my = myController();`), or \",\n          \"define your controller using makeGenericController/GenericController \",\n          \"instead.\\n\",\n          \"- You tried to create a controller inside an async function. \",\n          \"This is allowed without calling controller.use(). Make sure you \",\n          \"use it like `await controller.use(useController())`.\"\n        ] : []\n      ].join(\"\")\n    );\n  }\n  return ambientComponent;\n}\nvar ambientControllers = [];\nfunction setParentController(controller) {\n  if (controller === void 0) {\n    ambientControllers = [];\n    return;\n  }\n  const index = ambientControllers.indexOf(controller);\n  ambientControllers = index === -1 ? [...ambientControllers, controller] : ambientControllers.slice(0, index + 1);\n  queueMicrotask(() => {\n    ambientControllers = [];\n  });\n}\nfunction retrieveParentControllers() {\n  return ambientControllers;\n}\nvar ambientChildController;\nfunction setAmbientChildController(controller) {\n  if (ambientChildController === controller) {\n    return;\n  }\n  ambientChildController = controller;\n  queueMicrotask(() => {\n    if (ambientChildController === controller) {\n      ambientChildController = void 0;\n    }\n  });\n}\nfunction retrieveAmbientChildController() {\n  const controller = ambientChildController;\n  ambientChildController = void 0;\n  return controller;\n}\nvar use = async (value, watchExports) => {\n  const controller = useRefSync(value);\n  if (controller === void 0) {\n    if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv2() && typeof watchExports === \"function\") {\n      throw new Error(\n        `Unable to resolve a controller from the provided value, so can't watch it's exports. The value you passed is not a controller and not a controller exports. If your controller exports a literal value, try making your controller export an object instead`\n      );\n    }\n    return value;\n  }\n  await controller.ready;\n  if (typeof watchExports === \"function\") {\n    if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv2() && controller.watchExports === void 0) {\n      throw new Error(`The controller must implement watchExports method to support watching exports`);\n    }\n    const unsubscribe = controller.watchExports(\n      (exports) => watchExports(exports, unsubscribe)\n    );\n  }\n  return controller.exports;\n};\nvar useRef = async (value) => {\n  const controller = useRefSync(value);\n  if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv2() && controller === void 0) {\n    throw new Error(\n      `Unable to resolve a controller from the provided value. The value you passed is not a controller and not a controller exports. If your controller exports a literal value, try making your controller export an object instead`\n    );\n  }\n  await controller.ready;\n  return controller;\n};\nvar useRefSync = (value) => {\n  const component = retrieveComponent();\n  const controller = component.manager.internals.resolveExports(value);\n  if (controller !== void 0) {\n    return controller;\n  }\n  if (isController(value)) {\n    return value;\n  }\n  const ambientChildController2 = retrieveAmbientChildController();\n  if (ambientChildController2 !== void 0) {\n    return ambientChildController2;\n  }\n  return void 0;\n};\nvar shouldBypass = {\n  setter: false,\n  getter: false,\n  readOnly: false\n};\nvar elementToInstance = /* @__PURE__ */ new WeakMap();\n\n// src/Controller.ts\nimport { Deferred, isEsriInternalEnv as isEsriInternalEnv3, safeAsyncCall, safeCall } from \"@arcgis/components-utils\";\nvar _a;\n_a = controllerSymbol;\nvar Controller = class {\n  constructor(component) {\n    this._callbacks = {\n      hostConnected: [],\n      hostDisconnected: [],\n      hostLoad: [],\n      hostLoaded: [],\n      hostUpdate: [],\n      hostUpdated: [],\n      hostDestroy: [],\n      hostLifecycle: []\n    };\n    this._ready = new Deferred();\n    this._lifecycleCleanups = [];\n    this.connectedCalled = false;\n    this._loadCalled = false;\n    this.loadedCalled = false;\n    this[_a] = true;\n    this.ready = this._ready.promise;\n    /*\n     * Setting default exports to \"this\" so that controllers that don't use\n     * exports/proxyExports(), could still be used as if they did\n     * (i.e with controller.use)\n     */\n    this._exports = makeProvisionalValue(this);\n    this._exportWatchers = /* @__PURE__ */ new Set();\n    const resolvedComponent = toControllerHost(component ?? retrieveComponent(new.target.name));\n    if (process.env.NODE_ENV !== \"production\") {\n      Object.defineProperty(this, \"component\", {\n        writable: false,\n        enumerable: false,\n        configurable: true,\n        value: resolvedComponent\n      });\n      if (\"hostDestroy\" in this) {\n        this.component.manager.ensureHasDestroy?.();\n      }\n    } else {\n      this.component = resolvedComponent;\n    }\n    this.component.addController(this);\n    const manager = this.component.manager;\n    const isInControllerManager = manager === void 0;\n    if (!isInControllerManager) {\n      setParentController(this);\n      queueMicrotask(() => this.catchUpLifecycle());\n    }\n  }\n  /**\n   * If controller is being added dynamically, after the component\n   * construction, then trigger connected and load right away\n   */\n  catchUpLifecycle() {\n    const { manager } = this.component;\n    const connectedWillStillHappen = !manager.connectedCalled;\n    if (!connectedWillStillHappen && !this.connectedCalled) {\n      this.triggerConnected();\n    }\n    const loadWillStillHappen = !manager._loadCalled;\n    if (loadWillStillHappen) {\n      return;\n    }\n    this.triggerLoad().then(() => {\n      const loadedWillStillHappen = !manager.loadedCalled;\n      if (loadedWillStillHappen) {\n        return;\n      }\n      this.triggerLoaded();\n    }).catch(console.error);\n  }\n  get exports() {\n    return this._exports;\n  }\n  /**\n   * Set controller's exports property (for usage with proxyExports()) and mark\n   * controller as ready (for usage in other controllers). Also, triggers\n   * re-render of the component\n   */\n  set exports(exports) {\n    const oldExports = this._exports;\n    if (oldExports !== exports) {\n      this._exports = exports;\n      this._exportWatchers.forEach(safeCall);\n      if (this.connectedCalled && this.assignedProperty !== false) {\n        this.component.requestUpdate(this.assignedProperty, oldExports);\n      }\n    }\n    this._ready.resolve(exports);\n  }\n  setProvisionalExports(exports, proxy = true) {\n    this._exports = proxy ? makeProvisionalValue(exports) : exports;\n    this._exportWatchers.forEach(safeCall);\n  }\n  watchExports(callback) {\n    const safeCallback = () => callback(this._exports);\n    this._exportWatchers.add(safeCallback);\n    return () => void this._exportWatchers.delete(safeCallback);\n  }\n  /**\n   * A flexible utility for making sure a controller is loaded before it's used,\n   * regardless of how or where a controller was defined:\n   *\n   * @example\n   * makeGenericController(async (component, controller) => {\n   *   // Await some controller from the component:\n   *   await controller.use(component.someController);\n   *   // Initialize new controllers\n   *   await controller.use(load(importCoreReactiveUtils));\n   *   await controller.use(new ViewModelController(component,newWidgetsHomeHomeViewModel));\n   *   await controller.use(someController(component));\n   * });\n   *\n   * @remarks\n   * If your controller is not async, and you are not creating it async, then\n   * you are not required to use controller.use - you can use it directly.\n   * Similarly, accessing controllers after componentWillLoad callback does not\n   * require awaiting them as they are guaranteed to be loaded by then.\n   */\n  get use() {\n    setAmbientComponent(this.component);\n    return use;\n  }\n  /**\n   * Just like controller.use, but returns the controller itself, rather than it's\n   * exports\n   *\n   * Use cases:\n   * - You have a controller and you want to make sure it's loaded before you\n   *   try to use it\n   * - Your controller is not using exports, so you wish to access some props on\n   *   it directly\n   * - You have a controller exports only, and you want to retrieve the\n   *   controller itself. This is useful if you wish to call .watchExports() or\n   *   some other method on the controller\n   */\n  get useRef() {\n    setAmbientComponent(this.component);\n    return useRef;\n  }\n  /**\n   * Like useRef, but doesn't wait for the controller to get ready\n   *\n   * @internal\n   */\n  get useRefSync() {\n    setAmbientComponent(this.component);\n    return useRefSync;\n  }\n  controllerRemoved() {\n    if (this.component.el.isConnected) {\n      this.triggerDisconnected();\n    }\n    this.triggerDestroy();\n  }\n  // Register a lifecycle callback\n  onConnected(callback) {\n    this._callbacks.hostConnected.push(callback);\n  }\n  onDisconnected(callback) {\n    this._callbacks.hostDisconnected.push(callback);\n  }\n  onLoad(callback) {\n    this._callbacks.hostLoad.push(callback);\n  }\n  onLoaded(callback) {\n    this._callbacks.hostLoaded.push(callback);\n  }\n  onUpdate(callback) {\n    this._callbacks.hostUpdate.push(callback);\n  }\n  onUpdated(callback) {\n    this._callbacks.hostUpdated.push(callback);\n  }\n  onDestroy(callback) {\n    if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv3()) {\n      this.component.manager.ensureHasDestroy?.();\n    }\n    this._callbacks.hostDestroy.push(callback);\n  }\n  onLifecycle(callback) {\n    this._callbacks.hostLifecycle.push(callback);\n    if (this.connectedCalled && this.component.el.isConnected) {\n      this._callLifecycle(callback);\n    }\n  }\n  // Call each lifecycle hook\n  /** @internal */\n  triggerConnected() {\n    const genericController = this;\n    if (genericController.hostConnected) {\n      safeCall(genericController.hostConnected, genericController);\n    }\n    this._callbacks.hostConnected.forEach(safeCall);\n    this.triggerLifecycle();\n    this.connectedCalled = true;\n  }\n  /** @internal */\n  triggerDisconnected() {\n    const genericController = this;\n    if (genericController.hostDisconnected) {\n      safeCall(genericController.hostDisconnected, genericController);\n    }\n    this._callbacks.hostDisconnected.forEach(safeCall);\n    this._lifecycleCleanups.forEach(safeCall);\n    this._lifecycleCleanups = [];\n  }\n  /** @internal */\n  async triggerLoad() {\n    if (this._loadCalled) {\n      return;\n    }\n    this._loadCalled = true;\n    const genericController = this;\n    if (genericController.hostLoad) {\n      await safeAsyncCall(genericController.hostLoad, genericController);\n    }\n    if (this._callbacks.hostLoad.length > 0) {\n      await Promise.allSettled(this._callbacks.hostLoad.map(safeAsyncCall));\n    }\n    this._ready.resolve(this._exports);\n  }\n  /** @internal */\n  triggerLoaded() {\n    if (this.loadedCalled) {\n      return;\n    }\n    const genericController = this;\n    if (genericController.hostLoaded) {\n      safeCall(genericController.hostLoaded, genericController);\n    }\n    this._callbacks.hostLoaded.forEach(safeCall);\n    this.loadedCalled = true;\n  }\n  /** @internal */\n  triggerUpdate(changes) {\n    const genericController = this;\n    if (genericController.hostUpdate) {\n      safeCall(genericController.hostUpdate, genericController, changes);\n    }\n    this._callbacks.hostUpdate.forEach(callUpdate, changes);\n  }\n  /** @internal */\n  triggerUpdated(changes) {\n    const genericController = this;\n    if (genericController.hostUpdated) {\n      safeCall(genericController.hostUpdated, genericController, changes);\n    }\n    this._callbacks.hostUpdated.forEach(callUpdate, changes);\n  }\n  /** @internal */\n  triggerDestroy() {\n    const genericController = this;\n    if (genericController.hostDestroy) {\n      safeCall(genericController.hostDestroy, genericController);\n    }\n    this._callbacks.hostDestroy.forEach(safeCall);\n  }\n  /** @internal */\n  triggerLifecycle() {\n    const genericController = this;\n    if (genericController.hostLifecycle) {\n      this._callLifecycle(() => genericController.hostLifecycle());\n    }\n    this._callbacks.hostLifecycle.forEach(this._callLifecycle, this);\n  }\n  _callLifecycle(callback) {\n    setAmbientComponent(this.component);\n    const cleanupRaw = safeCall(callback);\n    const cleanup = Array.isArray(cleanupRaw) ? cleanupRaw : [cleanupRaw];\n    cleanup.forEach((cleanup2) => {\n      if (typeof cleanup2 === \"function\") {\n        this._lifecycleCleanups.push(cleanup2);\n      } else if (typeof cleanup2 === \"object\" && typeof cleanup2.remove === \"function\") {\n        this._lifecycleCleanups.push(cleanup2.remove);\n      }\n    });\n  }\n};\nfunction callUpdate(callback) {\n  safeCall(callback, void 0, this);\n}\nvar GenericController = Controller;\nfunction makeProvisionalValue(base) {\n  if (typeof base !== \"object\" && typeof base !== \"function\" || base === null) {\n    return base;\n  }\n  const proxy = new Proxy(base, {\n    get(target, prop, receiver) {\n      if (cyclical.has(prop) && prop in target && target[prop] === proxy) {\n        return void 0;\n      }\n      if (prop in target || prop in Promise.prototype || typeof prop === \"symbol\") {\n        return typeof target === \"function\" ? target[prop] : Reflect.get(target, prop, receiver);\n      }\n      if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv3()) {\n        if (process.env.NODE_ENV === \"test\" && (prop.startsWith(\"$$\") || prop.startsWith(\"@@\") || prop === \"nodeType\" || prop === \"tagName\" || prop === \"toJSON\" || prop === \"hasAttribute\")) {\n          return;\n        }\n        console.error(\n          `Trying to access \"${prop.toString()}\" on the controller before it's loaded. ${accessBeforeLoad}`\n        );\n      }\n      return void 0;\n    },\n    set: (target, prop, newValue, receiver) => {\n      if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv3()) {\n        console.error(`Trying to set \"${prop.toString()}\" on the controller before it's loaded. ${accessBeforeLoad}`);\n      }\n      return Reflect.set(target, prop, newValue, receiver);\n    }\n  });\n  return proxy;\n}\nvar cyclical = /* @__PURE__ */ new Set([\"exports\", \"_exports\"]);\nvar accessBeforeLoad = process.env.NODE_ENV !== \"production\" && isEsriInternalEnv3() ? [\n  \"This might be the case if you are trying to access an async controller in \",\n  \"connectedCallback(). Or, if you are using it inside of \",\n  \"componentWillLoad()/another controller without controller.use. Example correct \",\n  \"usage:\\n\",\n  \"makeController(async (component, controller)=>{ await controller.use(someOtherController); });\"\n].join(\"\") : void 0;\nfunction toControllerHost(component) {\n  if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv3()) {\n    if (\"addController\" in component) {\n      return component;\n    } else {\n      throw new Error(\n        \"Component does not implement ControllerHost. This might be because you forgot to add 'manager: Controller<this> = useControllerManager(this);' in your component, or you tried to use some controller before that line\"\n      );\n    }\n  } else {\n    return component;\n  }\n}\n\n// src/trackPropertyKey.ts\nimport { safeCall as safeCall2 } from \"@arcgis/components-utils\";\nfunction trackPropertyKey(object, onResolved, defaultValue) {\n  const keys = Object.keys(object);\n  const keyCount = keys.length;\n  if (keyTrackMap === void 0) {\n    queueMicrotask(keyTrackResolve);\n  }\n  keyTrackMap ?? (keyTrackMap = /* @__PURE__ */ new Map());\n  let pendingTrackers = keyTrackMap.get(object);\n  if (pendingTrackers === void 0) {\n    pendingTrackers = { callbacks: [], keyCount };\n    keyTrackMap.set(object, pendingTrackers);\n  }\n  if (pendingTrackers.keyCount !== keyCount) {\n    pendingTrackers.callbacks.forEach((resolve) => resolve(keys));\n    pendingTrackers.callbacks = [];\n    pendingTrackers.keyCount = keyCount;\n  }\n  pendingTrackers.callbacks.push((keys2) => {\n    const callback = (key2) => safeCall2(onResolved, null, key2);\n    const key = keys2[keyCount];\n    if (key === void 0) {\n      callback(void 0);\n    } else if (object[key] === defaultValue) {\n      callback(key);\n    } else {\n      callback(void 0);\n    }\n  });\n  return defaultValue;\n}\nvar keyTrackMap = void 0;\nfunction keyTrackResolve() {\n  Array.from(keyTrackMap?.entries() ?? []).forEach(([object, { callbacks }]) => {\n    const keys = Object.keys(object);\n    callbacks.forEach((commit) => commit(keys));\n  });\n  keyTrackMap = void 0;\n}\n\n// src/useWatch.ts\nimport { isEsriInternalEnv as isEsriInternalEnv4, safeCall as safeCall3 } from \"@arcgis/components-utils\";\nfunction watch(component, property, callback) {\n  var _a2;\n  const genericProperty = property;\n  if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv4()) {\n    const type = getMemberType(component, genericProperty);\n    if (type === void 0) {\n      throw new Error(\n        component.manager.isLit ? `Trying to watch a non-@property, non-@state property \"${genericProperty}\". Either convert it into a @state() to be able to use watch() on it, or use the get/set syntax` : `Trying to watch a non-@Prop, non-@State property \"${genericProperty}\". Convert it into a @State() or @Prop property if you need to use watch() on it`\n      );\n    }\n  }\n  const internals = component.manager.internals;\n  (_a2 = internals.allWatchers)[genericProperty] ?? (_a2[genericProperty] = []);\n  const watchers = internals.allWatchers[genericProperty];\n  const genericCallback = callback;\n  const safeCallback = (newValue, oldValue, propertyName) => safeCall3(genericCallback, null, newValue, oldValue, propertyName);\n  watchers.push(safeCallback);\n  return () => {\n    const index = watchers.indexOf(safeCallback);\n    if (index !== -1) {\n      watchers.splice(index, 1);\n    }\n  };\n}\n\n// src/trackPropKey.ts\nimport { safeCall as safeCall4 } from \"@arcgis/components-utils\";\n\n// src/ComponentInternals.ts\nimport { isEsriInternalEnv as isEsriInternalEnv5 } from \"@arcgis/components-utils\";\nvar ComponentInternals = class {\n  constructor(component) {\n    /**\n     * When watchers are set, they are set into `allWatchers`. When watchers are\n     * read in the setter, they are read from `enabledWatchers`.\n     *\n     * In Stencil, on connectedCallback(), controller manager does\n     * `enabledWatchers=allWatchers`. Reasoning:\n     * - This disables watchers until connected callback (matches behavior of\n     *   Stencil's watchers)\n     * - This removes the need for a check in the setter for whether the watchers\n     *   were enabled already or not (as getters/setters are hot path, and should\n     *   be streamlined)\n     *\n     * In Lit, we set enabledWatchers to allWatchers in the constructor.\n     * Reasoning:\n     * - While in Stencil all user provided properties are either set before the\n     *   component constructor (this is possible since Stencil's props store is\n     *   externalized) or after connectedCallback, in Lit the properties may be\n     *   set by attributeChangedCallback before connectedCallback. Thus, we need\n     *   to enable watchers even before connectedCallback.\n     * - This means, that a watcher set for some prop before your component got\n     *   a chance to set the default value will trigger the watcher when the\n     *   default value is set - but, that is inline with Lit's willUpdate behavior\n     *   of triggering for default values AND, the only way to set a watcher\n     *   before default value is if you called watcher inside a controller. For\n     *   now, there are no controllers written outside of arcgis-map-components\n     *   package, so I was able to verify that this change would have no\n     *   negative impact.\n     *\n     * In either way, I plan to remove watchers from controllers once Stencil\n     * support is removed.\n     */\n    this.enabledWatchers = {};\n    this.allWatchers = {};\n    /**\n     * \"readOnly\" is not enabled initially since we need to allow to set property\n     * default values in the constructor.\n     * For Stencil, readonly is enabled by the `readonly()` controller.\n     * For Lit, we have the following logic:\n     */\n    this.enableReadonly = () => {\n      this.enableReadonly = void 0;\n      if (!this.component.manager.isLit) {\n        return;\n      }\n      const internals = this.component.manager.internals;\n      Object.entries(internals.members).forEach(([name2, [type]]) => {\n        var _a2;\n        const isReadOnly = type & 2048 /* ReadOnly */;\n        if (isReadOnly) {\n          (_a2 = internals.setters)[name2] ?? (_a2[name2] = []);\n          internals.setters[name2].push(internals.readonlySetter);\n        }\n      });\n    };\n    this.trackedValue = nothing;\n    this.keyTrackers = [];\n    this.getters = {};\n    this.setters = {};\n    this.accessorGetter = {};\n    this.accessorSetter = {};\n    this._exports = /* @__PURE__ */ new WeakMap();\n    this.readonlySetter = (newValue, _oldValue, property) => {\n      if (shouldBypass.readOnly) {\n        return newValue;\n      }\n      throw new Error(\n        `Cannot assign to read-only property \"${property}\" of ${this.component.el.tagName.toLowerCase()}. Trying to assign \"${String(\n          newValue\n        )}\"`\n      );\n    };\n    if (process.env.NODE_ENV !== \"production\") {\n      Object.defineProperty(this, \"component\", {\n        writable: false,\n        enumerable: false,\n        configurable: true,\n        value: component\n      });\n    } else {\n      this.component = component;\n    }\n  }\n  firePropTrackers(key, value) {\n    const trackers = this.keyTrackers;\n    this.trackedValue = nothing;\n    this.keyTrackers = [];\n    trackers.forEach((tracker) => tracker(key, value));\n  }\n  // REFACTOR: once Stencil is no longer supported, simplify this with Lit's getPropertyDescriptor(), or https://github.com/shoelace-style/shoelace/issues/1990\n  /**\n   * Configure a getter or setter for a given \\@Prop/\\@State\n   *\n   * Since props are defined on the prototype, they are shared between all\n   * instances of a component. Thus, instead of passing a reference to the\n   * getter/setter function, you should update the\n   * ComponentInternals.getters/setters properties, and then call getSetProxy\n   * to apply the changes to the prototype\n   */\n  getSetProxy(property) {\n    const component = this.component;\n    const classPrototype = component.constructor.prototype;\n    this._getSetProxy(classPrototype, property, \"class\");\n    if (component.manager.isLit) {\n      return;\n    }\n    const htmlPrototype = component.el.constructor.prototype;\n    if (classPrototype !== htmlPrototype) {\n      this._getSetProxy(htmlPrototype, property, \"html\");\n    }\n  }\n  _getSetProxy(prototype, name2, type) {\n    const component = this.component;\n    const propType = getMemberType(component, name2);\n    let descriptor;\n    do {\n      descriptor = Object.getOwnPropertyDescriptor(prototype, name2);\n    } while (!descriptor && (prototype = Object.getPrototypeOf(prototype)));\n    if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv5()) {\n      const tolerateNotFound = type === \"html\";\n      if (descriptor?.set === void 0 || descriptor.get === void 0) {\n        if (descriptor !== void 0 && \"value\" in descriptor) {\n          throw new Error(\n            `getSet() should only be used on @Prop/@property/@State/@state properties. For internal component properties, use regular get/set syntax. Tried to use it on \"${name2}\" in ${component.el.tagName}`\n          );\n        } else if (tolerateNotFound) {\n          return;\n        } else {\n          throw new Error(`Unable to find \"${name2}\" property on the ${component.el.tagName} component`);\n        }\n      }\n      if (propType === void 0) {\n        throw new Error(\"Unable to retrieve prop type\");\n      }\n    } else if (!descriptor) {\n      return void 0;\n    }\n    const originalGet = descriptor.get;\n    const originalSet = descriptor.set;\n    const isGetterAlreadyOverwritten = customAccessor in originalGet;\n    const isSetterAlreadyOverwritten = customAccessor in originalSet;\n    if (isGetterAlreadyOverwritten && isSetterAlreadyOverwritten) {\n      return;\n    }\n    const shouldOverwriteGet = !isGetterAlreadyOverwritten;\n    const shouldOverwriteSet = !isSetterAlreadyOverwritten;\n    const finalGetter = shouldOverwriteGet ? function getter() {\n      let value = originalGet.call(this);\n      const component2 = elementToInstance.get(this);\n      if (shouldBypass.getter || component2 === void 0) {\n        return value;\n      }\n      const internals = component2.manager.internals;\n      value = internals.accessorGetter[name2](value, name2);\n      const getters = internals.getters[name2] ?? emptyArray;\n      for (let i = 0; i < getters.length; i++) {\n        value = getters[i](value, name2);\n      }\n      return value;\n    } : originalGet;\n    const finalSetter = shouldOverwriteSet ? function setter(rawNewValue) {\n      const oldValue = originalGet.call(this);\n      const component2 = elementToInstance.get(this);\n      if (component2 === void 0) {\n        originalSet.call(this, rawNewValue);\n        return;\n      }\n      let newValue = component2.manager.isLit ? (\n        /*\n         * Cast `null` to `undefined`.\n         * See https://devtopia.esri.com/WebGIS/arcgis-web-components/discussions/1299\n         */\n        rawNewValue ?? void 0\n      ) : parsePropertyValue(rawNewValue, propType);\n      const internals = component2.manager.internals;\n      if (newValue === oldValue) {\n        originalSet.call(this, newValue);\n      } else {\n        const setters = shouldBypass.setter ? emptyArray : internals.setters[name2] ?? emptyArray;\n        for (let i = 0; i < setters.length; i++) {\n          newValue = setters[i](newValue, oldValue, name2);\n          if (newValue === oldValue) {\n            break;\n          }\n        }\n        newValue = internals.accessorSetter[name2](newValue, oldValue, name2);\n        originalSet.call(this, newValue);\n        if (newValue !== oldValue) {\n          internals.enabledWatchers[name2]?.forEach((watcher) => watcher(newValue, oldValue, name2));\n        }\n      }\n      if (internals.keyTrackers.length > 0) {\n        internals?.firePropTrackers(name2, rawNewValue);\n      }\n    } : originalSet;\n    if (shouldOverwriteGet) {\n      finalGetter[customAccessor] = true;\n    }\n    if (shouldOverwriteSet) {\n      finalSetter[customAccessor] = true;\n    }\n    Object.defineProperty(prototype, name2, {\n      ...descriptor,\n      get: finalGetter,\n      set: finalSetter\n    });\n  }\n  /**\n   * Associate an exports object with a controller for reverse lookup in\n   * controller.use\n   */\n  markExports(controller, exports) {\n    if (typeof exports === \"object\" && exports !== null || typeof exports === \"function\") {\n      this._exports.set(exports, controller);\n    }\n  }\n  resolveExports(exports) {\n    if (typeof exports === \"object\" && exports !== null || typeof exports === \"function\") {\n      return this._exports.get(exports);\n    } else {\n      return void 0;\n    }\n  }\n};\nvar emptyArray = [];\nvar customAccessor = Symbol();\nvar nothing = process.env.NODE_ENV !== \"production\" ? Symbol.for(\n  // Use Symbol.for in dev mode to make it easier to maintain state when doing HMR.\n  `${name}: nothing`\n) : (\n  // eslint-disable-next-line symbol-description\n  Symbol()\n);\n\n// src/trackPropKey.ts\nfunction trackPropKey(component, onResolved, defaultValue) {\n  const internals = component.manager.internals;\n  if (internals.trackedValue !== nothing && internals.trackedValue !== defaultValue) {\n    internals.firePropTrackers(void 0, void 0);\n  }\n  if (internals.keyTrackers.length === 0) {\n    queueMicrotask(() => internals.firePropTrackers(void 0, void 0));\n  }\n  internals.trackedValue = defaultValue;\n  internals.keyTrackers.push((key, value) => safeCall4(onResolved, void 0, defaultValue === value ? key : void 0));\n  return defaultValue;\n}\n\n// src/trackKey.ts\nfunction trackKey(hostsCandidates = [\n  retrieveComponent(),\n  ...retrieveParentControllers()\n], onResolved, defaultValue) {\n  const candidateHosts = Array.isArray(hostsCandidates) ? hostsCandidates : [hostsCandidates];\n  let leftToResolve = candidateHosts.length + 1;\n  const resolved = (resolution) => {\n    leftToResolve -= 1;\n    if (resolution !== void 0) {\n      leftToResolve = Math.min(leftToResolve, 0);\n    }\n    if (leftToResolve === 0) {\n      onResolved(resolution);\n    }\n  };\n  candidateHosts.forEach(\n    (host) => trackPropertyKey(\n      host,\n      (key) => resolved(\n        key === void 0 ? void 0 : {\n          key,\n          host,\n          isReactive: false\n        }\n      ),\n      defaultValue\n    )\n  );\n  const component = candidateHosts.find(\n    (host) => \"manager\" in host && typeof host.manager === \"object\" && host.manager.component === host\n  );\n  if (component) {\n    trackPropKey(\n      component,\n      (key) => resolved(\n        key === void 0 ? void 0 : {\n          key,\n          host: component,\n          isReactive: true\n        }\n      ),\n      defaultValue\n    );\n  }\n  return defaultValue;\n}\n\n// src/getSet.ts\nimport { isEsriInternalEnv as isEsriInternalEnv6 } from \"@arcgis/components-utils\";\nfunction getSet(defaultValue, getSet2) {\n  const component = retrieveComponent();\n  return trackPropKey(\n    component,\n    (rawName) => {\n      if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv6() && rawName === void 0) {\n        throw new Error(\n          \"Unable to resolve get/set's prop name. Make sure you are using it like @Prop() someProp = getSet(defaultValue,{get,set})\"\n        );\n      }\n      const name2 = rawName;\n      const manager = component.manager;\n      const genericComponent = component;\n      const value = genericComponent[name2];\n      const isStencilHotReload = process.env.NODE_ENV !== \"production\" && isEsriInternalEnv6() && !manager.isLit && devOnlyGetPersistentControllerData?.(manager) === true;\n      if (value != null && value !== defaultValue && typeof getSet2.set === \"function\" && !isStencilHotReload) {\n        const newValue = getSet2.set(value, defaultValue, name2);\n        if (newValue !== value) {\n          if (manager.isLit) {\n            genericComponent[name2] = newValue;\n          } else {\n            let firstConnected = true;\n            manager.onConnected(() => {\n              if (!firstConnected) {\n                return;\n              }\n              firstConnected = true;\n              bypassSetter(() => {\n                genericComponent[name2] = newValue;\n              });\n            });\n          }\n        }\n      }\n      genericGetSet(component, name2, getSet2);\n    },\n    defaultValue\n  );\n}\nvar dynamicGetSet = (component, property, getSet2) => genericGetSet(component, property, getSet2);\nfunction bypassSetter(callback) {\n  shouldBypass.setter = true;\n  try {\n    return callback();\n  } finally {\n    shouldBypass.setter = false;\n  }\n}\nfunction bypassGetter(callback) {\n  shouldBypass.getter = true;\n  try {\n    return callback();\n  } finally {\n    shouldBypass.getter = false;\n  }\n}\nfunction genericGetSet(component, property, getSet2) {\n  var _a2, _b;\n  const genericGetSet2 = getSet2;\n  const internals = component.manager.internals;\n  const get = typeof genericGetSet2.get === \"function\" ? genericGetSet2.get : void 0;\n  if (get) {\n    (_a2 = internals.getters)[property] ?? (_a2[property] = []);\n    internals.getters[property].unshift(get);\n  }\n  const set = genericGetSet2.set === \"ignore\" ? ignoreSet : genericGetSet2.set;\n  if (set) {\n    (_b = internals.setters)[property] ?? (_b[property] = []);\n    internals.setters[property].unshift(\n      set\n    );\n  }\n}\nvar ignoreSet = (_, value) => value;\n\n// src/readonly.ts\nfunction readonly(value) {\n  const component = retrieveComponent();\n  return getSet(value, { set: component.manager.internals.readonlySetter });\n}\nfunction bypassReadOnly(callback) {\n  shouldBypass.readOnly = true;\n  try {\n    return callback();\n  } finally {\n    shouldBypass.readOnly = false;\n  }\n}\n\n// src/proxyExports.ts\nvar proxyExports = (Class) => (...args) => {\n  const ambientControllers2 = retrieveParentControllers();\n  const instance = new Class(...args);\n  const initialExports = instance.exports;\n  setParentController(ambientControllers2.at(-1));\n  const internals = instance.component.manager.internals;\n  internals.markExports(instance, initialExports);\n  instance.watchExports((exports) => internals.markExports(instance, exports));\n  setAmbientChildController(instance);\n  const hostCandidates = [instance.component, ...ambientControllers2].reverse();\n  return trackKey(\n    hostCandidates,\n    (resolution) => resolution === void 0 ? void 0 : setProxy(instance, resolution, initialExports),\n    initialExports\n  );\n};\nfunction setProxy(controller, { host, key, isReactive: assignedToProp }, initialExports) {\n  const genericHost = host;\n  const controllerValueChanged = genericHost[key] !== controller.exports;\n  const hostValueChanged = genericHost[key] !== initialExports;\n  const controllerUpdatedExports = initialExports !== controller.exports;\n  if (controllerValueChanged && !hostValueChanged && controllerUpdatedExports) {\n    genericHost[key] = controller.exports;\n  }\n  const isProxyExportsOnComponent = host === controller.component;\n  if (isProxyExportsOnComponent) {\n    if (assignedToProp) {\n      const internals = controller.component.manager.internals;\n      if (hostValueChanged) {\n        internals.markExports(controller, genericHost[key]);\n      }\n      watch(controller.component, key, (value) => {\n        if (value !== controller.exports) {\n          internals.markExports(controller, value);\n        }\n      });\n    }\n    controller.assignedProperty = assignedToProp ? void 0 : key;\n  }\n  controller.watchExports(() => {\n    if (genericHost[key] === controller.exports) {\n      return;\n    }\n    const manager = controller.component.manager;\n    const isReadOnly = manager.internals.setters[key]?.includes(manager.internals.readonlySetter);\n    if (isReadOnly) {\n      bypassReadOnly(() => {\n        genericHost[key] = controller.exports;\n      });\n    } else {\n      genericHost[key] = controller.exports;\n    }\n  });\n}\n\nexport {\n  controllerSymbol,\n  isController,\n  devOnlySetPersistentControllerData,\n  devOnlyGetPersistentControllerData,\n  setAmbientComponent,\n  retrieveComponent,\n  setParentController,\n  retrieveParentControllers,\n  elementToInstance,\n  Controller,\n  GenericController,\n  trackPropertyKey,\n  keyTrackResolve,\n  ComponentInternals,\n  watch,\n  trackPropKey,\n  trackKey,\n  getSet,\n  dynamicGetSet,\n  bypassSetter,\n  bypassGetter,\n  readonly,\n  bypassReadOnly,\n  proxyExports\n};\n","import {\n  ComponentInternals,\n  Controller,\n  GenericController,\n  bypassGetter,\n  bypassReadOnly,\n  bypassSetter,\n  controllerSymbol,\n  devOnlySetPersistentControllerData,\n  dynamicGetSet,\n  elementToInstance,\n  getSet,\n  isController,\n  keyTrackResolve,\n  proxyExports,\n  readonly,\n  retrieveComponent,\n  retrieveParentControllers,\n  setAmbientComponent,\n  setParentController,\n  trackKey,\n  trackPropKey,\n  trackPropertyKey,\n  watch\n} from \"./chunk-PP2BAVRW.js\";\nimport {\n  retrieveComponentMembers\n} from \"./chunk-XKVBN44N.js\";\n\n// src/ControllerManager.ts\nimport { Deferred, isEsriInternalEnv, safeAsyncCall, safeCall } from \"@arcgis/components-utils\";\nimport { devToolsAwareTimeout } from \"@arcgis/components-utils\";\nvar useControllerManager = (component, forceUpdate) => new ControllerManager(component, forceUpdate);\nvar ControllerManager = class extends GenericController {\n  constructor(component, forceUpdate) {\n    const isLit = \"addController\" in component;\n    if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv() && !isLit) {\n      Object.defineProperty(component.el, \"__component\", {\n        value: component\n      });\n      ({});\n    }\n    const controllers = /* @__PURE__ */ new Set();\n    function addController(controller) {\n      controllers.add(controller);\n      if (!(controllerSymbol in controller) && component.renderRoot && component.el.isConnected) {\n        controller.hostConnected?.();\n      }\n    }\n    function removeController(controller) {\n      void controllers.delete(controller);\n      controller.controllerRemoved?.();\n    }\n    const controllerHost = component;\n    controllerHost.addController = addController;\n    controllerHost.removeController = removeController;\n    if (!isLit) {\n      const update = forceUpdate ?? component.constructor.__forceUpdate;\n      controllerHost.requestUpdate = () => update(component);\n    }\n    if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv()) {\n      const stencilToLitMapping = {\n        componentDidLoad: \"loaded\",\n        componentDidRender: \"updated\",\n        componentDidUpdate: \"updated\",\n        componentShouldUpdate: \"shouldUpdate\",\n        componentWillLoad: \"load\",\n        componentWillRender: \"willUpdate\",\n        componentWillUpdate: \"willUpdate\"\n      };\n      Object.entries(stencilToLitMapping).forEach(([stencilMethod, litMethod]) => {\n        if (isLit && stencilMethod in component) {\n          throw new Error(\n            `Unexpected ${stencilMethod}() in a Lit component ${component.el.tagName.toLowerCase()}. In Lit, you should use ${litMethod}() instead`\n          );\n        }\n        if (!isLit && litMethod in component) {\n          throw new Error(\n            `Unexpected ${litMethod}() in a Stencil component ${component.el.tagName.toLowerCase()}. In Stencil, you should use ${litMethod}() instead`\n          );\n        }\n      });\n      if (isLit) {\n        let i = 0;\n        let isLitElementClass = false;\n        for (let prototype = component; !isLitElementClass; i++) {\n          if (prototype === null) {\n            throw new Error(\"Expected controllers to be used in a LitElement class\");\n          }\n          if (Object.hasOwn(prototype, \"_load\")) {\n            isLitElementClass = true;\n            break;\n          }\n          prototype = Object.getPrototypeOf(prototype);\n        }\n        if (i < 1) {\n          throw new Error(\n            \"It looks like you are trying to call useControllerManager in a component that uses LitElement imported from 'lit'. useControllerManager should only be used in the LitElement coming from `@arcgis/lumina`\"\n          );\n        }\n      }\n    }\n    super(component);\n    /** @internal */\n    this.internals = new ComponentInternals(this.component);\n    this.destroyed = false;\n    this._updatePromise = new Deferred();\n    this._originalLifecycles = {};\n    this.isLit = isLit;\n    this.component.manager = this;\n    retrieveComponentMembers(component, isLit);\n    this._controllers = controllers;\n    this.exports = void 0;\n    this.hasDestroy = autoDestroyDisabledPropName in this.component && typeof this.component.destroy === \"function\";\n    this._bindLifecycleMethods();\n    const internals = this.internals;\n    Object.keys(internals.members).forEach((name) => {\n      internals.accessorGetter[name] = defaultGetterSetter;\n      internals.accessorSetter[name] = defaultGetterSetter;\n      internals.getSetProxy(name);\n    });\n    if (isLit) {\n      this.internals.enabledWatchers = this.internals.allWatchers;\n    } else {\n      Object.defineProperty(component, \"updateComplete\", {\n        get: async () => await this._updatePromise.promise\n      });\n    }\n    queueMicrotask(internals.enableReadonly);\n    setAmbientComponent(component);\n    elementToInstance.set(component.el, component);\n    elementToInstance.set(component, component);\n  }\n  _bindLifecycleMethods() {\n    const component = this.component;\n    const isLit = this.isLit;\n    const isStencilDistBuild = component.el === component;\n    this._originalLifecycles = {\n      // These component's callbacks will be called by Lit, so we don't have to\n      _connectedCallback: isLit || isStencilDistBuild ? void 0 : component.connectedCallback,\n      _disconnectedCallback: isLit || isStencilDistBuild ? void 0 : component.disconnectedCallback,\n      _load: isLit ? component.load : component.componentWillLoad,\n      _loaded: isLit ? component.loaded : component.componentDidLoad,\n      _willUpdate: isLit ? void 0 : component.componentWillUpdate,\n      _updated: isLit ? void 0 : component.componentDidUpdate,\n      _destroy: component.destroy\n    };\n    const hostConnected = this._connectedCallback.bind(this);\n    const hostDisconnected = this._disconnectedCallback.bind(this);\n    const hostUpdate = this._update.bind(this);\n    const hostUpdated = this._updated.bind(this);\n    if (isLit) {\n      component.constructor.prototype.addController.call(component, {\n        // Lit will call these callbacks\n        hostConnected,\n        hostDisconnected,\n        hostUpdate,\n        hostUpdated\n      });\n    } else {\n      component.connectedCallback = hostConnected;\n      component.disconnectedCallback = hostDisconnected;\n      component.componentWillLoad = this._load.bind(this);\n      component.componentDidLoad = this._loaded.bind(this);\n      component.componentWillUpdate = hostUpdate;\n      component.componentDidUpdate = hostUpdated;\n    }\n    if (this.hasDestroy) {\n      component.destroy = this.destroy.bind(this);\n    }\n  }\n  /**\n   * Private because this is not supposed to be called by Component directly.\n   * Instead, _bindLifecycleMethods will take care of that. Otherwise, you risk\n   * calling lifecycle methods twice.\n   *\n   * @internal\n   */\n  _connectedCallback() {\n    if (this.destroyed) {\n      const tagName = this.component.el.tagName.toLowerCase();\n      this.component.el.remove();\n      throw new Error(\n        `The ${tagName} component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ${autoDestroyDisabledPropName} prop.`\n      );\n    }\n    if (this._autoDestroyTimeout !== void 0) {\n      clearTimeout(this._autoDestroyTimeout);\n    }\n    const internals = this.internals;\n    internals.enabledWatchers = internals.allWatchers;\n    keyTrackResolve();\n    internals.enableReadonly?.();\n    this._controllers.forEach(callConnected);\n    this._originalLifecycles._connectedCallback?.call(this.component);\n    if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv()) {\n      devOnlySetPersistentControllerData?.(this, true);\n    }\n  }\n  /** @internal */\n  _disconnectedCallback() {\n    if (this.destroyed) {\n      return;\n    }\n    this._controllers.forEach(callDisconnected);\n    this._originalLifecycles._disconnectedCallback?.call(this.component);\n    if (this.hasDestroy) {\n      this._setAutoDestroyTimeout();\n    }\n  }\n  /** @internal */\n  async _load() {\n    await Promise.allSettled(Array.from(this._controllers, callLoad));\n    await this._originalLifecycles._load?.call(this.component);\n    if (this.hasDestroy) {\n      watch(this.component, autoDestroyDisabledPropName, () => this._setAutoDestroyTimeout());\n    }\n  }\n  /** @internal */\n  _loaded() {\n    this._controllers.forEach(callLoaded);\n    this._originalLifecycles._loaded?.call(this.component);\n  }\n  _update() {\n    const maybeLitComponent = this.component;\n    this._controllers.forEach(callUpdate, maybeLitComponent.$changes);\n    return this._originalLifecycles._willUpdate?.call(this.component);\n  }\n  _updated() {\n    const maybeLitComponent = this.component;\n    this._controllers.forEach(callUpdated, maybeLitComponent.$changes);\n    this._originalLifecycles._updated?.call(this.component);\n    if (this.isLit) {\n      maybeLitComponent.$changes = /* @__PURE__ */ new Map();\n    } else {\n      const updatePromise = this._updatePromise;\n      this._updatePromise = new Deferred();\n      updatePromise.resolve(true);\n    }\n  }\n  async destroy() {\n    if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv()) {\n      this.ensureHasDestroy?.();\n    }\n    if (this.destroyed) {\n      return;\n    }\n    if (this.component.el.isConnected) {\n      this.hasDestroy = false;\n      try {\n        this.component.el.remove();\n      } finally {\n        this.hasDestroy = true;\n      }\n    }\n    this._autoDestroyTimeout = void 0;\n    this.destroyed = true;\n    this._controllers.forEach(callDestroy);\n    this._controllers.clear();\n    await this._originalLifecycles._destroy?.call(this.component);\n  }\n  _setAutoDestroyTimeout() {\n    if (this._autoDestroyTimeout !== void 0) {\n      clearTimeout(this._autoDestroyTimeout);\n    }\n    if (!this.component.el.isConnected && !this.component.autoDestroyDisabled) {\n      const destroy = () => void this.destroy().catch(console.error);\n      if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv() && autoDestroyOnDisconnectTimeout === 0) {\n        queueMicrotask(destroy);\n      } else {\n        this._autoDestroyTimeout = devToolsAwareTimeout(destroy, autoDestroyOnDisconnectTimeout);\n      }\n    }\n  }\n};\nif (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv()) {\n  ControllerManager.prototype.ensureHasDestroy = function ensureHasDestroy() {\n    if (!this.hasDestroy) {\n      throw new Error(\n        `\n          If the component uses a controller that uses destroy() method, then the\n          component must have the following properties:\n          /**\n           * If true, the component will not be destroyed automatically when it is\n           * disconnected from the document. This is useful when you want to move the\n           * component to a different place on the page, or temporarily hide it. If this\n           * is set, make sure to call the \\`destroy\\` method when you are done to prevent\n           * memory leaks.\n           */\n          @${this.isLit ? \"property\" : \"Prop\"}() ${autoDestroyDisabledPropName} = false;\n          \n          /** Permanently destroy the component */\n          @${this.isLit ? \"method\" : \"Method\"}()\n          async destroy(): Promise<void> {\n            await this.manager.destroy();\n          }\n          `.trim().split(\"\\n\").map((line) => line.trim()).join(\"\\n\")\n      );\n    }\n  };\n}\nvar autoDestroyDisabledPropName = \"autoDestroyDisabled\";\nvar autoDestroyOnDisconnectTimeout = 1e3;\nvar exportsForTests = process.env.NODE_ENV !== \"production\" && isEsriInternalEnv() ? {\n  setAutoDestroyOnDisconnectTimeout: (timeout) => {\n    autoDestroyOnDisconnectTimeout = timeout;\n  }\n} : void 0;\nvar defaultGetterSetter = (value) => value;\nfunction callConnected(controller) {\n  if (\"triggerConnected\" in controller) {\n    controller.triggerConnected();\n  } else {\n    safeCall(controller.hostConnected, controller);\n  }\n}\nfunction callDisconnected(controller) {\n  if (\"triggerDisconnected\" in controller) {\n    controller.triggerDisconnected();\n  } else {\n    safeCall(controller.hostDisconnected, controller);\n  }\n}\nasync function callLoad(controller) {\n  if (\"triggerLoad\" in controller) {\n    await controller.triggerLoad();\n  } else {\n    await safeAsyncCall(controller.hostLoad, controller);\n  }\n}\nfunction callLoaded(controller) {\n  if (\"triggerLoaded\" in controller) {\n    controller.triggerLoaded();\n  } else {\n    safeCall(controller.hostLoaded, controller);\n  }\n}\nfunction callUpdate(controller) {\n  if (\"triggerUpdate\" in controller) {\n    controller.triggerUpdate(this);\n  } else {\n    safeCall(controller.hostUpdate, controller, this);\n  }\n}\nfunction callUpdated(controller) {\n  if (\"triggerUpdated\" in controller) {\n    controller.triggerUpdated(this);\n  } else {\n    safeCall(controller.hostUpdated, controller, this);\n  }\n}\nfunction callDestroy(controller) {\n  if (\"triggerDestroy\" in controller) {\n    controller.triggerDestroy();\n  } else {\n    safeCall(controller.hostDestroy, controller);\n  }\n}\n\n// src/functional.ts\nvar makeController = (constructor) => proxy(void 0, constructor);\nvar makeGenericController = (constructor) => (component) => proxy(\n  component,\n  /**\n   * GenericController is identical to Controller, in all except for typing.\n   * So dying a type-cast here so as not to needlessly add one more object\n   * to the prototype chain\n   */\n  constructor\n);\nvar FunctionalController = class extends Controller {\n  constructor(component, constructor) {\n    super(component);\n    const originalExports = this.exports;\n    try {\n      setAmbientComponent(this.component);\n      const value = constructor(this.component, this);\n      const constructorChangedExports = this.exports !== originalExports;\n      if (value instanceof Promise) {\n        if (!constructorChangedExports) {\n          this.setProvisionalExports(value);\n        }\n        const resolved = value.then((result) => {\n          this.exports = result;\n          super.catchUpLifecycle();\n        }).catch((error) => {\n          this._ready.reject(error);\n          console.error(error);\n        });\n        this.onLoad(async () => await resolved);\n      } else {\n        if (!constructorChangedExports || value !== void 0) {\n          this.exports = value;\n        }\n        queueMicrotask(() => super.catchUpLifecycle());\n      }\n    } catch (error) {\n      this._ready.reject(error);\n      console.error(error);\n    }\n  }\n  /** Noop - will be called in the constructor instead */\n  catchUpLifecycle() {\n    return;\n  }\n};\nvar proxy = proxyExports(FunctionalController);\n\n// src/useWatchAttributes.ts\nvar useWatchAttributes = (attributes, callback) => new AttributeWatchController(attributes, callback);\nvar AttributeWatchController = class extends Controller {\n  constructor(_attributes, _callback) {\n    super();\n    this._attributes = _attributes;\n    this._callback = _callback;\n    this._observer = new MutationObserver((mutations) => {\n      mutations.forEach((mutation) => {\n        if (_attributes.includes(mutation.attributeName)) {\n          _callback.call(\n            this.component,\n            this.component.el.getAttribute(mutation.attributeName),\n            mutation.oldValue,\n            mutation.attributeName\n          );\n        }\n      });\n    });\n  }\n  hostConnected() {\n    this._attributes.forEach((attribute) => {\n      if (this.component.el.hasAttribute(attribute)) {\n        this._callback.call(this.component, null, this.component.el.getAttribute(attribute), attribute);\n      }\n    });\n    this._observer.observe(this.component.el, {\n      attributes: true,\n      attributeOldValue: true,\n      attributeFilter: this._attributes\n    });\n  }\n  hostDisconnected() {\n    this._observer.disconnect();\n  }\n};\n\n// src/load.ts\nvar load = makeController;\n\n// src/toFunction.ts\nvar toFunction = (Class) => (...args) => {\n  const ambientControllers = retrieveParentControllers();\n  const instance = new Class(...args);\n  setParentController(ambientControllers.at(-1));\n  return instance;\n};\n\n// src/useMedia.ts\nvar useMedia = (query) => makeController((_component, controller) => {\n  const media = globalThis.matchMedia(query);\n  function changed() {\n    controller.exports = media.matches;\n  }\n  changed();\n  controller.onLifecycle(() => {\n    media.addEventListener(\"change\", changed);\n    return () => media.removeEventListener(\"change\", changed);\n  });\n  return void 0;\n});\n\n// src/useDirection.ts\nimport { getElementAttribute, isEsriInternalEnv as isEsriInternalEnv2, observeAncestorsMutation } from \"@arcgis/components-utils\";\nvar defaultDirection = \"ltr\";\nvar useDirection = () => makeController((component, controller) => {\n  controller.exports = defaultDirection;\n  controller.onLifecycle(() => {\n    function callback() {\n      const dir = getElementAttribute(component.el, \"dir\", defaultDirection);\n      controller.exports = dir === \"rtl\" ? \"rtl\" : \"ltr\";\n    }\n    callback();\n    return observeAncestorsMutation(component.el, [\"dir\"], callback);\n  });\n  if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv2()) {\n    trackKey(\n      component,\n      (resolved) => {\n        if (resolved?.key === \"dir\") {\n          throw new Error(\n            `Do not assign this controller to a prop called \\`dir\\` as that will overwrite the \\`dir\\` attribute on the host element - component should not be setting the \\`dir\\` attribute on itself. Instead, assign this controller to a property called \\`direction\\`.`\n          );\n        }\n      },\n      controller.exports\n    );\n  }\n  return void 0;\n});\n\n// src/useT9n.ts\nimport { getElementLocales, startLocaleObserver } from \"@arcgis/components-utils\";\nvar makeT9nController = (getAssetPath) => (options = {}) => (\n  // eslint-disable-next-line @typescript-eslint/promise-function-async\n  makeController((component, controller) => {\n    const locale = getElementLocales(component.el);\n    const pending = {\n      _lang: locale.lang,\n      _t9nLocale: locale.t9nLocale,\n      _loading: true\n    };\n    const componentWithOverrides = component;\n    controller.onLifecycle(\n      () => startLocaleObserver(\n        component.el,\n        () => getAssetPath(\"./assets\"),\n        ({ t9nLocale, t9nStrings, lang }) => {\n          const withoutOverrides = {\n            ...t9nStrings,\n            _lang: lang,\n            _t9nLocale: t9nLocale,\n            _loading: false\n          };\n          controller.exports = withoutOverrides;\n          const label = t9nStrings.componentLabel;\n          if (typeof label === \"string\" && \"label\" in component && component.label == null) {\n            component.label ?? (component.label = label);\n          }\n          applyOverrides(componentWithOverrides.messageOverrides);\n        },\n        options.name\n      )\n    );\n    function applyOverrides(messageOverrides) {\n      const currentValue = controller.exports;\n      const rawMessages = currentValue._original ?? currentValue;\n      const updated = deepMerge(rawMessages, messageOverrides);\n      if (messageOverrides) {\n        updated._original = rawMessages;\n      }\n      controller.exports = updated;\n    }\n    if (\"messageOverrides\" in componentWithOverrides) {\n      controller.onLifecycle(() => watch(componentWithOverrides, \"messageOverrides\", applyOverrides));\n    }\n    if (options.blocking) {\n      controller.setProvisionalExports(pending, false);\n      return controller.ready;\n    } else {\n      return pending;\n    }\n  })\n);\nfunction deepMerge(original, overwrites) {\n  if (!overwrites) {\n    return original;\n  }\n  const merged = { ...original };\n  Object.entries(overwrites).forEach(([key, value]) => {\n    if (typeof value === \"object\") {\n      merged[key] = deepMerge(original[key], value);\n    } else {\n      merged[key] = value ?? original[key];\n    }\n  });\n  return merged;\n}\n\n// src/usePropertyChange.ts\nimport { isEsriInternalEnv as isEsriInternalEnv3 } from \"@arcgis/components-utils\";\nvar usePropertyChange = (_component) => propertyChangeController;\nvar eventName = \"arcgisPropertyChange\";\nfunction propertyChangeController(...toWatch) {\n  const component = retrieveComponent();\n  const eventedComponent = component;\n  let eventEmitter = eventedComponent[eventName];\n  if (component.manager.isLit) {\n    eventEmitter = component.constructor.$createEvent(eventName, void 0, component);\n    if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv3()) {\n      if (typeof eventEmitter !== \"object\" || eventEmitter === null || !(\"emit\" in eventEmitter) || typeof eventEmitter.emit !== \"function\") {\n        throw new Error(`Expected to find $createEvent static property on Lumina's LitElement\"`);\n      }\n    }\n  }\n  if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv3()) {\n    if (typeof eventEmitter !== \"object\" || eventEmitter === null || !(\"emit\" in eventEmitter) || typeof eventEmitter.emit !== \"function\") {\n      throw new Error(\n        `For consistency, usePropertyChange must be assigned to an arcgisPropertyChange property that has an @Event() decorator`\n      );\n    }\n    const allProps = new Set(\n      Object.entries(component.manager.internals.members).filter(([_name, [propType]]) => (propType & 31 /* Prop */) !== 0).map(([name]) => name)\n    );\n    toWatch.forEach((prop) => {\n      if (!allProps.has(prop)) {\n        throw new Error(\n          prop in component ? `For usePropertyChange to emit event on \"${prop}\" property change, you should add @${component.manager.isLit ? \"property\" : \"Prop\"}() to ${prop} in ${component.el.tagName.toLowerCase()}` : `usePropertyChange can't emit event on \"${prop}\" property change as such property does not exist in ${component.el.tagName.toLowerCase()}`\n        );\n      }\n    });\n  }\n  component.manager.onLoad(\n    () => component.manager.onLifecycle(\n      () => toWatch.map(\n        (name) => (\n          // Casting to 'el' to simplify dynamic prop name typing\n          watch(component, name, () => eventEmitter.emit({ name }))\n        )\n      )\n    )\n  );\n  if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv3() && component.manager.isLit) {\n    trackKey(\n      component,\n      (resolution) => {\n        if (resolution === void 0 || resolution.isReactive || resolution.key !== eventName) {\n          throw new Error(\n            `For consistency, usePropertyChange must be assigned to an arcgisPropertyChange property and that property should not have @property() or @state() decorators: arcgisPropertyChange = usePropertyChange<this>()(\"prop1\", \"prop2\");`\n          );\n        }\n      },\n      eventEmitter\n    );\n  }\n  return eventEmitter;\n}\nexport {\n  Controller,\n  GenericController,\n  bypassGetter,\n  bypassReadOnly,\n  bypassSetter,\n  controllerSymbol,\n  dynamicGetSet,\n  getSet,\n  isController,\n  keyTrackResolve,\n  load,\n  makeController,\n  makeGenericController,\n  makeT9nController,\n  proxyExports,\n  readonly,\n  retrieveComponent,\n  toFunction,\n  trackKey,\n  trackPropKey,\n  trackPropertyKey,\n  useControllerManager,\n  useDirection,\n  useMedia,\n  usePropertyChange,\n  useWatchAttributes,\n  watch\n};\n","/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,e=t.ShadowRoot&&(void 0===t.ShadyCSS||t.ShadyCSS.nativeShadow)&&\"adoptedStyleSheets\"in Document.prototype&&\"replace\"in CSSStyleSheet.prototype,s=Symbol(),o=new WeakMap;class n{constructor(t,e,o){if(this._$cssResult$=!0,o!==s)throw Error(\"CSSResult is not constructable. Use `unsafeCSS` or `css` instead.\");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const s=this.t;if(e&&void 0===t){const e=void 0!==s&&1===s.length;e&&(t=o.get(s)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),e&&o.set(s,t))}return t}toString(){return this.cssText}}const r=t=>new n(\"string\"==typeof t?t:t+\"\",void 0,s),i=(t,...e)=>{const o=1===t.length?t[0]:e.reduce(((e,s,o)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if(\"number\"==typeof t)return t;throw Error(\"Value passed to 'css' function must be a 'css' function result: \"+t+\". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.\")})(s)+t[o+1]),t[0]);return new n(o,t,s)},S=(s,o)=>{if(e)s.adoptedStyleSheets=o.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(const e of o){const o=document.createElement(\"style\"),n=t.litNonce;void 0!==n&&o.setAttribute(\"nonce\",n),o.textContent=e.cssText,s.appendChild(o)}},c=e?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e=\"\";for(const s of t.cssRules)e+=s.cssText;return r(e)})(t):t;export{n as CSSResult,S as adoptStyles,i as css,c as getCompatibleStyle,e as supportsAdoptingStyleSheets,r as unsafeCSS};\n//# sourceMappingURL=css-tag.js.map\n","import{getCompatibleStyle as t,adoptStyles as s}from\"./css-tag.js\";export{CSSResult,adoptStyles,css,getCompatibleStyle,supportsAdoptingStyleSheets,unsafeCSS}from\"./css-tag.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const{is:i,defineProperty:e,getOwnPropertyDescriptor:r,getOwnPropertyNames:h,getOwnPropertySymbols:o,getPrototypeOf:n}=Object,a=globalThis,c=a.trustedTypes,l=c?c.emptyScript:\"\",p=a.reactiveElementPolyfillSupport,d=(t,s)=>t,u={toAttribute(t,s){switch(s){case Boolean:t=t?l:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,s){let i=t;switch(s){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},f=(t,s)=>!i(t,s),y={attribute:!0,type:String,converter:u,reflect:!1,hasChanged:f};Symbol.metadata??=Symbol(\"metadata\"),a.litPropertyMetadata??=new WeakMap;class b extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,s=y){if(s.state&&(s.attribute=!1),this._$Ei(),this.elementProperties.set(t,s),!s.noAccessor){const i=Symbol(),r=this.getPropertyDescriptor(t,i,s);void 0!==r&&e(this.prototype,t,r)}}static getPropertyDescriptor(t,s,i){const{get:e,set:h}=r(this.prototype,t)??{get(){return this[s]},set(t){this[s]=t}};return{get(){return e?.call(this)},set(s){const r=e?.call(this);h.call(this,s),this.requestUpdate(t,r,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??y}static _$Ei(){if(this.hasOwnProperty(d(\"elementProperties\")))return;const t=n(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(d(\"finalized\")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(d(\"properties\"))){const t=this.properties,s=[...h(t),...o(t)];for(const i of s)this.createProperty(i,t[i])}const t=this[Symbol.metadata];if(null!==t){const s=litPropertyMetadata.get(t);if(void 0!==s)for(const[t,i]of s)this.elementProperties.set(t,i)}this._$Eh=new Map;for(const[t,s]of this.elementProperties){const i=this._$Eu(t,s);void 0!==i&&this._$Eh.set(i,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(s){const i=[];if(Array.isArray(s)){const e=new Set(s.flat(1/0).reverse());for(const s of e)i.unshift(t(s))}else void 0!==s&&i.push(t(s));return i}static _$Eu(t,s){const i=s.attribute;return!1===i?void 0:\"string\"==typeof i?i:\"string\"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,s=this.constructor.elementProperties;for(const i of s.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return s(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,s,i){this._$AK(t,i)}_$EC(t,s){const i=this.constructor.elementProperties.get(t),e=this.constructor._$Eu(t,i);if(void 0!==e&&!0===i.reflect){const r=(void 0!==i.converter?.toAttribute?i.converter:u).toAttribute(s,i.type);this._$Em=t,null==r?this.removeAttribute(e):this.setAttribute(e,r),this._$Em=null}}_$AK(t,s){const i=this.constructor,e=i._$Eh.get(t);if(void 0!==e&&this._$Em!==e){const t=i.getPropertyOptions(e),r=\"function\"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:u;this._$Em=e,this[e]=r.fromAttribute(s,t.type),this._$Em=null}}requestUpdate(t,s,i){if(void 0!==t){if(i??=this.constructor.getPropertyOptions(t),!(i.hasChanged??f)(this[t],s))return;this.P(t,s,i)}!1===this.isUpdatePending&&(this._$ES=this._$ET())}P(t,s,i){this._$AL.has(t)||this._$AL.set(t,s),!0===i.reflect&&this._$Em!==t&&(this._$Ej??=new Set).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,s]of this._$Ep)this[t]=s;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[s,i]of t)!0!==i.wrapped||this._$AL.has(s)||void 0===this[s]||this.P(s,this[s],i)}let t=!1;const s=this._$AL;try{t=this.shouldUpdate(s),t?(this.willUpdate(s),this._$EO?.forEach((t=>t.hostUpdate?.())),this.update(s)):this._$EU()}catch(s){throw t=!1,this._$EU(),s}t&&this._$AE(s)}willUpdate(t){}_$AE(t){this._$EO?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&=this._$Ej.forEach((t=>this._$EC(t,this[t]))),this._$EU()}updated(t){}firstUpdated(t){}}b.elementStyles=[],b.shadowRootOptions={mode:\"open\"},b[d(\"elementProperties\")]=new Map,b[d(\"finalized\")]=new Map,p?.({ReactiveElement:b}),(a.reactiveElementVersions??=[]).push(\"2.0.4\");export{b as ReactiveElement,u as defaultConverter,f as notEqual};\n//# sourceMappingURL=reactive-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,i=t.trustedTypes,s=i?i.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,e=\"$lit$\",h=`lit$${Math.random().toFixed(9).slice(2)}$`,o=\"?\"+h,n=`<${o}>`,r=document,l=()=>r.createComment(\"\"),c=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,a=Array.isArray,u=t=>a(t)||\"function\"==typeof t?.[Symbol.iterator],d=\"[ \\t\\n\\f\\r]\",f=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,v=/-->/g,_=/>/g,m=RegExp(`>|${d}(?:([^\\\\s\"'>=/]+)(${d}*=${d}*(?:[^ \\t\\n\\f\\r\"'\\`<>=]|(\"|')|))|$)`,\"g\"),p=/'/g,g=/\"/g,$=/^(?:script|style|textarea|title)$/i,y=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),x=y(1),b=y(2),w=y(3),T=Symbol.for(\"lit-noChange\"),E=Symbol.for(\"lit-nothing\"),A=new WeakMap,C=r.createTreeWalker(r,129);function P(t,i){if(!a(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return void 0!==s?s.createHTML(i):i}const V=(t,i)=>{const s=t.length-1,o=[];let r,l=2===i?\"<svg>\":3===i?\"<math>\":\"\",c=f;for(let i=0;i<s;i++){const s=t[i];let a,u,d=-1,y=0;for(;y<s.length&&(c.lastIndex=y,u=c.exec(s),null!==u);)y=c.lastIndex,c===f?\"!--\"===u[1]?c=v:void 0!==u[1]?c=_:void 0!==u[2]?($.test(u[2])&&(r=RegExp(\"</\"+u[2],\"g\")),c=m):void 0!==u[3]&&(c=m):c===m?\">\"===u[0]?(c=r??f,d=-1):void 0===u[1]?d=-2:(d=c.lastIndex-u[2].length,a=u[1],c=void 0===u[3]?m:'\"'===u[3]?g:p):c===g||c===p?c=m:c===v||c===_?c=f:(c=m,r=void 0);const x=c===m&&t[i+1].startsWith(\"/>\")?\" \":\"\";l+=c===f?s+n:d>=0?(o.push(a),s.slice(0,d)+e+s.slice(d)+h+x):s+h+(-2===d?i:x)}return[P(t,l+(t[s]||\"<?>\")+(2===i?\"</svg>\":3===i?\"</math>\":\"\")),o]};class N{constructor({strings:t,_$litType$:s},n){let r;this.parts=[];let c=0,a=0;const u=t.length-1,d=this.parts,[f,v]=V(t,s);if(this.el=N.createElement(f,n),C.currentNode=this.el.content,2===s||3===s){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(r=C.nextNode())&&d.length<u;){if(1===r.nodeType){if(r.hasAttributes())for(const t of r.getAttributeNames())if(t.endsWith(e)){const i=v[a++],s=r.getAttribute(t).split(h),e=/([.?@])?(.*)/.exec(i);d.push({type:1,index:c,name:e[2],strings:s,ctor:\".\"===e[1]?H:\"?\"===e[1]?I:\"@\"===e[1]?L:k}),r.removeAttribute(t)}else t.startsWith(h)&&(d.push({type:6,index:c}),r.removeAttribute(t));if($.test(r.tagName)){const t=r.textContent.split(h),s=t.length-1;if(s>0){r.textContent=i?i.emptyScript:\"\";for(let i=0;i<s;i++)r.append(t[i],l()),C.nextNode(),d.push({type:2,index:++c});r.append(t[s],l())}}}else if(8===r.nodeType)if(r.data===o)d.push({type:2,index:c});else{let t=-1;for(;-1!==(t=r.data.indexOf(h,t+1));)d.push({type:7,index:c}),t+=h.length-1}c++}}static createElement(t,i){const s=r.createElement(\"template\");return s.innerHTML=t,s}}function S(t,i,s=t,e){if(i===T)return i;let h=void 0!==e?s._$Co?.[e]:s._$Cl;const o=c(i)?void 0:i._$litDirective$;return h?.constructor!==o&&(h?._$AO?.(!1),void 0===o?h=void 0:(h=new o(t),h._$AT(t,s,e)),void 0!==e?(s._$Co??=[])[e]=h:s._$Cl=h),void 0!==h&&(i=S(t,h._$AS(t,i.values),h,e)),i}class M{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:i},parts:s}=this._$AD,e=(t?.creationScope??r).importNode(i,!0);C.currentNode=e;let h=C.nextNode(),o=0,n=0,l=s[0];for(;void 0!==l;){if(o===l.index){let i;2===l.type?i=new R(h,h.nextSibling,this,t):1===l.type?i=new l.ctor(h,l.name,l.strings,this,t):6===l.type&&(i=new z(h,this,t)),this._$AV.push(i),l=s[++n]}o!==l?.index&&(h=C.nextNode(),o++)}return C.currentNode=r,e}p(t){let i=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class R{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,i,s,e){this.type=2,this._$AH=E,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cv=e?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===t?.nodeType&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=S(this,t,i),c(t)?t===E||null==t||\"\"===t?(this._$AH!==E&&this._$AR(),this._$AH=E):t!==this._$AH&&t!==T&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):u(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==E&&c(this._$AH)?this._$AA.nextSibling.data=t:this.T(r.createTextNode(t)),this._$AH=t}$(t){const{values:i,_$litType$:s}=t,e=\"number\"==typeof s?this._$AC(t):(void 0===s.el&&(s.el=N.createElement(P(s.h,s.h[0]),this.options)),s);if(this._$AH?._$AD===e)this._$AH.p(i);else{const t=new M(e,this),s=t.u(this.options);t.p(i),this.T(s),this._$AH=t}}_$AC(t){let i=A.get(t.strings);return void 0===i&&A.set(t.strings,i=new N(t)),i}k(t){a(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const h of t)e===i.length?i.push(s=new R(this.O(l()),this.O(l()),this,this.options)):s=i[e],s._$AI(h),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){for(this._$AP?.(!1,!0,i);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class k{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,i,s,e,h){this.type=1,this._$AH=E,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=h,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=E}_$AI(t,i=this,s,e){const h=this.strings;let o=!1;if(void 0===h)t=S(this,t,i,0),o=!c(t)||t!==this._$AH&&t!==T,o&&(this._$AH=t);else{const e=t;let n,r;for(t=h[0],n=0;n<h.length-1;n++)r=S(this,e[s+n],i,n),r===T&&(r=this._$AH[n]),o||=!c(r)||r!==this._$AH[n],r===E?t=E:t!==E&&(t+=(r??\"\")+h[n+1]),this._$AH[n]=r}o&&!e&&this.j(t)}j(t){t===E?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??\"\")}}class H extends k{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===E?void 0:t}}class I extends k{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==E)}}class L extends k{constructor(t,i,s,e,h){super(t,i,s,e,h),this.type=5}_$AI(t,i=this){if((t=S(this,t,i,0)??E)===T)return;const s=this._$AH,e=t===E&&s!==E||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,h=t!==E&&(s===E||e);e&&this.element.removeEventListener(this.name,this,s),h&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){\"function\"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class z{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){S(this,t)}}const Z={M:e,P:h,A:o,C:1,L:V,R:M,D:u,V:S,I:R,H:k,N:I,U:L,B:H,F:z},j=t.litHtmlPolyfillSupport;j?.(N,R),(t.litHtmlVersions??=[]).push(\"3.2.1\");const B=(t,i,s)=>{const e=s?.renderBefore??i;let h=e._$litPart$;if(void 0===h){const t=s?.renderBefore??null;e._$litPart$=h=new R(i.insertBefore(l(),t),t,void 0,s??{})}return h._$AI(t),h};export{Z as _$LH,x as html,w as mathml,T as noChange,E as nothing,B as render,b as svg};\n//# sourceMappingURL=lit-html.js.map\n","import{ReactiveElement as t}from\"@lit/reactive-element\";export*from\"@lit/reactive-element\";import{render as e,noChange as s}from\"lit-html\";export*from\"lit-html\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */class r extends t{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const s=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=e(s,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return s}}r._$litElement$=!0,r[\"finalized\"]=!0,globalThis.litElementHydrateSupport?.({LitElement:r});const i=globalThis.litElementPolyfillSupport;i?.({LitElement:r});const o={_$AK:(t,e,s)=>{t._$AK(e,s)},_$AL:t=>t._$AL};(globalThis.litElementVersions??=[]).push(\"4.1.1\");export{r as LitElement,o as _$LE};\n//# sourceMappingURL=lit-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},e=t=>(...e)=>({_$litDirective$:t,values:e});class i{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}export{i as Directive,t as PartType,e as directive};\n//# sourceMappingURL=directive.js.map\n","import{noChange as t}from\"../lit-html.js\";import{directive as s,Directive as i,PartType as r}from\"../directive.js\";\n/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const e=s(class extends i{constructor(t){if(super(t),t.type!==r.ATTRIBUTE||\"class\"!==t.name||t.strings?.length>2)throw Error(\"`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.\")}render(t){return\" \"+Object.keys(t).filter((s=>t[s])).join(\" \")+\" \"}update(s,[i]){if(void 0===this.st){this.st=new Set,void 0!==s.strings&&(this.nt=new Set(s.strings.join(\" \").split(/\\s/).filter((t=>\"\"!==t))));for(const t in i)i[t]&&!this.nt?.has(t)&&this.st.add(t);return this.render(i)}const r=s.element.classList;for(const t of this.st)t in i||(r.remove(t),this.st.delete(t));for(const t in i){const s=!!i[t];s===this.st.has(t)||this.nt?.has(t)||(s?(r.add(t),this.st.add(t)):(r.remove(t),this.st.delete(t)))}return t}});export{e as classMap};\n//# sourceMappingURL=class-map.js.map\n","import{noChange as t}from\"../lit-html.js\";import{directive as e,Directive as r,PartType as s}from\"../directive.js\";\n/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const n=\"important\",i=\" !\"+n,o=e(class extends r{constructor(t){if(super(t),t.type!==s.ATTRIBUTE||\"style\"!==t.name||t.strings?.length>2)throw Error(\"The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.\")}render(t){return Object.keys(t).reduce(((e,r)=>{const s=t[r];return null==s?e:e+`${r=r.includes(\"-\")?r:r.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,\"-$&\").toLowerCase()}:${s};`}),\"\")}update(e,[r]){const{style:s}=e.element;if(void 0===this.ft)return this.ft=new Set(Object.keys(r)),this.render(r);for(const t of this.ft)null==r[t]&&(this.ft.delete(t),t.includes(\"-\")?s.removeProperty(t):s[t]=null);for(const t in r){const e=r[t];if(null!=e){this.ft.add(t);const r=\"string\"==typeof e&&e.endsWith(i);t.includes(\"-\")||r?s.setProperty(t,r?e.slice(0,-11):e,r?n:\"\"):s[t]=e}}return t}});export{o as styleMap};\n//# sourceMappingURL=style-map.js.map\n","import{_$LH as o}from\"./lit-html.js\";\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const{I:t}=o,i=o=>null===o||\"object\"!=typeof o&&\"function\"!=typeof o,n={HTML:1,SVG:2,MATHML:3},e=(o,t)=>void 0===t?void 0!==o?._$litType$:o?._$litType$===t,l=o=>null!=o?._$litType$?.h,c=o=>void 0!==o?._$litDirective$,d=o=>o?._$litDirective$,f=o=>void 0===o.strings,s=()=>document.createComment(\"\"),r=(o,i,n)=>{const e=o._$AA.parentNode,l=void 0===i?o._$AB:i._$AA;if(void 0===n){const i=e.insertBefore(s(),l),c=e.insertBefore(s(),l);n=new t(i,c,o,o.options)}else{const t=n._$AB.nextSibling,i=n._$AM,c=i!==o;if(c){let t;n._$AQ?.(o),n._$AM=o,void 0!==n._$AP&&(t=o._$AU)!==i._$AU&&n._$AP(t)}if(t!==l||c){let o=n._$AA;for(;o!==t;){const t=o.nextSibling;e.insertBefore(o,l),o=t}}}return n},v=(o,t,i=o)=>(o._$AI(t,i),o),u={},m=(o,t=u)=>o._$AH=t,p=o=>o._$AH,M=o=>{o._$AP?.(!1,!0);let t=o._$AA;const i=o._$AB.nextSibling;for(;t!==i;){const o=t.nextSibling;t.remove(),t=o}},h=o=>{o._$AR()};export{n as TemplateResultType,h as clearPart,p as getCommittedValue,d as getDirectiveClass,r as insertPart,l as isCompiledTemplateResult,c as isDirectiveResult,i as isPrimitive,f as isSingleExpression,e as isTemplateResult,M as removePart,v as setChildPartValue,m as setCommittedValue};\n//# sourceMappingURL=directive-helpers.js.map\n","import {\n  attachToAncestor,\n  makeDefineCustomElements,\n  noShadowRoot\n} from \"./chunk-NO7HOBNA.js\";\nimport \"./chunk-PGHUBTOM.js\";\n\n// src/context.ts\nimport { retrieveComponent } from \"@arcgis/components-controllers\";\nimport { ContextConsumer, ContextProvider } from \"@lit/context\";\nfunction useContextProvider(options) {\n  const component = retrieveComponent();\n  const controller = new ContextProvider(component.el, options);\n  component.addController(controller);\n  return controller;\n}\nfunction useContextConsumer(options) {\n  const component = retrieveComponent();\n  const controller = new ContextConsumer(component.el, options);\n  component.addController(controller);\n  return controller;\n}\n\n// src/createEvent.ts\nimport { retrieveComponent as retrieveComponent2, keyTrackResolve, trackKey } from \"@arcgis/components-controllers\";\nimport { isEsriInternalEnv } from \"@arcgis/components-utils\";\nvar createEventFactory = (eventName = \"\", options = {}, component = retrieveComponent2()) => {\n  const emitter = {\n    emit: (payload) => {\n      if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv() && !component.el.isConnected) {\n        console.warn(\n          `Trying to emit an ${eventName} event on a disconnected element ${component.el.tagName.toLowerCase()}`\n        );\n      }\n      if (eventName === \"\") {\n        keyTrackResolve();\n        if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv() && eventName === \"\") {\n          throw new Error(\"Unable to resolve event name from property name\");\n        }\n      }\n      const event = new CustomEvent(eventName, {\n        detail: payload,\n        cancelable: true,\n        bubbles: true,\n        composed: true,\n        ...options\n      });\n      component.el.dispatchEvent(event);\n      return event;\n    }\n  };\n  if (eventName === \"\") {\n    trackKey(\n      void 0,\n      (resolution) => {\n        if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv() && resolution === void 0) {\n          throw new Error(`createEvent must be called in property default value only`);\n        }\n        eventName = resolution.key;\n      },\n      emitter\n    );\n  }\n  return emitter;\n};\nvar createEvent = createEventFactory.bind(null, \"\");\n\n// src/decorators.ts\nimport { state } from \"@lit/reactive-element/decorators/state.js\";\nimport { property as litProperty } from \"@lit/reactive-element/decorators/property.js\";\nvar property = litProperty;\nvar method = void 0;\n\n// src/LitElement.ts\nimport { Deferred, camelToKebab, isEsriInternalEnv as isEsriInternalEnv2 } from \"@arcgis/components-utils\";\nimport { LitElement as OriginalLitElement, isServer } from \"lit\";\nimport { useControllerManager } from \"@arcgis/components-controllers\";\nvar emptyFunction = () => void 0;\nvar LitElement = class _LitElement extends OriginalLitElement {\n  constructor() {\n    super();\n    /**\n     * In lazy build, the actual DOM element differs from the class instance:\n     * - \"this.el\" is a proxy custom element - it's physically present in the DOM\n     *   even before the Lit component is loaded.\n     * - \"this\" is the actual Lit component - in case of Lazy builds, it's\n     *   never directly attached to the DOM. Instead, all interactions with the\n     *   proxy are forwarded to the actual Lit component. And, when Lit wants to\n     *   render, it renders into the shadow root of the proxy.\n     *\n     * \"this.el\" should be used instead of \"this\" for all things involving the\n     * DOM (addEventListener, querySelector, children, setAttribute,\n     * MutationObserver, etc...)\n     *\n     * @example\n     * ```ts\n     * // Generally, you shouldn't have to write logic specific to lazy or non-lazy\n     * // build, but if you have to, you can detect if you are in a lazy build like so:\n     * const isLazy = this.el !== this;\n     * ```\n     */\n    this.el = this.constructor.lazy ?? this;\n    /**\n     * Controller Manager orchestrates all controllers used by this component,\n     * connecting their lifecycle hooks and providing context information.\n     */\n    this.manager = useControllerManager(this);\n    /** @internal */\n    this._postLoad = this.constructor.lazy?._postLoad ?? new Deferred();\n    /**\n     * Direct offspring that should be awaited before loaded() is emitted.\n     *\n     * `attachToAncestor()` will add elements to this array\n     *\n     * @internal\n     */\n    this._offspring = this.constructor.lazy?._offspring ?? [];\n    this._postLoaded = this.constructor.lazy?._postLoaded ?? new Deferred();\n    this._enableUpdating = this.enableUpdating;\n    this.enableUpdating = emptyFunction;\n    const ourShouldUpdate = _LitElement.prototype.shouldUpdate;\n    if (this.shouldUpdate !== ourShouldUpdate) {\n      this._originalShouldUpdate = this.shouldUpdate;\n      this.shouldUpdate = ourShouldUpdate;\n    }\n    if (process.env.NODE_ENV !== \"production\") {\n      const isOwnComponent = globalThis.devOnly$ownTagNames?.has(\n        this.el.tagName.toLowerCase()\n      );\n      const constructor = this.constructor;\n      const warningsWereCustomized = constructor.enabledWarnings !== OriginalLitElement.enabledWarnings;\n      if (!isOwnComponent && !warningsWereCustomized) {\n        constructor.disableWarning?.(\"change-in-update\");\n      }\n      if (isEsriInternalEnv2()) {\n        globalThis.devOnly$luminaComponentRefCallback?.(this);\n      }\n    }\n    if (isServer) {\n      this.el.setAttribute(this.constructor.runtime.hydratedAttribute, \"\");\n    }\n  }\n  /**\n   * Customize Lit's default style handling to support non-shadow-root styles\n   */\n  static finalizeStyles(styles) {\n    if (process.env.NODE_ENV === \"test\" && Array.isArray(styles)) {\n      styles = styles.filter(Boolean);\n    }\n    const finalizedStyles = super.finalizeStyles(styles);\n    const useLightDom = this.shadowRootOptions === noShadowRoot;\n    return this.runtime?.commonStyles === void 0 || useLightDom ? finalizedStyles : [this.runtime.commonStyles, ...finalizedStyles];\n  }\n  static createProperty(name, options) {\n    const flags = typeof options === \"number\" ? options : Array.isArray(options) ? options[0] : 0;\n    const rest = Array.isArray(options) ? options[1] : void 0;\n    super.createProperty(name, {\n      /**\n       * By default to infer attribute name from property name, Lit just\n       * converts property name to lowercase. That is consistent with\n       * native DOM attributes.\n       *\n       * However, that is not consistent with Stencil and would be a\n       * breaking change for us. Also, kebab-case is more common among the\n       * web components. But the most important reason is that we have\n       * some pretty long attribute names, which would be utterly\n       * unreadable in lowercase.\n       *\n       * Also, if browsers add new attributes, that may cause a conflict\n       * with our attributes.\n       *\n       * Thus, overwriting Lit's default behavior to use kebab-case:\n       */\n      attribute: !!(flags & 1 /* ATTRIBUTE */) && typeof name === \"string\" ? camelToKebab(name) : false,\n      reflect: !!(flags & 2 /* REFLECT */),\n      type: flags & 4 /* BOOLEAN */ ? Boolean : flags & 8 /* NUMBER */ ? Number : void 0,\n      /**\n       * At the moment in Lit, state:true just means attribute:false, so this\n       * line is technically redundant, but let's keep it here just in case Lit\n       * will add more meaning to state:true in the future.\n       */\n      state: !!(flags & 16 /* STATE */),\n      // Controllers add this option to Lit\n      readOnly: !!(flags & 32 /* READ_ONLY */),\n      noAccessor: !!(flags & 64 /* NO_ACCESSOR */),\n      ...rest\n    });\n  }\n  static {\n    this.lumina = true;\n  }\n  connectedCallback() {\n    if (this.el.hasAttribute(\"defer-hydration\")) {\n      return;\n    }\n    const isFirstCall = !this.manager.connectedCalled;\n    super.connectedCallback();\n    if (isFirstCall) {\n      queueMicrotask(\n        // eslint-disable-next-line @typescript-eslint/no-misused-promises, @typescript-eslint/promise-function-async\n        () => this._load().catch((error) => {\n          this._postLoaded.reject(error);\n          setTimeout(() => {\n            throw error;\n          });\n        })\n      );\n    }\n  }\n  /**\n   * Overwrite Lit's default behavior of attaching shadow root to the lit\n   * element, and instead use this.el to support lazy builds.\n   *\n   * Also, support the case when component asked to not use shadow root\n   */\n  createRenderRoot() {\n    const existingShadowRoot = this.el.shadowRoot;\n    const Class = this.constructor;\n    const options = Class.shadowRootOptions;\n    const useLightDom = options === noShadowRoot;\n    const renderRoot = existingShadowRoot ?? (useLightDom ? this.el : this.el.attachShadow(options));\n    Object.defineProperty(this, \"shadowRoot\", {\n      // Create shadow root on the proxy instance, to make Lit render content there\n      value: renderRoot\n    });\n    if (existingShadowRoot) {\n      if (process.env.NODE_ENV === \"production\") {\n        OriginalLitElement.prototype.createRenderRoot.call(this);\n      }\n      return existingShadowRoot;\n    }\n    if (this.isConnected) {\n      const domRoot = renderRoot.getRootNode();\n      if (process.env.NODE_ENV === \"test\") {\n        domRoot.adoptedStyleSheets ??= [];\n      }\n      domRoot.adoptedStyleSheets = [\n        ...domRoot.adoptedStyleSheets,\n        ...Class.elementStyles.map((stylesheet) => \"styleSheet\" in stylesheet ? stylesheet.styleSheet : stylesheet)\n      ];\n    }\n    return renderRoot;\n  }\n  /** Do asynchronous component load */\n  async _load() {\n    const parentLoadPromise = this.el._ancestorLoad ?? attachToAncestor(this.el);\n    if (parentLoadPromise) {\n      await parentLoadPromise;\n    }\n    await this.manager._load();\n    this._enableUpdating(true);\n    this.performUpdate();\n    this._postLoad.resolve();\n    await Promise.resolve();\n    const pendingChildren = this._offspring.filter((loaded) => !loaded.manager?.loadedCalled);\n    if (pendingChildren.length) {\n      await Promise.allSettled(pendingChildren.map(async (child) => await child.componentOnReady()));\n    }\n    this._offspring.length = 0;\n    this.el.setAttribute(this.constructor.runtime.hydratedAttribute, \"\");\n    this.manager._loaded();\n    this._postLoaded.resolve();\n  }\n  /**\n   * Overwriting default shouldUpdate simply to get access to\n   * \"changedProperties\" so that we can later provide it to ControllerManager\n   */\n  shouldUpdate(_changedProperties) {\n    this.$changes = _changedProperties;\n    return this._originalShouldUpdate?.(_changedProperties) ?? true;\n  }\n  listen(name, listener, options) {\n    const boundListener = listener?.bind(this) ?? listener;\n    this.manager.onLifecycle(() => {\n      this.el.addEventListener(name, boundListener, options);\n      return () => this.el.removeEventListener(name, boundListener, options);\n    });\n  }\n  listenOn(target, name, listener, options) {\n    const boundListener = listener?.bind(this) ?? listener;\n    this.manager.onLifecycle(() => {\n      target.addEventListener(name, boundListener, options);\n      return () => target.removeEventListener(name, boundListener, options);\n    });\n  }\n  /**\n   * Create a promise that resolves once component is fully loaded.\n   *\n   * @example\n   * const map = document.createElement('arcgis-map');\n   * document.body.append(map);\n   * map.componentOnReady().then(() => {\n   *   console.log('Map is ready to go!');\n   * });\n   */\n  async componentOnReady() {\n    await this._postLoaded.promise;\n    return this;\n  }\n};\nLitElement.$createEvent = createEventFactory;\nif (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv2()) {\n  const globalWithLit = globalThis;\n  globalWithLit.litIssuedWarnings ??= /* @__PURE__ */ new Set();\n  globalWithLit.litIssuedWarnings.add(\n    \"Overriding ReactiveElement.createProperty() is deprecated. The override will not be called with standard decorators See https://lit.dev/msg/no-override-create-property for more information.\"\n  );\n}\n\n// src/runtime.ts\nimport { isEsriInternalEnv as isEsriInternalEnv3 } from \"@arcgis/components-utils\";\nfunction makeRuntime(options) {\n  let assetPath;\n  const setAssetPath = (path) => {\n    assetPath = new URL(\n      path,\n      /**\n       * setAssetPath() is called in global scope whenever Lumina runtime is\n       * imported. Thus we need to carefully handle different environments.\n       *\n       * Need `|| undefined` because Stencil's unit tests mock-dock defines\n       * `location.href` as empty string, which crashes `new URL()`. Stencil's\n       * test environment does not define `NODE_ENV` by default, so we have to\n       * add a few bytes to production.\n       *\n       * For happy-dom and jsdom, we are assuming that `NODE_ENV` is set.\n       * Depending on configuration, `location?.href` is either undefined (not\n       * an exception) or `about:blank` (an exception - thus handling that case\n       * explicitly).\n       *\n       * For Node.js without a DOM environment, `location?.href` is undefined so\n       * all is good.\n       */\n      process.env.NODE_ENV === \"test\" ? globalThis.location?.href === \"about:blank\" ? void 0 : globalThis.location?.href || void 0 : globalThis.location?.href || void 0\n    ).href;\n  };\n  const runtime = {\n    ...options,\n    // FEATURE: research https://vitejs.dev/guide/build.html#advanced-base-options\n    getAssetPath(suffix) {\n      const assetUrl = new URL(suffix, assetPath);\n      return assetUrl.origin !== globalThis.location?.origin ? assetUrl.href : assetUrl.pathname;\n    },\n    setAssetPath,\n    customElement(tagName, component) {\n      component.runtime = runtime;\n      component.tagName = tagName;\n      if (!customElements.get(tagName)) {\n        customElements.define(tagName, component);\n      }\n    }\n  };\n  setAssetPath(options.defaultAssetPath);\n  if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv3()) {\n    globalThis.devOnly$luminaRuntime = runtime;\n  }\n  return runtime;\n}\n\n// src/jsx/types.ts\nvar Fragment = void 0;\nvar bindAttribute = void 0;\nvar bindBooleanAttribute = void 0;\nvar bindProperty = void 0;\nvar bindEvent = void 0;\n\n// src/jsx/directives.ts\nimport { classMap } from \"lit-html/directives/class-map.js\";\nimport { styleMap } from \"lit/directives/style-map.js\";\nimport { directive as litDirective } from \"lit-html/directive.js\";\nimport { live as litLive } from \"lit-html/directives/live.js\";\nvar safeClassMap = (parameters) => typeof parameters === \"object\" && parameters != null ? classMap(parameters) : parameters;\nvar safeStyleMap = (parameters) => typeof parameters === \"object\" && parameters != null ? styleMap(parameters) : parameters;\nvar directive = litDirective;\nvar live = litLive;\n\n// src/jsx/utils.ts\nimport { noChange as litNoChange, nothing as litNothing } from \"lit-html\";\nvar nothing = litNothing;\nvar noChange = litNoChange;\nfunction setAttribute(element, attributeName, value) {\n  if (value == null) {\n    element.removeAttribute(attributeName);\n  } else {\n    element.setAttribute(attributeName, value);\n  }\n}\nvar stringOrBoolean = {\n  toAttribute: (value) => value === true ? \"\" : value === false ? null : value\n};\n\n// src/wrappersUtils.ts\nvar emptyObject = {};\nvar makeReactWrapperFactory = (react, createComponent) => (options) => {\n  const tagName = options.tagName;\n  let customElementPrototype = emptyObject;\n  const elementClass = {\n    name: tagName,\n    /**\n     * Lit's createComponent tries to access the elementClass.prototype in\n     * global scope (in development mode). The elementClass may not be defined\n     * yet (because we are in a lazy loading build, or because current app\n     * doesn't import a given custom element as it doesn't use it).\n     *\n     * Thus, we return an empty object as a fake prototype.\n     *\n     * Right after the call to `createComponent`, we set to\n     * customElementPrototype undefined so that the next access of\n     * `.prototype` tries to get the real prototype.\n     * `createPrototypeProxy()` is called, this small proxy delays retrieving the custom\n     * element prototype until it is actually needed, and caches the result for future calls.\n     */\n    get prototype() {\n      if (customElementPrototype === void 0) {\n        customElementPrototype = customElements.get(tagName)?.prototype;\n        if (!customElementPrototype) {\n          throw new Error(`Custom element \"${tagName}\" not found`);\n        }\n        Object.defineProperty(elementClass, \"prototype\", { value: customElementPrototype });\n      }\n      return customElementPrototype;\n    }\n  };\n  const result = createComponent({\n    ...options,\n    react,\n    elementClass\n  });\n  customElementPrototype = void 0;\n  return result;\n};\nvar getReactWrapperOptions = (tagNameAndElement, events) => ({ tagName: tagNameAndElement, events });\nexport {\n  Fragment,\n  LitElement,\n  bindAttribute,\n  bindBooleanAttribute,\n  bindEvent,\n  bindProperty,\n  createEvent,\n  directive,\n  getReactWrapperOptions,\n  live,\n  makeDefineCustomElements,\n  makeReactWrapperFactory,\n  makeRuntime,\n  method,\n  noChange,\n  noShadowRoot,\n  nothing,\n  property,\n  safeClassMap,\n  safeStyleMap,\n  setAttribute,\n  state,\n  stringOrBoolean,\n  useContextConsumer,\n  useContextProvider\n};\n","import { makeRuntime as t } from \"@arcgis/lumina\";\n/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\nv4.32.7 */\nconst s = t({ defaultAssetPath: \"https://js.arcgis.com/map-components/4.32/\", hydratedAttribute: \"hydrated\" }), { customElement: a, getAssetPath: m, setAssetPath: o } = s;\nexport {\n  a as c,\n  m as g,\n  s as r,\n  o as s\n};\n","import{isSingleExpression as i}from\"./directive-helpers.js\";import{Directive as t,PartType as e}from\"./directive.js\";export{directive}from\"./directive.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const s=(i,t)=>{const e=i._$AN;if(void 0===e)return!1;for(const i of e)i._$AO?.(t,!1),s(i,t);return!0},o=i=>{let t,e;do{if(void 0===(t=i._$AM))break;e=t._$AN,e.delete(i),i=t}while(0===e?.size)},r=i=>{for(let t;t=i._$AM;i=t){let e=t._$AN;if(void 0===e)t._$AN=e=new Set;else if(e.has(i))break;e.add(i),c(t)}};function h(i){void 0!==this._$AN?(o(this),this._$AM=i,r(this)):this._$AM=i}function n(i,t=!1,e=0){const r=this._$AH,h=this._$AN;if(void 0!==h&&0!==h.size)if(t)if(Array.isArray(r))for(let i=e;i<r.length;i++)s(r[i],!1),o(r[i]);else null!=r&&(s(r,!1),o(r));else s(this,i)}const c=i=>{i.type==e.CHILD&&(i._$AP??=n,i._$AQ??=h)};class f extends t{constructor(){super(...arguments),this._$AN=void 0}_$AT(i,t,e){super._$AT(i,t,e),r(this),this.isConnected=i._$AU}_$AO(i,t=!0){i!==this.isConnected&&(this.isConnected=i,i?this.reconnected?.():this.disconnected?.()),t&&(s(this,i),o(this))}setValue(t){if(i(this._$Ct))this._$Ct._$AI(t,this);else{const i=[...this._$Ct._$AH];i[this._$Ci]=t,this._$Ct._$AI(i,this,0)}}disconnected(){}reconnected(){}}export{f as AsyncDirective,t as Directive,e as PartType};\n//# sourceMappingURL=async-directive.js.map\n","import{nothing as t}from\"../lit-html.js\";import{AsyncDirective as i}from\"../async-directive.js\";import{directive as s}from\"../directive.js\";\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const e=()=>new h;class h{}const o=new WeakMap,n=s(class extends i{render(i){return t}update(i,[s]){const e=s!==this.Y;return e&&void 0!==this.Y&&this.rt(void 0),(e||this.lt!==this.ct)&&(this.Y=s,this.ht=i.options?.host,this.rt(this.ct=i.element)),t}rt(t){if(this.isConnected||(t=void 0),\"function\"==typeof this.Y){const i=this.ht??globalThis;let s=o.get(i);void 0===s&&(s=new WeakMap,o.set(i,s)),void 0!==s.get(this.Y)&&this.Y.call(this.ht,void 0),s.set(this.Y,t),void 0!==t&&this.Y.call(this.ht,t)}else this.Y.value=t}get lt(){return\"function\"==typeof this.Y?o.get(this.ht??globalThis)?.get(this.Y):this.Y?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});export{e as createRef,n as ref};\n//# sourceMappingURL=ref.js.map\n","/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\nv4.32.7 */\nfunction P(e, i) {\n  Array.isArray(i) ? e._watchHandles = [...e._watchHandles, ...i] : e._watchHandles.push(i);\n}\nfunction p(e) {\n  e.el.childElem && (e.el.childElem.ownedBy = e.el);\n  const i = h(e);\n  if (!i) {\n    const t = y(e.referenceElement);\n    if (!t) {\n      g(e);\n      return;\n    }\n    return f(t, e, !0), t;\n  }\n  return w(i, e.el.parent) || (e.el.parent = i, i.tagName.toLowerCase() === \"arcgis-expand\" ? v(i, e) : i.tagName.toLowerCase() === \"arcgis-placement\" ? C(i, e) : f(i, e, !1)), i;\n}\nfunction h({ el: e }) {\n  for (let i = e.parentElement; i; i = i?.parentElement ?? null) {\n    if (c.has(i.tagName.toLowerCase()))\n      return i;\n    if (\"ownedBy\" in i && i.ownedBy instanceof HTMLElement && c.has(i.ownedBy.tagName.toLowerCase()))\n      return i.ownedBy;\n  }\n}\nconst c = /* @__PURE__ */ new Set([\n  \"arcgis-map\",\n  \"arcgis-scene\",\n  \"arcgis-link-chart\",\n  \"arcgis-expand\",\n  \"arcgis-placement\"\n]);\nfunction w(e, i) {\n  if (e !== i)\n    return !1;\n  const t = e.tagName.toLowerCase();\n  return t === \"arcgis-expand\" || t === \"arcgis-placement\";\n}\nfunction l(e, i, t = \"arcgisReady\") {\n  const r = e;\n  if (typeof r.view?.ready == \"boolean\")\n    i(r.view);\n  else {\n    let s = function(d) {\n      d.target === e && (l(e, i, t), e.removeEventListener(t, s));\n    };\n    e.addEventListener(t, s);\n  }\n}\nconst v = (e, i) => l(e, (t) => {\n  i.el.childElem && e.content != null && e.content.append(i.el.childElem), e.expandIcon = i.icon || i.widget?.icon || e.expandIcon, i.position = e.position, i.el.view = t;\n}), C = (e, i) => l(e, (t) => {\n  i.el.childElem && i.el.append(i.el.childElem), i.position = e.position, i.el.view = t;\n}), f = (e, i, t) => l(\n  e,\n  (r) => {\n    t ? g(i) : i.el.childElem && E(e, i), i.el.view = r;\n  },\n  \"arcgisViewReadyChange\"\n);\nfunction E(e, i) {\n  const t = i.el.childElem ?? i.el, r = [...e.children], s = {};\n  for (const a of r) {\n    const n = a.getAttribute(\"position\") ?? \"manual\";\n    s[n] ??= [], s[n].push({ child: a, position: n, index: r.indexOf(a) });\n  }\n  const d = s[i.position ?? \"manual\"]?.findIndex(({ child: a }) => a === i.el), o = e.view.ui;\n  o.remove(t), o.add(t, { position: i.position, index: d });\n}\nfunction L(e) {\n  let i = !1, t = e.el.view;\n  const r = Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e.el), \"view\") ?? {\n    get: () => t,\n    set: (s) => t = s\n  };\n  Object.defineProperty(e.el, \"view\", {\n    get: r.get.bind(e.el),\n    set: (s) => {\n      r.set.call(e.el, s), s && !i && (i = !0, e.arcgisReady.emit());\n    },\n    configurable: !0,\n    enumerable: !0\n  }), t && (e.el.view = t);\n}\nfunction x(e) {\n  return e == null || e === \"\";\n}\nfunction H(e, i) {\n  return i != null && e?.position === i.position && e?.heading === i.heading && e?.tilt === i.tilt && e?.fov === i.fov;\n}\nfunction N(e, i) {\n  return i === void 0 || e?.targetGeometry !== i?.targetGeometry || e?.rotation !== i?.rotation || e?.scale !== i?.scale;\n}\nfunction O(e, i) {\n  return u(i?.center, e);\n}\nfunction u(e, i) {\n  if (typeof i == \"string\")\n    return u(e, i.split(\",\").map(Number));\n  if (!e)\n    return i;\n  if (Array.isArray(i)) {\n    const t = i[0], r = i[1], s = i.length > 2 ? i[2] : void 0;\n    if (t !== e.longitude || r !== e.latitude || s !== e.z)\n      return i;\n  } else if (i && !e?.equals(i))\n    return i;\n}\nasync function S(e, i) {\n  i != null && (typeof i == \"string\" ? e.el.view = await b(i) : e.widget && (e.el.view = i.view));\n}\nasync function b(e) {\n  const i = y(e);\n  return await new Promise((t) => {\n    typeof i?.view?.ready == \"boolean\" ? t(i.view) : i && i.addEventListener(\"arcgisViewReadyChange\", () => t(i.view), { once: !0 });\n  });\n}\nfunction g(e) {\n  e.el.childElem && (e.el.shadowRoot ?? e.el).append(e.el.childElem);\n}\nfunction y(e) {\n  return typeof e != \"string\" ? e ?? void 0 : (e.includes(\"#\") || e.includes(\".\") || e.includes(\"[\") ? void 0 : document.querySelector(`#${e}`)) ?? document.querySelector(e) ?? void 0;\n}\nexport {\n  p as a,\n  P as b,\n  H as c,\n  L as d,\n  O as e,\n  x as f,\n  N as i,\n  u as p,\n  S as r\n};\n","import { makeT9nController as a, proxyExports as h, GenericController as l, watch as n } from \"@arcgis/components-controllers\";\nimport { g as d } from \"./runtime.js\";\nimport { a as i } from \"./component-utils.js\";\nimport { signal as m } from \"@arcgis/core/applications/Components/reactiveUtils.js\";\nimport * as p from \"@arcgis/core/core/reactiveUtils.js\";\n/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\nv4.32.7 */\nconst E = a(d), _ = (s) => u(s);\nclass v extends l {\n  constructor(e) {\n    super(e), this._view$ = m(void 0), this._viewDestroyHandle = void 0, this._arcgisReadyEmitted = !1;\n    const { el: t } = e, r = t.view;\n    this.setProvisionalExports(void 0), Object.defineProperty(t, \"view\", {\n      get: () => this._view$.value,\n      set: (o) => {\n        if (this.exports === o)\n          return;\n        const c = t.view;\n        this._view$.value = o, this.exports = o, this.component.requestUpdate(\"view\", c), !this._arcgisReadyEmitted && o != null && (this._arcgisReadyEmitted = !0, this.component.arcgisReady.emit());\n      },\n      configurable: !0,\n      enumerable: !0\n    }), e !== t && Object.defineProperty(e, \"view\", {\n      get: () => t.view,\n      set: (o) => {\n        t.view = o;\n      }\n    }), queueMicrotask(() => {\n      r && (t.view = r);\n    });\n  }\n  hostConnected() {\n    this._viewDestroyHandle ??= p.when(\n      () => this._view$.value?.destroyed,\n      () => void this.component.destroy?.().catch(console.error),\n      { sync: !0 }\n    ), this.component.manager.loadedCalled && i(this.component);\n  }\n  hostLoad() {\n    this.component.manager.destroyed || this._watchMetaProperties();\n  }\n  hostLoaded() {\n    const { el: e } = this.component, t = e.shadowRoot?.firstElementChild ?? e.firstElementChild ?? void 0;\n    e.childElem = t ?? e.childElem, e.isConnected && i(this.component);\n  }\n  hostDisconnected() {\n    typeof this.component.el.childElem == \"object\" && this._view$.value?.ui?.remove(this.component.el.childElem);\n  }\n  hostDestroy() {\n    this._viewDestroyHandle?.remove();\n  }\n  _watchMetaProperties() {\n    n(this.component, \"position\", (e) => {\n      this.component.el.childElem != null && typeof e == \"string\" && i(this.component);\n    }), n(this.component, \"referenceElement\", () => i(this.component));\n  }\n}\nconst u = h(v);\nexport {\n  v as V,\n  _ as a,\n  E as u\n};\n","import {\n  GenericController,\n  bypassGetter,\n  bypassSetter,\n  devOnlyGetPersistentControllerData,\n  devOnlySetPersistentControllerData,\n  proxyExports,\n  retrieveComponent,\n  trackKey,\n  trackPropKey\n} from \"../chunk-PP2BAVRW.js\";\nimport \"../chunk-XKVBN44N.js\";\n\n// src/accessor/utils.ts\nimport { importCoreReactiveUtils } from \"@arcgis/core-adapter\";\nvar reactiveUtils;\nasync function loadReactiveUtils() {\n  reactiveUtils ?? (reactiveUtils = importCoreReactiveUtils());\n  return await reactiveUtils;\n}\n\n// src/accessor/useAccessor.ts\nimport { camelToKebab, isEsriInternalEnv, isNotUndefined } from \"@arcgis/components-utils\";\nvar makeAccessorController = (loadAccessor, _options) => (component, options) => proxy(component, loadAccessor, options);\nvar AccessorController = class extends GenericController {\n  constructor(component, _loadAccessor, _options) {\n    super(component);\n    this._loadAccessor = _loadAccessor;\n    this._options = _options;\n    // A mapping from bound component's \"prop\" name to Accessor instance's \"property\"\n    this._watchedProperties = /* @__PURE__ */ new Map();\n    this._isBinding = { value: true };\n    this.setProvisionalExports(\n      accessorSupport.makeGetterProxy(\n        component,\n        this._watchedProperties,\n        this._isBinding,\n        this.constructor.allowedPropNameMismatches\n      )\n    );\n    trackPropKey(\n      component,\n      (resolved) => {\n        if (resolved) {\n          this._instancePropName = resolved;\n        }\n      },\n      this.exports\n    );\n  }\n  hostConnected() {\n    this._isBinding.value = false;\n  }\n  async hostLoad() {\n    this.reactiveUtils = await loadReactiveUtils();\n    const component = this.component;\n    const parameters = this._gatherParameters();\n    const finalParameters = this._options?.editConstructorProperties?.call(component, parameters) ?? parameters;\n    const awaitedParameters = finalParameters instanceof Promise ? await finalParameters : finalParameters;\n    const genericComponent = component;\n    const existingInstance = typeof this._instancePropName === \"string\" ? genericComponent[this._instancePropName] : void 0;\n    const hasInstance = existingInstance != null && existingInstance !== this.exports;\n    if (hasInstance) {\n      this._instance = existingInstance;\n      existingInstance.set(awaitedParameters);\n    } else {\n      this._instance = await this._createInstance(awaitedParameters);\n    }\n    if (component.manager.destroyed) {\n      return;\n    }\n    accessorSupport.watchComponentUpdates(this, this._instance, this._watchedProperties);\n    accessorSupport.watchAccessorUpdates(this, this._instance, this._watchedProperties);\n    this.exports = this._instance;\n  }\n  _gatherParameters() {\n    const data = Object.fromEntries(\n      Array.from(\n        this._watchedProperties,\n        ([prop, property]) => [property, this.component[prop]]\n      ).filter(([, value]) => value !== void 0)\n    );\n    const props = process.env.NODE_ENV !== \"production\" && isEsriInternalEnv() ? filterWatchedProperties?.(this, data) ?? data : data;\n    return props;\n  }\n  async _createInstance(parameters) {\n    if (this._isAccessorConstructor(this._loadAccessor)) {\n      return new this._loadAccessor(parameters);\n    } else {\n      return await this._loadAccessor(parameters);\n    }\n  }\n  _isAccessorConstructor(loader) {\n    return \"prototype\" in loader && \"declaredClass\" in loader.prototype;\n  }\n  hostDestroy() {\n    if (this._instance) {\n      this._instance.destroy();\n    }\n  }\n  async reCreate() {\n    this.hostDestroy();\n    await this.hostLoad();\n  }\n};\nvar proxy = proxyExports(AccessorController);\nvar accessorSupport = {\n  makeGetterProxy: (component, watchedProperties, isBinding, allowedPropNameMismatches) => new Proxy(\n    {},\n    {\n      /*\n       * Without this, makeProvisionalValue() will throw on accessing\n       * non-existent prop\n       */\n      has: (target, prop) => typeof prop === \"string\" || prop in target,\n      get: (target, prop) => {\n        const value = Reflect.get(target, prop);\n        if (typeof prop === \"symbol\" || prop in Promise.prototype) {\n          return value;\n        }\n        const hasProp = prop in target;\n        const doBinding = isBinding?.value ?? true;\n        if (hasProp || !doBinding) {\n          return value;\n        }\n        if (watchedProperties.has(prop)) {\n          if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv() && !component.manager.isLit) {\n            throw new Error(\n              `Tried to bind \"${prop.toString()}\" prop twice. This might also happen if you are trying to access the accessor instance before ${component.manager.isLit ? \"load\" : \"componentWillLoad\"}()`\n            );\n          }\n          return;\n        }\n        return trackKey(\n          component,\n          (resolved) => {\n            if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv()) {\n              if (resolved === void 0) {\n                if (component.manager.isLit) {\n                  return;\n                }\n                throw new Error(\n                  `Unable to resolve what property is \"${prop.toString()}\" being bound too. Check documentation for useAccessor to ensure proper usage. Make sure you are not trying to access the accessor instance before ${component.manager.isLit ? \"load\" : \"componentWillLoad\"}()`\n                );\n              }\n              const isFlippingBoolean = resolved.key.toLowerCase().includes(\"disable\");\n              const collidesWithNativeProp = prop in HTMLElement.prototype;\n              const collidesWithCustomProp = allowedPropNameMismatches?.has(prop) === true;\n              if (resolved.key !== prop && !collidesWithNativeProp && !collidesWithCustomProp && !isFlippingBoolean) {\n                throw new Error(\n                  `Tried to bind \"${resolved?.key}\" property to \"${prop.toString()}\" - property names must match`\n                );\n              }\n              if (!resolved.isReactive) {\n                throw new Error(\n                  component.manager.isLit ? `For two-way binding with Accessor to work, the property on your component must have @property() or @state() decorator. \"${prop.toString()}\" has neither` : `For two-way binding with Accessor to work, the property on your component must have @Prop() or @State() decorator. \"${prop.toString()}\" has neither`\n                );\n              }\n            }\n            if (resolved !== void 0) {\n              watchedProperties.set(resolved.key, prop);\n            }\n          },\n          value\n        );\n      }\n    }\n  ),\n  // Update Accessor on component prop change\n  watchComponentUpdates(controller, instance, watchedProperties) {\n    function getter(_value, propName) {\n      const propertyName = watchedProperties.get(propName);\n      const value = instance[propertyName];\n      const flipBoolean = typeof value === \"boolean\" && propertyName !== propName && propName.toLowerCase().includes(\"disable\");\n      return flipBoolean ? !value : value;\n    }\n    const setter = (newValue, _oldValue, propName) => {\n      const propertyName = watchedProperties.get(propName);\n      const value = instance[propertyName];\n      const flipBoolean = typeof value === \"boolean\" && propertyName !== propName && propName.toLowerCase().includes(\"disable\");\n      const currentValue = flipBoolean ? !value : component.manager.isLit ? value ?? void 0 : value;\n      if (currentValue === newValue) {\n        return newValue;\n      }\n      instance[propertyName] = flipBoolean ? !newValue : newValue;\n      const finalValue = instance[propertyName];\n      return flipBoolean ? !finalValue : finalValue;\n    };\n    const component = controller.component;\n    const internals = component.manager.internals;\n    watchedProperties.forEach((_propName, propertyName) => {\n      internals.accessorGetter[propertyName] = getter;\n      internals.accessorSetter[propertyName] = setter;\n    });\n  },\n  // Update component on Accessor prop change\n  watchAccessorUpdates(controller, instance, watchedProperties) {\n    const { component } = controller;\n    const genericComponent = component;\n    const genericInstance = instance;\n    const readonlyProps = findReadOnlyAccessorProps(instance);\n    if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv()) {\n      setReadonlyProps?.(controller, readonlyProps);\n    }\n    bypassGetter(\n      () => (\n        // Careful: Map's forEach callback arguments are (value, key), not (key, value)\n        watchedProperties.forEach((propertyName, propName) => {\n          if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv() && !(propertyName in instance)) {\n            throw new Error(`\"${propertyName}\" does not exist on the accessor instance`);\n          }\n          if (readonlyProps.has(propertyName)) {\n            return;\n          }\n          const domValue = genericComponent[propName];\n          let modelValue = genericInstance[propertyName];\n          if (component.manager.isLit) {\n            modelValue ?? (modelValue = void 0);\n          }\n          const flipBoolean = typeof domValue === \"boolean\" && propertyName !== propName && propName.toLowerCase().includes(\"disable\");\n          const resolvedDomValue = flipBoolean ? !domValue : domValue;\n          if (resolvedDomValue != null && modelValue !== resolvedDomValue) {\n            genericInstance[propertyName] = resolvedDomValue;\n          }\n        })\n      )\n    );\n    controller.onLifecycle(() => {\n      if (instance.destroyed) {\n        return;\n      }\n      return Array.from(\n        watchedProperties,\n        ([propName, propertyName]) => controller.reactiveUtils.watch(\n          () => genericInstance[propertyName],\n          () => {\n            const newValue = genericInstance[propertyName];\n            const flipBoolean = typeof newValue === \"boolean\" && propertyName !== propName && propName.toLowerCase().includes(\"disable\");\n            const resolvedNewValue = flipBoolean ? !newValue : newValue;\n            bypassSetter(() => {\n              genericComponent[propName] = resolvedNewValue;\n            });\n          },\n          { initial: true }\n        )\n      );\n    });\n  },\n  // REFACTOR: remove this once Stencil is no longer supported\n  reEmitAccessorEvents(controller, instance, reactiveUtils2, prefix) {\n    const isEvented = \"on\" in instance && typeof instance.on === \"function\";\n    if (!isEvented) {\n      return;\n    }\n    const toListen = Object.entries(controller.component).map(([key, unknown]) => {\n      const value = unknown;\n      if (!key.startsWith(prefix) || key === prefix || typeof value !== \"object\" || value === null || !(\"emit\" in value) || typeof value.emit !== \"function\") {\n        return void 0;\n      }\n      const emit = value.emit;\n      const trimmedEventName = key.slice(prefix.length);\n      const camelCaseEventName = camelToKebab(trimmedEventName);\n      const eventName = camelCaseEventName.toLowerCase();\n      return [eventName, emit];\n    }).filter(isNotUndefined);\n    if (toListen.length === 0) {\n      return;\n    }\n    const eventTarget = instance;\n    const getEventTarget = () => eventTarget;\n    controller.onLifecycle(() => {\n      if (instance.destroyed) {\n        return;\n      }\n      return toListen.map(([eventName, emit]) => reactiveUtils2.on(getEventTarget, eventName, emit));\n    });\n  },\n  async reCreate(instance, component) {\n    const accessorController = component.manager.useRefSync(instance);\n    if (accessorController === void 0) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.error(\"Unable to resolve the useAccessor controller from the provided value\");\n      }\n      return;\n    }\n    await accessorController.reCreate();\n  }\n};\nfunction findReadOnlyAccessorProps(instance) {\n  const accessor = instance;\n  const properties = Object.entries(accessor.__accessor__?.metadata ?? {});\n  return new Set(\n    properties.filter(([_property, descriptor]) => descriptor?.readOnly === true).map(([property]) => property)\n  );\n}\nvar setReadonlyProps = process.env.NODE_ENV !== \"production\" && isEsriInternalEnv() ? (controller, properties) => {\n  devOnlySetPersistentControllerData?.(controller, properties);\n} : void 0;\nvar filterWatchedProperties = process.env.NODE_ENV !== \"production\" && isEsriInternalEnv() ? (controller, data) => {\n  const readonlyProperties = devOnlyGetPersistentControllerData?.(controller);\n  if (readonlyProperties instanceof Set) {\n    return Object.fromEntries(Object.entries(data).filter(([key]) => !readonlyProperties.has(key)));\n  }\n  return data;\n} : void 0;\n\n// src/accessor/reEmitEvent.ts\nimport { isEsriInternalEnv as isEsriInternalEnv2 } from \"@arcgis/components-utils\";\nfunction reEmitEvent(getEventedAccessor, eventName) {\n  const component = retrieveComponent();\n  if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv2() && !component.manager.isLit) {\n    throw new Error(\n      \"reEmitEvent is only supported in Lumina components. Consult documentation for equivalent Stencil pattern.\"\n    );\n  }\n  const manager = component.manager;\n  const reactiveUtils2 = loadReactiveUtils();\n  manager.onLoaded(() => {\n    void reactiveUtils2.then(\n      (reactiveUtils3) => manager.onLifecycle(() => reactiveUtils3.on(getEventedAccessor, eventName, emitter.emit))\n    );\n  });\n  const emitter = component.constructor.$createEvent();\n  if (process.env.NODE_ENV !== \"production\" && isEsriInternalEnv2()) {\n    if (typeof emitter !== \"object\" || emitter === null || !(\"emit\" in emitter) || typeof emitter.emit !== \"function\") {\n      throw new Error(`Expected to find $createEvent static property on Lumina's LitElement`);\n    }\n  }\n  return emitter;\n}\nexport {\n  AccessorController,\n  accessorSupport,\n  makeAccessorController,\n  reEmitEvent\n};\n","import { proxyExports as r } from \"@arcgis/components-controllers\";\nimport { AccessorController as i } from \"@arcgis/components-controllers/accessor\";\nimport { V as n } from \"./useView.js\";\n/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\nv4.32.7 */\nconst m = (o, t) => (e, s) => l(e, o, s);\nclass a extends i {\n  constructor() {\n    super(...arguments), this.viewController = new n(this.component), this._viewWatchHandle = void 0;\n  }\n  async hostLoad() {\n    await super.hostLoad(), this._viewWatchHandle = this.reactiveUtils.watch(\n      () => this.component.el.view,\n      (t) => {\n        this._instance.view = t, this._instance.map = t?.map;\n      },\n      { sync: !0, initial: !0 }\n    );\n  }\n  hostDestroy() {\n    this._viewWatchHandle?.remove(), super.hostDestroy();\n  }\n}\nconst l = r(a);\nexport {\n  m\n};\n","/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\nv4.32.7 */\nconst e = {\n  anchor: \"esri-widget__anchor\",\n  anchorDisabled: \"esri-widget__anchor--disabled\",\n  button: \"esri-button\",\n  buttonDisabled: \"esri-button--disabled\",\n  buttonHalf: \"esri-button--half\",\n  buttonSecondary: \"esri-button--secondary\",\n  buttonSmall: \"esri-button--small\",\n  buttonTertiary: \"esri-button--tertiary\",\n  buttonThird: \"esri-button--third\",\n  disabled: \"esri-disabled\",\n  disabledElement: \"esri-disabled-element\",\n  empty: \"esri-widget__content--empty\",\n  emptyIllustration: \"esri-widget__content-illustration--empty\",\n  heading: \"esri-widget__heading\",\n  hidden: \"esri-hidden\",\n  input: \"esri-input\",\n  interactive: \"esri-interactive\",\n  loader: \"esri-widget__loader\",\n  loaderAnimation: \"esri-widget__loader-animation\",\n  loaderText: \"esri-widget__loader-text\",\n  menu: \"esri-menu\",\n  menuHeader: \"esri-menu__header\",\n  menuItem: \"esri-menu__list-item\",\n  menuItemActive: \"esri-menu__list-item--active\",\n  menuItemFocus: \"esri-menu__list-item--focus\",\n  menuList: \"esri-menu__list\",\n  noBookmarksIcon: \"esri-widget__no-bookmark-icon\",\n  panel: \"esri-widget--panel\",\n  panelHeightOnly: \"esri-widget--panel-height-only\",\n  primaryTick: \"primary-tick\",\n  primaryTickAmPm: \"primary-tick__ampm\",\n  primaryTickLabel: \"primary-tick__label\",\n  rotating: \"esri-rotating\",\n  secondaryTick: \"secondary-tick\",\n  select: \"esri-select\",\n  table: \"esri-widget__table\",\n  ui: \"esri-component\",\n  widget: \"esri-widget esri-component\",\n  widgetButton: \"esri-widget--button\",\n  widgetButtonActive: \"esri-widget--button-active\",\n  widgetDisabled: \"esri-widget--disabled\"\n};\nexport {\n  e as g\n};\n","import { c as C } from \"../../chunks/runtime.js\";\nimport { ref as g } from \"lit-html/directives/ref.js\";\nimport { html as u } from \"lit-html\";\nimport { classes as d } from \"@arcgis/components-utils\";\nimport { getDefaultUnitForView as w } from \"@arcgis/core/applications/Components/getDefaultUnits.js\";\nimport { watch as y } from \"@arcgis/core/core/reactiveUtils.js\";\nimport { formatNumber as S } from \"@arcgis/core/intl.js\";\nimport L from \"@arcgis/core/widgets/ScaleBar/ScaleBarViewModel.js\";\nimport { LitElement as B, createEvent as M, noShadowRoot as R, safeClassMap as a, safeStyleMap as _ } from \"@arcgis/lumina\";\nimport { u as x } from \"../../chunks/useView.js\";\nimport { m as D } from \"../../chunks/useViewModel.js\";\nimport { g as v } from \"../../chunks/globalCss.js\";\n/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\nv4.32.7 */\nfunction $(f = 0, e = 0) {\n  return { x: f, y: e };\n}\nconst r = \"esri-scale-bar\", t = {\n  base: r,\n  labelContainer: `${r}__label-container`,\n  rulerLabelContainer: `${r}__label-container--ruler`,\n  lineLabelContainer: `${r}__label-container--line`,\n  topLabelContainer: `${r}__label-container--top`,\n  bottomLabelContainer: `${r}__label-container--bottom`,\n  label: `${r}__label`,\n  line: `${r}__line`,\n  topLine: `${r}__line--top`,\n  bottomLine: `${r}__line--bottom`,\n  ruler: `${r}__ruler`,\n  rulerBlock: `${r}__ruler-block`,\n  barContainer: `${r}__bar-container`,\n  rulerBarContainer: `${r}__bar-container--ruler`,\n  lineBarContainer: `${r}__bar-container--line`\n}, U = D(L);\nclass k extends B {\n  constructor() {\n    super(...arguments), this._defaultUnit = \"metric\", this.messages = x(), this._scaleComputedFrom = $(), this.viewModel = U(this), this.autoDestroyDisabled = !1, this.barStyle = \"line\", this.icon = \"actual-size\", this.position = \"top-left\", this.arcgisReady = M();\n  }\n  static {\n    this.properties = { autoDestroyDisabled: 5, barStyle: 1, icon: 3, label: 1, messageOverrides: 0, position: 3, referenceElement: 1, unit: 1 };\n  }\n  static {\n    this.shadowRootOptions = R;\n  }\n  /**\n   * Units to use for the scale bar.\n   * When using `dual`, the scale bar displays both metric and imperial units.\n   * When metric, distances will be shown in either kilometers, meters, centimeters, or millimeters depending on the scale. Similarly, imperial\n   * units will be shown in either miles, feet, or inches.\n   */\n  get unit() {\n    return this._unit ?? this._defaultUnit;\n  }\n  set unit(e) {\n    this._unit = e;\n  }\n  // #endregion\n  // #region Public Methods\n  /** Permanently destroy the component */\n  async destroy() {\n    await this.manager.destroy();\n  }\n  // #endregion\n  // #region Lifecycle\n  updated() {\n    this._handleRootCreateOrUpdate();\n  }\n  loaded() {\n    this.manager.onLifecycle(() => y(() => {\n      const e = this.viewModel.view;\n      return {\n        defaultUnit: e ? w(e) : void 0,\n        stationary: e?.stationary,\n        center: e?.center,\n        scale: e?.scale,\n        zoom: e?.zoom\n      };\n    }, ({ defaultUnit: e, stationary: i }) => {\n      this._defaultUnit = e ?? \"metric\", i && this.requestUpdate();\n    }));\n  }\n  // #endregion\n  // #region Private Methods\n  _handleContainerRef(e) {\n    e !== void 0 && this._handleRootCreateOrUpdate();\n  }\n  _handleRootCreateOrUpdate() {\n    if (!this.viewModel)\n      return;\n    const e = this._scaleComputedFrom, i = this.el.getBoundingClientRect(), s = i.left + window.pageXOffset, l = i.top + window.pageYOffset, n = $(s, l);\n    (n.x !== e.x || n.y !== e.y) && (this._scaleComputedFrom = n);\n  }\n  _formatDistance(e, i) {\n    return S(e, {\n      style: \"unit\",\n      unit: i,\n      unitDisplay: \"short\"\n    });\n  }\n  // #endregion\n  // #region Rendering\n  render() {\n    const e = this.viewModel.state === \"disabled\", i = {\n      [v.disabled]: e\n    };\n    let s, l;\n    if (!e) {\n      const { unit: n, barStyle: c } = this, p = n === \"imperial\" || n === \"dual\", b = n === \"metric\" || n === \"dual\", m = 100, h = n === \"dual\" ? \"line\" : c;\n      if (p) {\n        const o = this.viewModel.getScaleBarProperties(m, \"imperial\");\n        o && (l = h === \"ruler\" ? this._renderRuler(o) : this._renderLine(o, \"bottom\"));\n      }\n      if (b) {\n        const o = this.viewModel.getScaleBarProperties(m, \"metric\");\n        o && (s = h === \"ruler\" ? this._renderRuler(o) : this._renderLine(o, \"top\"));\n      }\n    }\n    return u`<div class=${a(d(t.base, v.widget, i))} ${g(this._handleContainerRef)}>${s}${l}</div>`;\n  }\n  _renderRuler(e) {\n    const { length: i, unit: s, value: l } = e, n = Math.round(i), c = this._formatDistance(l, s);\n    return u`<div class=${a(d(t.barContainer, t.rulerBarContainer))}><div class=${a(t.ruler)} style=${_({ width: `${n}px` })}><div class=${a(t.rulerBlock)}></div><div class=${a(t.rulerBlock)}></div><div class=${a(t.rulerBlock)}></div><div class=${a(t.rulerBlock)}></div></div><div class=${a(d(t.labelContainer, t.rulerLabelContainer))}><div class=${a(t.label)}>0</div><div class=${a(t.label)}>${c}</div></div></div>`;\n  }\n  _renderLine(e, i) {\n    const { length: s, unit: l, value: n } = e, c = Math.round(s), p = this._formatDistance(n, l), b = {\n      [t.topLabelContainer]: i === \"top\",\n      [t.bottomLabelContainer]: i === \"bottom\"\n    }, m = u`<div class=${a(d(t.labelContainer, t.lineLabelContainer, b))}><div class=${a(t.label)}>${p}</div></div>`, h = {\n      [t.topLine]: i === \"top\",\n      [t.bottomLine]: i === \"bottom\"\n    }, o = u`<div class=${a(d(t.line, h))} style=${_({ width: `${c}px` })}></div>`;\n    return u`<div class=${a(d(t.barContainer, t.lineBarContainer))}>${[o, m]}</div>`;\n  }\n}\nC(\"arcgis-scale-bar\", k);\nexport {\n  k as ArcgisScaleBar\n};\n","import Point from '@arcgis/core/geometry/Point';\r\nimport Polyline from '@arcgis/core/geometry/Polyline';\r\nimport * as projectOperator from '@arcgis/core/geometry/operators/projectOperator.js';\r\nimport SpatialReference from '@arcgis/core/geometry/SpatialReference';\r\nimport Graphic from '@arcgis/core/Graphic';\r\nimport esriRequest from '@arcgis/core/request';\r\nimport { GeometryUnion } from '@arcgis/core/unionTypes.js';\r\n\r\ntype GpxContent = {\r\n    waypoints: Graphic[];\r\n    tracks: Graphic[];\r\n}\r\n\r\nexport default class GpxUtils {\r\n\r\n    static gpxToFeatures(url: string, spatialReference: SpatialReference): Promise<GpxContent> {\r\n        return new Promise((resolve) => {\r\n            esriRequest(url, {\r\n                responseType: 'xml',\r\n            }).then((r) => {\r\n                const xml = r.data;\r\n                projectOperator.load().then(() => {\r\n                    const result: GpxContent = {\r\n                        waypoints: [],\r\n                        tracks: [],\r\n                    };\r\n                    xml.querySelectorAll('wpt').forEach((waypoint, i) => {\r\n                        const wPt = new Point({ latitude: waypoint.attributes.lat.value, longitude: waypoint.attributes.lon.value });\r\n                        const gr = this.getGraphic(wPt, waypoint, `waypoint ${i + 1}`, spatialReference);\r\n                        result.waypoints.push(gr);\r\n                    });\r\n                    xml.querySelectorAll('trk').forEach((track, i) => {\r\n                        const polyline = new Polyline({ paths: [], spatialReference: { wkid: 4326 } });\r\n                        track.querySelectorAll('trkseg').forEach((segment) => {\r\n                            const path: Point[] = [];\r\n                            const points = segment.querySelectorAll('trkpt');\r\n                            points.forEach((point) => {\r\n                                const pt = new Point({ latitude: point.attributes.lat.value, longitude: point.attributes.lon.value });\r\n                                path.push(pt);\r\n                            });\r\n                            polyline.addPath(path);\r\n                        });\r\n                        const gr = this.getGraphic(polyline, track, `track ${i + 1}`, spatialReference);\r\n                        result.tracks.push(gr);\r\n                    });\r\n                    xml.querySelectorAll('rte').forEach((route, i) => {\r\n                        const polyline = new Polyline({ paths: [], spatialReference: { wkid: 4326 } });\r\n                        const path: Point[] = [];\r\n                        route.querySelectorAll('rtept').forEach((point) => {\r\n                            const pt = new Point({ latitude: point.attributes.lat.value, longitude: point.attributes.lon.value });\r\n                            path.push(pt);\r\n                        });\r\n                        polyline.addPath(path);\r\n                        const gr = this.getGraphic(polyline, route, `route ${i + 1}`, spatialReference);\r\n                        result.tracks.push(gr);\r\n                    });\r\n                    resolve(result);\r\n                });\r\n            });\r\n        });\r\n    }\r\n\r\n    private static getGraphic(geom: GeometryUnion, node: any, defaultName: string, spatialReference: SpatialReference): Graphic {\r\n        const n = node.querySelector('name');\r\n        let name = defaultName;\r\n        if (n) {\r\n            name = n.textContent;\r\n        }\r\n        const d = node.querySelector('desc');\r\n        let description = '';\r\n        if (d) {\r\n            description = d.textContent;\r\n        }\r\n        const popupTemplate = {\r\n            title: name,\r\n            content: description,\r\n        };\r\n        return new Graphic({\r\n            geometry: projectOperator.execute(geom, spatialReference) as GeometryUnion,\r\n            popupTemplate,\r\n        });\r\n    }\r\n}\r\n","import { property } from '@arcgis/core/core/accessorSupport/decorators/property';\r\nimport { subclass } from '@arcgis/core/core/accessorSupport/decorators/subclass';\r\nimport Point from '@arcgis/core/geometry/Point';\r\nimport SpatialReference from '@arcgis/core/geometry/SpatialReference';\r\nimport BaseTileLayer from '@arcgis/core/layers/BaseTileLayer';\r\nimport TileInfo from '@arcgis/core/layers/support/TileInfo';\r\n\r\n@subclass('esri.layers.SwissTileLayer')\r\nexport default class SwissTileLayer extends BaseTileLayer {\r\n\r\n    @property()\r\n    urlTemplate: string;\r\n\r\n    constructor(params) {\r\n        super();\r\n        const spatialReference = new SpatialReference({\r\n            wkid: 2056,\r\n        });\r\n        const tileInfo = TileInfo.create({\r\n            spatialReference,\r\n            numLODs: params.scales.length,\r\n            scales: params.scales,\r\n        });\r\n        tileInfo.origin = new Point({\r\n            x: 2420000,\r\n            y: 1350000,\r\n            spatialReference,\r\n        });\r\n        this.title = params.title;\r\n        this.urlTemplate = params.urlTemplate;\r\n        this.spatialReference = spatialReference;\r\n        this.tileInfo = tileInfo;\r\n    }\r\n\r\n    getTileUrl(level: number, row: number, col: number): string {\r\n        return this.urlTemplate\r\n            .replace('{level}', level.toString())\r\n            .replace('{col}', col.toString())\r\n            .replace('{row}', row.toString());\r\n    }\r\n\r\n}\r\n","import Basemap from '@arcgis/core/Basemap';\r\nimport { GeometryUnion } from '@arcgis/core/unionTypes.js';\r\nimport esriId from '@arcgis/core/identity/IdentityManager';\r\nimport FeatureLayer from '@arcgis/core/layers/FeatureLayer';\r\nimport ImageryLayer from '@arcgis/core/layers/ImageryLayer';\r\nimport MapImageLayer from '@arcgis/core/layers/MapImageLayer';\r\nimport Layer from '@arcgis/core/layers/Layer';\r\nimport TileLayer from '@arcgis/core/layers/TileLayer';\r\nimport VectorTileLayer from '@arcgis/core/layers/VectorTileLayer';\r\nimport WMTSLayer from '@arcgis/core/layers/WMTSLayer';\r\nimport SwissTileLayer from './SwissTileLayer';\r\nimport esriRequest from '@arcgis/core/request';\r\nimport * as query from '@arcgis/core/rest/query';\r\nimport { BasemapItem, ConfigItem, LayerQueryItem } from '../types/ConfigItem';\r\n\r\nexport default class LayerUtils {\r\n    private serviceDescription = null;\r\n    private config: ConfigItem;\r\n    private serviceUrl: string;\r\n\r\n    constructor(config: ConfigItem) {\r\n        this.config = config;\r\n        this.serviceUrl = config.vectorServiceUrl;\r\n        const token = config.vectorServiceToken;\r\n        if (token) {\r\n            esriId.registerToken({\r\n                token,\r\n                server: `${this.serviceUrl.split('/rest/services')[0]}/rest/services`,\r\n            });\r\n        }\r\n    }\r\n\r\n    getFeatureLayers(layers: string[]): Promise<FeatureLayer[]> {\r\n        return new Promise((resolve) => {\r\n            this.getServiceDescription().then((r) => {\r\n                const featureLayers: FeatureLayer[] = [];\r\n                r.layers.forEach((l) => {\r\n                    if (layers.includes(l.name)) {\r\n                        const featureLayer = new FeatureLayer({\r\n                            url: `${this.serviceUrl}/${l.id}`,\r\n                            title: l.name,\r\n                        });\r\n                        featureLayer.on('layerview-create', (e) => {\r\n                            const fLayer = e.layerView.layer as FeatureLayer;\r\n                            fLayer.popupTemplate = fLayer.createPopupTemplate();\r\n                            // requête si le champ pricipal est une expression Arcade\r\n                            /*esriRequest(url, {\r\n                                query: {\r\n                                    f: 'json',\r\n                                },\r\n                                responseType: 'json',\r\n                            }).then((r2) => {\r\n                                // r2.displayFieldExpressionInfo contient \"$feature.VOIE_TXT + \\\" \\\" + $feature.NO_ENTREE + \\\", \\\" + $feature.CODEPOST_4 + \\\" \\\" + $feature.LOCALITE;\"\r\n                                // il faudrait convertir cela dans la chaîne ci-dessous\r\n                                //fLayer.popupTemplate.title = '{VOIE_TXT} {NO_ENTREE}, {CODEPOST_4} {LOCALITE};';\r\n                            });*/\r\n                        });\r\n                        featureLayers.push(featureLayer);\r\n                    }\r\n                });\r\n                resolve(featureLayers);\r\n            });\r\n        });\r\n    }\r\n\r\n    async getMapImageLayers(layers: string[]): Promise<MapImageLayer[]> {\r\n        const mapImageLayers: MapImageLayer[] = [];\r\n        const r = await this.getServiceDescription();\r\n        r.layers.forEach((l) => {\r\n            if (layers.includes(l.name)) {\r\n                const layer = new MapImageLayer({\r\n                    title: l.name,\r\n                    url: this.serviceUrl,\r\n                    listMode: 'hide-children',\r\n                    sublayers: [{\r\n                        id: l.id,\r\n                        visible: true,\r\n                    }],\r\n                });\r\n                const sublayer = layer.sublayers!.at(0);\r\n                sublayer!.load().then(() => {\r\n                    sublayer!.popupEnabled = true;\r\n                    sublayer!.popupTemplate = sublayer!.createPopupTemplate();\r\n                    sublayer!.popupTemplate!.title = `${l.name}: {${sublayer!.sourceJSON.displayField}}`;\r\n                    \r\n                });\r\n                mapImageLayers.push(layer);\r\n            }\r\n        });\r\n        return mapImageLayers;\r\n    }\r\n\r\n    queryLayer(layerQuery: LayerQueryItem, ids: string[]): Promise<GeometryUnion[]> {\r\n        return new Promise((resolve) => {\r\n            this.getServiceDescription().then((r) => {\r\n                const layerInfo = r.layers.filter((l) => l.name === layerQuery.layer)[0];\r\n                if (!layerInfo) {\r\n                    console.warn(`Invalid layer name in config file: ${layerQuery.layer}`);\r\n                    resolve([]);\r\n                    return;\r\n                }\r\n                const field = layerInfo.fields.filter((f) => f.name === layerQuery.field)[0];\r\n                if (!field) {\r\n                    console.warn(`Invalid field name in config file: ${layerQuery.field}`);\r\n                    resolve([]);\r\n                    return;\r\n                }\r\n                let where: string;\r\n                if (this.isNumericField(field.type)) {\r\n                    where = `${layerQuery.field} in (${ids.join(',')})`;\r\n                } else {\r\n                    where = `${layerQuery.field} in ('${ids.join('\\',\\'')}')`;\r\n                }\r\n                query.executeQueryJSON(`${this.serviceUrl}/${layerInfo.id}`, {\r\n                    where,\r\n                    returnGeometry: true,\r\n                }).then((r2) => {\r\n                    resolve(r2.features.map((f) => f.geometry!));\r\n                });\r\n            });\r\n        });\r\n    }\r\n\r\n    getBasemaps(basemapItems: BasemapItem[]): Basemap[] {\r\n        const result: Basemap[] = [];\r\n        basemapItems.forEach((item) => {\r\n            const layer = this.getLayer(item);\r\n            if (layer) {\r\n                result.push(new Basemap({\r\n                    baseLayers: [layer],\r\n                    title: item.alias,\r\n                    thumbnailUrl: item.thumbnailUrl,\r\n                }));\r\n            }\r\n        });\r\n        return result;\r\n    }\r\n\r\n    private getServiceDescription(): Promise<any> {\r\n        return new Promise((resolve) => {\r\n            if (this.serviceDescription === null) {\r\n                esriRequest(`${this.serviceUrl}/layers`, {\r\n                    query: {\r\n                        f: 'json',\r\n                    },\r\n                    responseType: 'json',\r\n                }).then((r) => {\r\n                    this.serviceDescription = r.data;\r\n                    resolve(this.serviceDescription);\r\n                });\r\n            } else {\r\n                resolve(this.serviceDescription);\r\n            }\r\n        });\r\n    }\r\n\r\n    private getLayer(params: BasemapItem): Layer | null {\r\n        switch (params.type) {\r\n            case 'tile':\r\n                return new SwissTileLayer({\r\n                    title: params.alias,\r\n                    urlTemplate: params.urlTemplate,\r\n                    scales: this.config.scales,\r\n                });\r\n            case 'wmts':\r\n                return new WMTSLayer({\r\n                    url: params.url,\r\n                    activeLayer: {\r\n                        id: params.layerId,\r\n                    },\r\n                    copyright: params.copyright,\r\n                });\r\n            case 'mapservice':\r\n                return new TileLayer({\r\n                    url: params.url,\r\n                    copyright: params.copyright,\r\n                });\r\n            case 'imageservice':\r\n                return new ImageryLayer({\r\n                    url: params.url,\r\n                    copyright: params.copyright,\r\n                });\r\n            case 'vectortile':\r\n                return new VectorTileLayer({\r\n                    url: params.url,\r\n                });\r\n            default:\r\n                console.warn(`Unsupported basemap type: ${params.type}`);\r\n                return null;\r\n        }\r\n    }\r\n\r\n    private isNumericField(type: string): boolean {\r\n        if (type === 'esriFieldTypeSmallInteger' ||\r\n            type === 'esriFieldTypeInteger' ||\r\n            type === 'esriFieldTypeSingle' ||\r\n            type === 'esriFieldTypeDouble') {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n}\r\n","import Point from '@arcgis/core/geometry/Point';\r\nimport SpatialReference from '@arcgis/core/geometry/SpatialReference';\r\nimport Graphic from '@arcgis/core/Graphic';\r\nimport esriRequest from '@arcgis/core/request';\r\nimport PictureMarkerSymbol from '@arcgis/core/symbols/PictureMarkerSymbol';\r\n\r\nexport default class TextUtils {\r\n\r\n    static txtToFeatures(url: string, spatialReference: SpatialReference): Promise<Graphic[]> {\r\n        return new Promise((resolve) => {\r\n            esriRequest(url, {\r\n                responseType: 'text',\r\n            }).then((r) => {\r\n                const graphics: Graphic[] = [];\r\n                r.data.split('\\n').forEach((row: string, index: number) => {\r\n                    if (index) { // la première ligne contient le nom des champs\r\n                        const parts = row.split('\\t');\r\n                        if (parts.length >= 5) {\r\n                            const coords = parts[0].split(',');\r\n                            const geometry = new Point({ x: parseFloat(coords[1]), y: parseFloat(coords[0]), spatialReference });\r\n                            const popupTemplate = {\r\n                                title: parts[1],\r\n                                content: parts[2],\r\n                            };\r\n                            const symbolSize = parts[4].split(',');\r\n                            const symbol = new PictureMarkerSymbol({\r\n                                url: parts[3],\r\n                                width: `${symbolSize[0]}px`,\r\n                                height: `${symbolSize[1]}px`,\r\n                            });\r\n                            graphics.push(new Graphic({\r\n                                geometry,\r\n                                symbol,\r\n                                popupTemplate,\r\n                            }));\r\n                        }\r\n                    }\r\n                });\r\n                resolve(graphics);\r\n            });\r\n        });\r\n    }\r\n}\r\n","import { makeRuntime as f } from \"@arcgis/lumina\";\nimport { isServer as g } from \"lit-html/is-server.js\";\n/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.0.3 */\nconst l = \"calcite-mode-auto\", u = \"calcite-mode-dark\", h = \"calcite-mode-light\", D = {\n  autoMode: l,\n  darkMode: u,\n  lightMode: h,\n  rtl: \"calcite--rtl\",\n  calciteAnimate: \"calcite-animate\",\n  calciteAnimateInUp: \"calcite-animate__in-up\",\n  calciteAnimateInDown: \"calcite-animate__in-down\",\n  calciteAnimateInRight: \"calcite-animate__in-right\",\n  calciteAnimateInLeft: \"calcite-animate__in-left\"\n}, M = {\n  filter: 250,\n  nextTick: 0,\n  resize: 150,\n  reposition: 100\n};\nfunction r() {\n  const { classList: t } = document.body, i = window.matchMedia(\"(prefers-color-scheme: dark)\").matches, a = () => t.contains(u) || t.contains(l) && i ? \"dark\" : \"light\", c = (e) => document.body.dispatchEvent(new CustomEvent(\"calciteModeChange\", { bubbles: !0, detail: { mode: e } })), s = (e) => {\n    o !== e && c(e), o = e;\n  };\n  let o = a();\n  c(o), window.matchMedia(\"(prefers-color-scheme: dark)\").addEventListener(\"change\", (e) => s(e.matches ? \"dark\" : \"light\")), new MutationObserver(() => s(a())).observe(document.body, {\n    attributes: !0,\n    attributeFilter: [\"class\"]\n  });\n}\nconst n = globalThis.calciteConfig, _ = n?.focusTrapStack || [], E = n?.logLevel || \"info\", d = \"3.0.3\", p = \"2025-02-19\", b = \"0b0b89f59\";\nfunction v() {\n  if (n && n.version)\n    return;\n  console.info(`Using Calcite Components ${d} [Date: ${p}, Revision: ${b}]`);\n  const t = n || globalThis.calciteConfig || {};\n  Object.defineProperty(t, \"version\", {\n    value: d,\n    writable: !1\n  }), globalThis.calciteConfig = t;\n}\nconst m = () => !g && typeof navigator < \"u\" && typeof window < \"u\" && typeof location < \"u\" && typeof document < \"u\" && window.location === location && window.document === document;\nfunction C() {\n  return navigator.userAgentData;\n}\nfunction L() {\n  if (!m())\n    return \"\";\n  const t = C();\n  return t?.brands ? t.brands.map(({ brand: i, version: a }) => `${i}/${a}`).join(\" \") : navigator.userAgent;\n}\nfunction w() {\n  m() && (document.readyState === \"interactive\" ? r() : document.addEventListener(\"DOMContentLoaded\", () => r(), { once: !0 })), v();\n}\nw();\nconst A = f({ defaultAssetPath: \"https://js.arcgis.com/calcite-components/3.0.3/\", hydratedAttribute: \"calcite-hydrated\" }), { customElement: S, getAssetPath: T, setAssetPath: I } = A;\nexport {\n  D as C,\n  M as D,\n  L as a,\n  S as c,\n  _ as f,\n  T as g,\n  m as i,\n  E as l,\n  A as r,\n  I as s\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.0.3 */\nfunction e(r) {\n  return r.map((o) => {\n    let t = \"\";\n    for (let n = 0; n < o; n++)\n      t += ((1 + Math.random()) * 65536 | 0).toString(16).substring(1);\n    return t;\n  }).join(\"-\");\n}\nconst i = () => e([2, 1, 1, 1, 3]);\nexport {\n  i as g\n};\n","import { makeT9nController as o } from \"@arcgis/components-controllers\";\nimport { g as t } from \"./runtime.js\";\n/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.0.3 */\nconst s = o(t);\nexport {\n  s as u\n};\n","import { c as h } from \"../../chunks/runtime.js\";\nimport { html as o, svg as p, nothing as f } from \"lit\";\nimport { LitElement as z, setAttribute as u, safeClassMap as d, safeStyleMap as k } from \"@arcgis/lumina\";\nimport { g as x } from \"../../chunks/guid.js\";\nimport { u as y } from \"../../chunks/useT9n.js\";\nimport { css as b } from \"@lit/reactive-element/css-tag.js\";\n/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.0.3 */\nconst a = {\n  percentage: \"percentage\",\n  progressRing: \"ring--progress\",\n  ring: \"ring\",\n  rings: \"rings\",\n  text: \"text\",\n  trackRing: \"ring--track\"\n}, $ = b`:host{position:relative;margin-inline:auto;display:flex;align-items:center;justify-content:center;opacity:1;flex-direction:column;min-block-size:var(--calcite-loader-size);font-size:var(--calcite-loader-font-size);stroke-width:var(--calcite-internal-stroke-width);fill:none;transform:scale(1);padding-block:var(--calcite-loader-spacing, 4rem)}:host([scale=s]){--calcite-internal-stroke-width: 3;--calcite-internal-text-offset: var(--calcite-spacing-xxs);--calcite-internal-loader-font-size: var(--calcite-font-size--3);--calcite-internal-loader-size: 2rem;--calcite-internal-loader-size-inline: .75rem;--calcite-internal-loader-value-line-height: .625rem}:host([scale=m]){--calcite-internal-stroke-width: 6;--calcite-internal-text-offset: var(--calcite-spacing-sm);--calcite-internal-loader-font-size: var(--calcite-font-size-0);--calcite-internal-loader-size: 4rem;--calcite-internal-loader-size-inline: 1rem;--calcite-internal-loader-value-line-height: 1.375rem}:host([scale=l]){--calcite-internal-stroke-width: 8;--calcite-internal-text-offset: var(--calcite-spacing-md);--calcite-internal-loader-font-size: var(--calcite-font-size-2);--calcite-internal-loader-size: 6rem;--calcite-internal-loader-size-inline: 1.5rem;--calcite-internal-loader-value-line-height: 1.71875rem}.text{display:block;text-align:center;font-size:var(--calcite-font-size--2);line-height:1rem;margin-block-start:var(--calcite-loader-text-spacing, var(--calcite-internal-text-offset));font-weight:var(--calcite-loader-text-weight, var(--calcite-font-weight-normal));color:var(--calcite-loader-text-color, var(--calcite-color-text-1))}.percentage{display:block;text-align:center;font-size:var(--calcite-loader-font-size);inline-size:var(--calcite-loader-size, var(--calcite-internal-loader-size));line-height:var(--calcite-internal-loader-value-line-height);align-self:center;color:var(--calcite-loader-text-color, var(--calcite-color-text-1))}.rings{position:relative;display:flex;overflow:visible;opacity:1;inline-size:var(--calcite-loader-size, var(--calcite-internal-loader-size));block-size:var(--calcite-loader-size, var(--calcite-internal-loader-size))}.ring{position:absolute;inset-block-start:0px;transform-origin:center;overflow:visible;inset-inline-start:0;inline-size:var(--calcite-loader-size, var(--calcite-internal-loader-size));block-size:var(--calcite-loader-size, var(--calcite-internal-loader-size))}.ring--track{stroke:var(--calcite-loader-track-color, var(--calcite-color-transparent-press))}.ring--progress{stroke:var(--calcite-loader-progress-color, var(--calcite-color-brand));transform:rotate(-90deg);transition:all var(--calcite-internal-animation-timing-fast) linear}:host([type=indeterminate]) .ring--progress{animation:loader-clockwise calc(var(--calcite-internal-animation-timing-slow) / var(--calcite-internal-duration-factor) * 2 / var(--calcite-internal-duration-factor)) linear infinite}:host([inline]){--calcite-internal-stroke-width: 2;position:relative;margin:0;stroke:currentColor;stroke-width:2;padding-block:0px;block-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));min-block-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));inline-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));vertical-align:calc(var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline))) * -1 * .2)}:host([inline]) .rings{inset-block-start:0px;margin:0;inset-inline-start:0;inline-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));block-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)))}:host([inline]) .ring{inline-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));block-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)))}:host([inline]) .ring--progress{stroke:var(--calcite-loader-progress-color-inline, currentColor)}:host([complete]){opacity:0;transform:scale(.75);transform-origin:center;transition:opacity var(--calcite-internal-animation-timing-medium) linear 1s,transform var(--calcite-internal-animation-timing-medium) linear 1s}:host([complete]) .rings{opacity:0;transform:scale(.75);transform-origin:center;transition:opacity calc(.18s * var(--calcite-internal-duration-factor)) linear .8s,transform calc(.18s * var(--calcite-internal-duration-factor)) linear .8s}:host([complete]) .percentage{color:var(--calcite-color-brand);transform:scale(1.05);transform-origin:center;transition:color var(--calcite-internal-animation-timing-medium) linear,transform var(--calcite-internal-animation-timing-medium) linear}@keyframes loader-clockwise{0%{transform:rotate(0)}to{transform:rotate(360deg)}}:host([hidden]){display:none}[hidden]{display:none}`;\nclass w extends z {\n  constructor() {\n    super(...arguments), this.messages = y({ name: null }), this.complete = !1, this.inline = !1, this.scale = \"m\", this.text = \"\", this.type = \"indeterminate\", this.value = 0;\n  }\n  static {\n    this.properties = { complete: 7, inline: 7, label: 1, scale: 3, text: 1, type: 3, value: 9 };\n  }\n  static {\n    this.styles = $;\n  }\n  // #endregion\n  // #region Lifecycle\n  connectedCallback() {\n    super.connectedCallback(), this.updateFormatter();\n  }\n  load() {\n    requestAnimationFrame(() => this.valueChangeHandler());\n  }\n  willUpdate(e) {\n    e.has(\"value\") && (this.hasUpdated || this.value !== 0) && this.valueChangeHandler(), (e.has(\"type\") && (this.hasUpdated || this.type !== \"indeterminate\") || e.has(\"messages\")) && this.updateFormatter();\n  }\n  // #endregion\n  // #region Private Methods\n  valueChangeHandler() {\n    this.complete = this.type.startsWith(\"determinate\") && this.value === 100;\n  }\n  formatValue() {\n    return this.type !== \"determinate-value\" ? `${this.value}` : this.formatter.format(this.value / 100);\n  }\n  /**\n   * Return the proper sizes based on the scale property\n   *\n   * @param scale\n   */\n  getSize(e) {\n    return {\n      s: 32,\n      m: 64,\n      l: 96\n    }[e];\n  }\n  getInlineSize(e) {\n    return {\n      s: 12,\n      m: 16,\n      l: 24\n    }[e];\n  }\n  updateFormatter() {\n    this.type !== \"determinate-value\" || this.formatter?.resolvedOptions().locale === this.messages._lang || (this.formatter = new Intl.NumberFormat(this.messages._lang, {\n      style: \"percent\"\n    }));\n  }\n  // #endregion\n  // #region Rendering\n  render() {\n    const { el: e, inline: r, label: l, text: n, type: i, value: m } = this, s = e.id || x(), t = i !== \"indeterminate\", c = Math.floor(m);\n    return this.el.ariaLabel = l, this.el.ariaValueMax = t ? \"100\" : void 0, this.el.ariaValueMin = t ? \"0\" : void 0, this.el.ariaValueNow = t ? c.toString() : void 0, u(this.el, \"id\", s), this.el.role = \"progressbar\", o`<div class=${d(a.rings)}>${this.renderRing(\"track\")}${this.renderRing(\"progress\")}${!r && t && o`<div class=${d(a.percentage)}>${this.formatValue()}</div>` || \"\"}</div>${!r && n && o`<div class=${d(a.text)}>${n}</div>` || \"\"}`;\n  }\n  renderRing(e) {\n    const { inline: r, scale: l, value: n } = this, i = r ? this.getInlineSize(l) : this.getSize(l), s = i * 0.45;\n    let t;\n    if (e === \"progress\") {\n      const c = 2 * s * Math.PI, v = (this.type.startsWith(\"determinate\") ? n : 24) / 100 * c, g = c - v;\n      t = { \"stroke-dasharray\": `${v} ${g}` };\n    }\n    return o`<svg aria-hidden=true class=${d({\n      [a.ring]: !0,\n      [a.trackRing]: e === \"track\",\n      [a.progressRing]: e === \"progress\"\n    })} style=${k(t)} viewBox=${`0 0 ${i} ${i}`}>${p`<circle cx=${i / 2} cy=${i / 2} r=${s ?? f} />`}</svg>`;\n  }\n}\nh(\"calcite-loader\", w);\nexport {\n  w as Loader\n};\n","import { i as o } from \"./runtime.js\";\n/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.0.3 */\nfunction b(r, n, i) {\n  if (!o())\n    return;\n  const e = c(r);\n  return new e(n, i);\n}\nfunction c(r) {\n  class n extends window.MutationObserver {\n    constructor(e) {\n      super(e), this.observedEntry = [], this.callback = e;\n    }\n    observe(e, t) {\n      return this.observedEntry.push({ target: e, options: t }), super.observe(e, t);\n    }\n    unobserve(e) {\n      const t = this.observedEntry.filter((s) => s.target !== e);\n      this.observedEntry = [], this.callback(super.takeRecords(), this), this.disconnect(), t.forEach((s) => this.observe(s.target, s.options));\n    }\n  }\n  return function() {\n    return r === \"intersection\" ? window.IntersectionObserver : r === \"mutation\" ? n : window.ResizeObserver;\n  }();\n}\nexport {\n  b as c\n};\n","import { g as F } from \"./guid.js\";\nimport { C as b } from \"./runtime.js\";\n/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.0.3 */\n/*!\n* tabbable 6.2.0\n* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE\n*/\nvar O = [\"input:not([inert])\", \"select:not([inert])\", \"textarea:not([inert])\", \"a[href]:not([inert])\", \"button:not([inert])\", \"[tabindex]:not(slot):not([inert])\", \"audio[controls]:not([inert])\", \"video[controls]:not([inert])\", '[contenteditable]:not([contenteditable=\"false\"]):not([inert])', \"details>summary:first-of-type:not([inert])\", \"details:not([inert])\"], v = /* @__PURE__ */ O.join(\",\"), C = typeof Element > \"u\", d = C ? function() {\n} : Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector, h = !C && Element.prototype.getRootNode ? function(e) {\n  var t;\n  return e == null || (t = e.getRootNode) === null || t === void 0 ? void 0 : t.call(e);\n} : function(e) {\n  return e?.ownerDocument;\n}, g = function e(t, n) {\n  var r;\n  n === void 0 && (n = !0);\n  var a = t == null || (r = t.getAttribute) === null || r === void 0 ? void 0 : r.call(t, \"inert\"), u = a === \"\" || a === \"true\", i = u || n && t && e(t.parentNode);\n  return i;\n}, k = function(t) {\n  var n, r = t == null || (n = t.getAttribute) === null || n === void 0 ? void 0 : n.call(t, \"contenteditable\");\n  return r === \"\" || r === \"true\";\n}, M = function(t, n, r) {\n  if (g(t))\n    return [];\n  var a = Array.prototype.slice.apply(t.querySelectorAll(v));\n  return n && d.call(t, v) && a.unshift(t), a = a.filter(r), a;\n}, B = function e(t, n, r) {\n  for (var a = [], u = Array.from(t); u.length; ) {\n    var i = u.shift();\n    if (!g(i, !1))\n      if (i.tagName === \"SLOT\") {\n        var s = i.assignedElements(), o = s.length ? s : i.children, l = e(o, !0, r);\n        r.flatten ? a.push.apply(a, l) : a.push({\n          scopeParent: i,\n          candidates: l\n        });\n      } else {\n        var c = d.call(i, v);\n        c && r.filter(i) && (n || !t.includes(i)) && a.push(i);\n        var f = i.shadowRoot || // check for an undisclosed shadow\n        typeof r.getShadowRoot == \"function\" && r.getShadowRoot(i), D = !g(f, !1) && (!r.shadowRootFilter || r.shadowRootFilter(i));\n        if (f && D) {\n          var S = e(f === !0 ? i.children : f.children, !0, r);\n          r.flatten ? a.push.apply(a, S) : a.push({\n            scopeParent: i,\n            candidates: S\n          });\n        } else\n          u.unshift.apply(u, i.children);\n      }\n  }\n  return a;\n}, N = function(t) {\n  return !isNaN(parseInt(t.getAttribute(\"tabindex\"), 10));\n}, I = function(t) {\n  if (!t)\n    throw new Error(\"No node provided\");\n  return t.tabIndex < 0 && (/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName) || k(t)) && !N(t) ? 0 : t.tabIndex;\n}, L = function(t, n) {\n  var r = I(t);\n  return r < 0 && n && !N(t) ? 0 : r;\n}, P = function(t, n) {\n  return t.tabIndex === n.tabIndex ? t.documentOrder - n.documentOrder : t.tabIndex - n.tabIndex;\n}, A = function(t) {\n  return t.tagName === \"INPUT\";\n}, q = function(t) {\n  return A(t) && t.type === \"hidden\";\n}, $ = function(t) {\n  var n = t.tagName === \"DETAILS\" && Array.prototype.slice.apply(t.children).some(function(r) {\n    return r.tagName === \"SUMMARY\";\n  });\n  return n;\n}, W = function(t, n) {\n  for (var r = 0; r < t.length; r++)\n    if (t[r].checked && t[r].form === n)\n      return t[r];\n}, G = function(t) {\n  if (!t.name)\n    return !0;\n  var n = t.form || h(t), r = function(s) {\n    return n.querySelectorAll('input[type=\"radio\"][name=\"' + s + '\"]');\n  }, a;\n  if (typeof window < \"u\" && typeof window.CSS < \"u\" && typeof window.CSS.escape == \"function\")\n    a = r(window.CSS.escape(t.name));\n  else\n    try {\n      a = r(t.name);\n    } catch (i) {\n      return console.error(\"Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s\", i.message), !1;\n    }\n  var u = W(a, t.form);\n  return !u || u === t;\n}, U = function(t) {\n  return A(t) && t.type === \"radio\";\n}, j = function(t) {\n  return U(t) && !G(t);\n}, z = function(t) {\n  var n, r = t && h(t), a = (n = r) === null || n === void 0 ? void 0 : n.host, u = !1;\n  if (r && r !== t) {\n    var i, s, o;\n    for (u = !!((i = a) !== null && i !== void 0 && (s = i.ownerDocument) !== null && s !== void 0 && s.contains(a) || t != null && (o = t.ownerDocument) !== null && o !== void 0 && o.contains(t)); !u && a; ) {\n      var l, c, f;\n      r = h(a), a = (l = r) === null || l === void 0 ? void 0 : l.host, u = !!((c = a) !== null && c !== void 0 && (f = c.ownerDocument) !== null && f !== void 0 && f.contains(a));\n    }\n  }\n  return u;\n}, T = function(t) {\n  var n = t.getBoundingClientRect(), r = n.width, a = n.height;\n  return r === 0 && a === 0;\n}, X = function(t, n) {\n  var r = n.displayCheck, a = n.getShadowRoot;\n  if (getComputedStyle(t).visibility === \"hidden\")\n    return !0;\n  var u = d.call(t, \"details>summary:first-of-type\"), i = u ? t.parentElement : t;\n  if (d.call(i, \"details:not([open]) *\"))\n    return !0;\n  if (!r || r === \"full\" || r === \"legacy-full\") {\n    if (typeof a == \"function\") {\n      for (var s = t; t; ) {\n        var o = t.parentElement, l = h(t);\n        if (o && !o.shadowRoot && a(o) === !0)\n          return T(t);\n        t.assignedSlot ? t = t.assignedSlot : !o && l !== t.ownerDocument ? t = l.host : t = o;\n      }\n      t = s;\n    }\n    if (z(t))\n      return !t.getClientRects().length;\n    if (r !== \"legacy-full\")\n      return !0;\n  } else if (r === \"non-zero-area\")\n    return T(t);\n  return !1;\n}, V = function(t) {\n  if (/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))\n    for (var n = t.parentElement; n; ) {\n      if (n.tagName === \"FIELDSET\" && n.disabled) {\n        for (var r = 0; r < n.children.length; r++) {\n          var a = n.children.item(r);\n          if (a.tagName === \"LEGEND\")\n            return d.call(n, \"fieldset[disabled] *\") ? !0 : !a.contains(t);\n        }\n        return !0;\n      }\n      n = n.parentElement;\n    }\n  return !1;\n}, Y = function(t, n) {\n  return !(n.disabled || // we must do an inert look up to filter out any elements inside an inert ancestor\n  //  because we're limited in the type of selectors we can use in JSDom (see related\n  //  note related to `candidateSelectors`)\n  g(n) || q(n) || X(n, t) || // For a details element with a summary, the summary element gets the focus\n  $(n) || V(n));\n}, E = function(t, n) {\n  return !(j(n) || I(n) < 0 || !Y(t, n));\n}, Z = function(t) {\n  var n = parseInt(t.getAttribute(\"tabindex\"), 10);\n  return !!(isNaN(n) || n >= 0);\n}, H = function e(t) {\n  var n = [], r = [];\n  return t.forEach(function(a, u) {\n    var i = !!a.scopeParent, s = i ? a.scopeParent : a, o = L(s, i), l = i ? e(a.candidates) : s;\n    o === 0 ? i ? n.push.apply(n, l) : n.push(s) : r.push({\n      documentOrder: u,\n      tabIndex: o,\n      item: a,\n      isScope: i,\n      content: l\n    });\n  }), r.sort(P).reduce(function(a, u) {\n    return u.isScope ? a.push.apply(a, u.content) : a.push(u.content), a;\n  }, []).concat(n);\n}, K = function(t, n) {\n  n = n || {};\n  var r;\n  return n.getShadowRoot ? r = B([t], n.includeContainer, {\n    filter: E.bind(null, n),\n    flatten: !1,\n    getShadowRoot: n.getShadowRoot,\n    shadowRootFilter: Z\n  }) : r = M(t, n.includeContainer, E.bind(null, n)), H(r);\n};\nconst J = {\n  getShadowRoot: !0\n};\nfunction dt(e) {\n  return e ? e.id = e.id || `${e.tagName.toLowerCase()}-${F()}` : \"\";\n}\nfunction ht(e) {\n  return Array.isArray(e) ? e : Array.from(e);\n}\nfunction gt(e) {\n  const t = m(\n    e,\n    `.${b.darkMode}, .${b.lightMode}, .${b.autoMode}`\n  );\n  return t?.classList.contains(\"calcite-mode-dark\") || t?.classList.contains(\"calcite-mode-auto\") && window.matchMedia(\"(prefers-color-scheme: dark)\").matches ? \"dark\" : \"light\";\n}\nfunction bt(e) {\n  const t = \"dir\", n = `[${t}]`, r = m(e, n);\n  return r ? r.getAttribute(t) : \"ltr\";\n}\nfunction vt(e) {\n  return e ? parseFloat(getComputedStyle(e).inlineSize) : 0;\n}\nfunction p(e) {\n  return e.getRootNode();\n}\nfunction yt(e) {\n  const t = p(e);\n  return \"host\" in t ? t : null;\n}\nfunction pt(e, t) {\n  if (!e)\n    return 0;\n  const r = document.createElement(\"canvas\").getContext(\"2d\");\n  return r.font = t, r.measureText(e).width;\n}\nfunction x(e) {\n  return e.host || null;\n}\nfunction Q(e, {\n  selector: t,\n  id: n\n}) {\n  if (!e)\n    return null;\n  e.assignedSlot && (e = e.assignedSlot);\n  const r = p(e);\n  return (n ? \"getElementById\" in r ? (\n    /*\n      Check to make sure 'getElementById' exists in cases where element is no longer connected to the DOM and getRootNode() returns the element.\n      https://github.com/Esri/calcite-design-system/pull/4280\n       */\n    r.getElementById(n)\n  ) : null : t ? r.querySelector(t) : null) || Q(x(r), { selector: t, id: n });\n}\nfunction m(e, t) {\n  return e ? e.closest(t) || m(x(p(e)), t) : null;\n}\nfunction _(e) {\n  return typeof e?.setFocus == \"function\";\n}\nasync function tt(e) {\n  if (e)\n    return _(e) ? e.setFocus() : e.focus();\n}\nfunction et(e) {\n  if (e)\n    return K(e, J)[0] ?? e;\n}\nfunction mt(e) {\n  et(e)?.focus();\n}\nfunction St(e, t) {\n  return Array.from(e.children).filter((n) => n.matches(t));\n}\nfunction nt(e, t) {\n  return e.filter((n) => n.matches(t));\n}\nfunction Tt(e, t, n) {\n  if (typeof t == \"string\" && t !== \"\")\n    return t;\n  if (t === \"\" || t === !0)\n    return e[n];\n}\nfunction Et(e, t) {\n  return !(t.left > e.right || t.right < e.left || t.top > e.bottom || t.bottom < e.top);\n}\nfunction wt(e) {\n  return (!!e).toString();\n}\nfunction Ct(e) {\n  return ut(e) || at(e);\n}\nfunction rt(e) {\n  return it(e).filter((t) => t.nodeType === Node.TEXT_NODE).map((t) => t.textContent).join(\"\").trim();\n}\nfunction Nt(e) {\n  for (const t of e.childNodes)\n    if (t.nodeType === Node.TEXT_NODE && t.textContent?.trim() !== \"\" || t.nodeType === Node.ELEMENT_NODE)\n      return !0;\n  return !1;\n}\nfunction at(e) {\n  return !!rt(e);\n}\nfunction it(e) {\n  return e.currentTarget.assignedNodes({\n    flatten: !0\n  });\n}\nfunction ut(e) {\n  return !!st(e).length;\n}\nfunction st(e, t) {\n  return ot(e.target, t);\n}\nfunction ot(e, t) {\n  const n = e.assignedElements({\n    flatten: !0\n  });\n  return t ? nt(n, t) : n;\n}\nfunction It(e) {\n  return !!(e.isPrimary && e.button === 0);\n}\nfunction At(e) {\n  return e.detail === 0;\n}\nconst xt = (e, t, n, r = !0) => {\n  const a = e.indexOf(t), u = a === 0, i = a === e.length - 1;\n  r && (n = n === \"previous\" && u ? \"last\" : n === \"next\" && i ? \"first\" : n);\n  let s;\n  return n === \"previous\" ? s = e[a - 1] || e[r ? e.length - 1 : a] : n === \"next\" ? s = e[a + 1] || e[r ? 0 : a] : n === \"last\" ? s = e[e.length - 1] : s = e[0], tt(s), s;\n};\nfunction Rt(e, t) {\n  if (e.parentNode !== t.parentNode)\n    return !1;\n  const n = Array.from(e.parentNode.children);\n  return n.indexOf(e) < n.indexOf(t);\n}\nasync function Dt(e, t, n, r) {\n  return R(e, t, \"animation\", n, r);\n}\nasync function Ft(e, t, n, r) {\n  return R(e, t, \"transition\", n, r);\n}\nasync function lt(e, t) {\n  await y(), e?.(), await y(), t?.();\n}\nfunction w(e, t, n) {\n  const r = t === \"transition\" ? \"transitionProperty\" : \"animationName\";\n  return e.getAnimations().find((a) => a[r] === n);\n}\nasync function R(e, t, n, r, a) {\n  let u = w(e, n, t);\n  if (u || (await y(), u = w(e, n, t)), !u)\n    return lt(r, a);\n  r?.();\n  try {\n    await u.finished;\n  } catch {\n  } finally {\n    a?.();\n  }\n}\nfunction y() {\n  return new Promise((e) => requestAnimationFrame(() => e()));\n}\nfunction Ot(e) {\n  return e.endsWith(\"px\");\n}\nexport {\n  pt as A,\n  vt as B,\n  gt as C,\n  Nt as D,\n  ut as a,\n  tt as b,\n  yt as c,\n  xt as d,\n  ot as e,\n  St as f,\n  bt as g,\n  mt as h,\n  It as i,\n  Et as j,\n  m as k,\n  Rt as l,\n  Ot as m,\n  ht as n,\n  dt as o,\n  J as p,\n  Q as q,\n  Ct as r,\n  st as s,\n  wt as t,\n  At as u,\n  Tt as v,\n  Ft as w,\n  et as x,\n  p as y,\n  Dt as z\n};\n","import { c as r } from \"../../chunks/runtime.js\";\nimport { ref as o } from \"lit-html/directives/ref.js\";\nimport { html as s } from \"lit-html\";\nimport { LitElement as c, safeClassMap as i } from \"@arcgis/lumina\";\nimport { c as d } from \"../../chunks/observers.js\";\nimport { r as m } from \"../../chunks/dom.js\";\nimport { u as h } from \"../../chunks/useT9n.js\";\nimport { css as f } from \"@lit/reactive-element/css-tag.js\";\n/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.0.3 */\nconst n = {\n  scrim: \"scrim\",\n  content: \"content\"\n}, a = {\n  s: 72,\n  // Less than 72px.\n  // medium is assumed default.\n  l: 480\n  // Greater than or equal to 480px.\n}, p = f`:host{position:absolute;inset:0;z-index:var(--calcite-z-index-overlay);display:flex;block-size:100%;inline-size:100%;flex-direction:column;align-items:stretch}@keyframes calcite-scrim-fade-in{0%{--tw-bg-opacity: 0 }to{--tw-text-opacity: 1 }}.scrim{position:absolute;inset:0;display:flex;flex-direction:column;align-content:center;align-items:center;justify-content:center;overflow:hidden;animation:calcite-scrim-fade-in var(--calcite-internal-animation-timing-medium) ease-in-out;background-color:var(--calcite-scrim-background, var(--calcite-color-transparent-scrim))}.content{padding:1rem}:host([hidden]){display:none}[hidden]{display:none}`;\nclass u extends c {\n  constructor() {\n    super(...arguments), this.resizeObserver = d(\"resize\", () => this.handleResize()), this.hasContent = !1, this.loading = !1, this.messages = h();\n  }\n  static {\n    this.properties = { hasContent: 16, loaderScale: 16, loading: 7, messageOverrides: 0 };\n  }\n  static {\n    this.styles = p;\n  }\n  // #endregion\n  // #region Lifecycle\n  connectedCallback() {\n    super.connectedCallback(), this.resizeObserver?.observe(this.el);\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback(), this.resizeObserver?.disconnect();\n  }\n  // #endregion\n  // #region Private Methods\n  handleDefaultSlotChange(e) {\n    this.hasContent = m(e);\n  }\n  storeLoaderEl(e) {\n    this.loaderEl = e, this.handleResize();\n  }\n  getScale(e) {\n    return e < a.s ? \"s\" : e >= a.l ? \"l\" : \"m\";\n  }\n  handleResize() {\n    const { loaderEl: e, el: t } = this;\n    e && (this.loaderScale = this.getScale(Math.min(t.clientHeight, t.clientWidth) ?? 0));\n  }\n  // #endregion\n  // #region Rendering\n  render() {\n    const { hasContent: e, loading: t, messages: l } = this;\n    return s`<div class=${i(n.scrim)}>${t ? s`<calcite-loader .label=${l.loading} .scale=${this.loaderScale} ${o(this.storeLoaderEl)}></calcite-loader>` : null}<div class=${i(n.content)} .hidden=${!e}><slot @slotchange=${this.handleDefaultSlotChange}></slot></div></div>`;\n  }\n}\nr(\"calcite-scrim\", u);\nexport {\n  u as Scrim\n};\n","import { l as g } from \"./runtime.js\";\n/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.0.3 */\nconst s = /* @__PURE__ */ new Set(), d = {\n  trace: 0,\n  debug: 1,\n  info: 2,\n  warn: 4,\n  error: 8,\n  off: 10\n};\nfunction p(e) {\n  return d[e] >= d[g];\n}\nfunction r(e, ...n) {\n  if (!p(e))\n    return;\n  console[e].call(this, \"%ccalcite\", \"background: #007AC2; color: #fff; border-radius: 4px; padding: 2px 4px;\", ...n);\n}\nlet a;\nconst m = {\n  debug: (e) => r(\"debug\", e),\n  info: (e) => r(\"info\", e),\n  warn: (e) => r(\"warn\", e),\n  error: (e) => r(\"error\", e),\n  trace: (e) => r(\"trace\", e),\n  deprecated: $\n};\nfunction $(e, { component: n, name: t, suggested: o, removalVersion: i }) {\n  const l = `${e}:${e === \"component\" ? \"\" : n}${t}`;\n  if (s.has(l))\n    return;\n  s.add(l);\n  const c = Array.isArray(o);\n  c && !a && (a = new Intl.ListFormat(\"en\", { style: \"long\", type: \"disjunction\" }));\n  const f = `[${t}] ${e} is deprecated and will be removed in ${i === \"future\" ? \"a future version\" : `v${i}`}.${o ? ` Use ${c ? a.format(o.map((u) => `\"${u}\"`)) : `\"${o}\"`} instead.` : \"\"}`;\n  r(\"warn\", f);\n}\nexport {\n  m as l\n};\n","import { g as v, i as x, c as I } from \"../../chunks/runtime.js\";\nimport { html as C, svg as f, nothing as p } from \"lit\";\nimport { LitElement as z, safeClassMap as y } from \"@arcgis/lumina\";\nimport { g as $, t as D } from \"../../chunks/dom.js\";\nimport { c as k } from \"../../chunks/observers.js\";\nimport { l as w } from \"../../chunks/logger.js\";\nimport { css as N } from \"@lit/reactive-element/css-tag.js\";\n/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.0.3 */\nconst P = {\n  flipRtl: \"flip-rtl\"\n}, u = {}, d = {}, m = {\n  s: 16,\n  m: 24,\n  l: 32\n};\nfunction b({ icon: e, scale: t }) {\n  const s = m[t], i = L(e), n = i.charAt(i.length - 1) === \"F\";\n  return `${n ? i.substring(0, i.length - 1) : i}${s}${n ? \"F\" : \"\"}`;\n}\nasync function O(e) {\n  const t = b(e), s = g(t);\n  if (s)\n    return s;\n  d[t] || (d[t] = fetch(v(`./assets/icon/${t}.json`)).then((n) => n.json()).catch(() => (w.error(`${e.icon} (${e.scale}) icon failed to load`), \"\")));\n  const i = await d[t];\n  return u[t] = i, i;\n}\nfunction U(e) {\n  return g(b(e));\n}\nfunction g(e) {\n  return u[e];\n}\nfunction L(e) {\n  const t = !isNaN(Number(e.charAt(0))), s = e.split(\"-\");\n  if (s.length > 0) {\n    const n = /[a-z]/i;\n    e = s.map((o, r) => o.replace(n, function(a, h) {\n      return r === 0 && h === 0 ? a : a.toUpperCase();\n    })).join(\"\");\n  }\n  return t ? `i${e}` : e;\n}\nconst R = N`:host{display:inline-flex;color:var(--calcite-icon-color, var(--calcite-ui-icon-color, currentColor))}:host([scale=s]){inline-size:16px;block-size:16px;min-inline-size:16px;min-block-size:16px}:host([scale=m]){inline-size:24px;block-size:24px;min-inline-size:24px;min-block-size:24px}:host([scale=l]){inline-size:32px;block-size:32px;min-inline-size:32px;min-block-size:32px}.flip-rtl{transform:scaleX(-1)}.svg{display:block}:host([hidden]){display:none}[hidden]{display:none}`;\nclass A extends z {\n  constructor() {\n    super(...arguments), this.visible = !1, this.flipRtl = !1, this.icon = null, this.preload = !1, this.scale = \"m\";\n  }\n  static {\n    this.properties = { pathData: 16, visible: 16, flipRtl: 7, icon: 3, preload: 7, scale: 3, textLabel: 1 };\n  }\n  static {\n    this.styles = R;\n  }\n  // #endregion\n  // #region Lifecycle\n  connectedCallback() {\n    if (super.connectedCallback(), this.preload) {\n      this.visible = !0, this.loadIconPathData();\n      return;\n    }\n    this.visible || this.waitUntilVisible(() => {\n      this.visible = !0, this.loadIconPathData();\n    });\n  }\n  willUpdate(t) {\n    (t.has(\"icon\") && (this.hasUpdated || this.icon !== null) || t.has(\"scale\") && (this.hasUpdated || this.scale !== \"m\")) && this.loadIconPathData();\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback(), this.intersectionObserver?.disconnect(), this.intersectionObserver = null;\n  }\n  // #endregion\n  // #region Private Methods\n  async loadIconPathData() {\n    const { icon: t, scale: s, visible: i } = this;\n    if (!x() || !t || !i)\n      return;\n    const n = { icon: t, scale: s }, o = U(n) || await O(n);\n    t === this.icon && (this.pathData = o);\n  }\n  waitUntilVisible(t) {\n    if (this.intersectionObserver = k(\"intersection\", (s) => {\n      s.forEach((i) => {\n        i.isIntersecting && (this.intersectionObserver.disconnect(), this.intersectionObserver = null, t());\n      });\n    }, { rootMargin: \"50px\" }), !this.intersectionObserver) {\n      t();\n      return;\n    }\n    this.intersectionObserver.observe(this.el);\n  }\n  // #endregion\n  // #region Rendering\n  render() {\n    const { el: t, flipRtl: s, pathData: i, scale: n, textLabel: o } = this, r = $(t), l = m[n], a = !!o, h = [].concat(i || \"\");\n    return this.el.ariaHidden = D(!a), this.el.ariaLabel = a ? o : null, this.el.role = a ? \"img\" : null, C`<svg aria-hidden=true class=${y({\n      [P.flipRtl]: r === \"rtl\" && s,\n      svg: !0\n    })} fill=currentColor height=100% viewBox=${`0 0 ${l} ${l}`} width=100% xmlns=http://www.w3.org/2000/svg>${h.map((c) => typeof c == \"string\" ? f`<path d=${c ?? p} />` : f`<path d=${c.d ?? p} opacity=${(\"opacity\" in c ? c.opacity : 1) ?? p} />`)}</svg>`;\n  }\n}\nI(\"calcite-icon\", A);\nexport {\n  A as Icon\n};\n","import { i as a } from \"./runtime.js\";\n/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.0.3 */\nasync function t(e) {\n  await e.componentOnReady();\n}\nasync function r(e) {\n  if (await e.componentOnReady(), !!a())\n    return e.requestUpdate(), new Promise((n) => requestAnimationFrame(() => n()));\n}\nexport {\n  t as a,\n  r as c\n};\n","import { html as o } from \"lit-html\";\nimport { safeClassMap as c } from \"@arcgis/lumina\";\n/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.0.3 */\nfunction s() {\n  const { disabled: e } = this;\n  e || HTMLElement.prototype.click.call(this);\n}\nfunction i(e) {\n  e.target.disabled && e.preventDefault();\n}\nconst r = [\"mousedown\", \"mouseup\", \"click\"];\nfunction a(e) {\n  e.target.disabled && (e.stopImmediatePropagation(), e.preventDefault());\n}\nconst n = { capture: !0 };\nfunction m(e) {\n  if (e.disabled) {\n    e.el.setAttribute(\"aria-disabled\", \"true\"), e.el.contains(document.activeElement) && document.activeElement.blur(), l(e);\n    return;\n  }\n  u(e), e.el.removeAttribute(\"aria-disabled\");\n}\nfunction l(e) {\n  e.el.click = s, d(e.el);\n}\nfunction d(e) {\n  e.addEventListener(\"pointerdown\", i, n), r.forEach((t) => e.addEventListener(t, a, n));\n}\nfunction u(e) {\n  delete e.el.click, f(e.el);\n}\nfunction f(e) {\n  e.removeEventListener(\"pointerdown\", i, n), r.forEach((t) => e.removeEventListener(t, a, n));\n}\nconst v = {\n  container: \"interaction-container\"\n}, p = ({ children: e, disabled: t }) => o`<div class=${c(v.container)} .inert=${t}>${e}</div>`;\nexport {\n  p as I,\n  m as u\n};\n","/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.0.3 */\nfunction t(n) {\n  return n === \"Enter\" || n === \" \";\n}\nconst e = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"];\nexport {\n  t as i,\n  e as n\n};\n","import { l as t } from \"./logger.js\";\n/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.0.3 */\nfunction s(i) {\n  return i === \"l\" ? \"m\" : \"s\";\n}\nfunction a(i, r, n) {\n  !i[r] && !i[n] && t.warn(`[${i.el.localName}] \"${r.toString()}\" or \"${n.toString()}\" is required.`);\n}\nfunction g(i) {\n  return i.hidden || i.itemHidden;\n}\nexport {\n  s as g,\n  g as i,\n  a as w\n};\n","import { i as h, c as d } from \"../../chunks/runtime.js\";\nimport { html as i } from \"lit\";\nimport { createRef as o, ref as r } from \"lit-html/directives/ref.js\";\nimport { LitElement as m, createEvent as a, safeClassMap as t } from \"@arcgis/lumina\";\nimport { a as v } from \"../../chunks/dom.js\";\nimport { c as g } from \"../../chunks/loadable.js\";\nimport { u as x, I as u } from \"../../chunks/interactive.js\";\nimport { i as b } from \"../../chunks/key.js\";\nimport { g as n } from \"../../chunks/component.js\";\nimport { u as f } from \"../../chunks/useT9n.js\";\nimport { css as k } from \"@lit/reactive-element/css-tag.js\";\n/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\nv3.0.3 */\nconst c = {\n  title: \"title\",\n  close: \"close\",\n  imageContainer: \"image-container\",\n  chipIcon: \"chip-icon\",\n  textSlotted: \"text--slotted\",\n  container: \"container\",\n  imageSlotted: \"image--slotted\",\n  closable: \"closable\",\n  multiple: \"multiple\",\n  single: \"single\",\n  selectable: \"selectable\",\n  selectIcon: \"select-icon\",\n  selectIconActive: \"select-icon--active\",\n  nonInteractive: \"non-interactive\",\n  isCircle: \"is-circle\",\n  selected: \"selected\"\n}, z = {\n  image: \"image\"\n}, l = {\n  close: \"x\",\n  checkedSingle: \"circle-f\",\n  uncheckedMultiple: \"square\",\n  checkedMultiple: \"check-square-f\"\n}, y = k`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline-flex;cursor:default;border-radius:var(--calcite-chip-corner-radius, 9999px)}:host([closed]){display:none}:host([appearance=outline]) .container,:host([appearance=outline-fill]) .container{color:var(--calcite-chip-text-color, var(--calcite-color-text-1))}:host([appearance=outline]) .close,:host([appearance=outline-fill]) .close{color:var(--calcite-chip-close-icon-color, var(--calcite-close-icon-color, var(--calcite-color-text-3)))}:host([appearance=outline]):host([kind=brand]) .container,:host([appearance=outline-fill]):host([kind=brand]) .container{border-color:var(--calcite-chip-border-color, var(--calcite-color-brand))}:host([appearance=outline]):host([kind=inverse]) .container,:host([appearance=outline-fill]):host([kind=inverse]) .container{border-color:var(--calcite-chip-border-color, var(--calcite-color-border-inverse))}:host([appearance=outline]):host([kind=neutral]) .container,:host([appearance=outline-fill]):host([kind=neutral]) .container{border-color:var(--calcite-chip-border-color, var(--calcite-color-border-1))}:host([appearance=outline]) .container{background-color:transparent}:host([appearance=outline-fill]) .container{background-color:var(--calcite-chip-background-color, var(--calcite-color-foreground-1))}:host([appearance=solid]) .container{border-color:transparent}:host([appearance=solid]):host([kind=brand]) .container,:host([appearance=solid]):host([kind=inverse]) .container{color:var(--calcite-chip-text-color, var(--calcite-color-text-inverse))}:host([appearance=solid]):host([kind=brand]) .close,:host([appearance=solid]):host([kind=inverse]) .close{outline-color:var(--calcite-color-text-inverse)}:host([appearance=solid]):host([kind=brand]) .container{background-color:var(--calcite-chip-background-color, var(--calcite-color-brand))}:host([appearance=solid]):host([kind=inverse]) .container{background-color:var(--calcite-chip-background-color, var(--calcite-color-inverse))}:host([appearance=solid]):host([kind=inverse]) .close:hover{background-color:var(--calcite-color-inverse-hover)}:host([appearance=solid]):host([kind=inverse]) .close:active{background-color:var(--calcite-color-inverse-press)}:host([appearance=solid]):host([kind=neutral]) .container{background-color:var(--calcite-chip-background-color, var(--calcite-color-foreground-2))}:host([kind=neutral]) .container{color:var(--calcite-chip-text-color, var(--calcite-color-text-1))}:host([kind=neutral]) .close{color:var(--calcite-chip-close-icon-color, var(--calcite-close-icon-color, var(--calcite-color-text-3)))}:host([selected]) .select-icon{opacity:1}:host([scale=s]) .container{--calcite-internal-chip-block-size: var(--calcite-size-sm, 1.5rem) ;--calcite-internal-chip-container-space-x-end: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-font-size: var(--calcite-font-size--2);--calcite-internal-chip-icon-size: var(--calcite-size-xs, 1rem) ;--calcite-internal-chip-icon-space: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-image-size: var(--calcite-spacing-xl, 1.25rem) ;--calcite-internal-chip-title-space: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-close-size: var(--calcite-size-xs, 1rem) }:host([scale=s]) .container:not(.closable).is-circle{--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-px);--calcite-internal-chip-container-space-x-end: var(--calcite-spacing-px)}:host([scale=s]) .container.image--slotted:has(.chip-icon),:host([scale=s]) .container.image--slotted.text--slotted,:host([scale=s]) .container.image--slotted.closable{--calcite-internal-chip-image-space-x-end: var(--calcite-spacing-xxs, .25rem) }:host([scale=s]) .container.image--slotted:not(.text--slotted,:has(.chip-icon)),:host([scale=s]) .container.image--slotted:not(.selectable){--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-px)}:host([scale=s]) .container.selectable.single:not(.is-circle).image--slotted{--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-px)}:host([scale=s]) .container.selectable.single:not(.is-circle).selected{--calcite-internal-chip-select-space-x-end: var(--calcite-spacing-xs, .375rem) ;--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-none, 0)}:host([scale=s]) .container.selectable.single:not(.is-circle).selected.image--slotted{--calcite-internal-chip-select-space-x-end: .5rem ;--calcite-internal-chip-select-space-x-start: .125rem }:host([scale=s]) .container.multiple:not(.is-circle){--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-select-space-x-end: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-xxs, .25rem) }:host([scale=s]) .container.multiple:not(.is-circle).image--slotted{--calcite-internal-chip-select-space-x-end: .5rem ;--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-xs, .375rem) ;--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-px)}:host([scale=s]) .container.multiple:not(.is-circle).image--slotted:not(.text--slotted){--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-xs, .375rem) }:host([scale=m]) .container{--calcite-internal-chip-block-size: var(--calcite-size-md, 2rem) ;--calcite-internal-chip-container-space-x-end: var(--calcite-spacing-xs, .375rem) ;--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xs, .375rem) ;--calcite-internal-chip-font-size: var(--calcite-font-size--1);--calcite-internal-chip-icon-size: var(--calcite-size-sm, 1.5rem) ;--calcite-internal-chip-icon-space: var(--calcite-spacing-xs, .375rem) ;--calcite-internal-chip-image-size: var(--calcite-size-sm, 1.5rem) ;--calcite-internal-chip-title-space: var(--calcite-spacing-xs, .375rem) ;--calcite-internal-close-size: var(--calcite-size-sm, 1.5rem) }:host([scale=m]) .container:not(.closable).is-circle{--calcite-internal-chip-container-space-x-end: var(--calcite-spacing-px);--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-px)}:host([scale=m]) .container.image--slotted:not(.is-circle){--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xxs, .25rem) }:host([scale=m]) .container.image--slotted:has(.chip-icon),:host([scale=m]) .container.image--slotted.text--slotted,:host([scale=m]) .container.image--slotted.closable{--calcite-internal-chip-image-space-x-end: var(--calcite-spacing-xs, .375rem) }:host([scale=m]) .container.selectable.single:not(.is-circle).image--slotted{--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xxs, .25rem) }:host([scale=m]) .container.selectable.single:not(.is-circle).selected{--calcite-internal-chip-select-space-x-end: var(--calcite-spacing-px);--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-none, 0)}:host([scale=m]) .container.selectable.single:not(.is-circle).selected.image--slotted{--calcite-internal-chip-select-space-x-end: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-xs, .375rem) }:host([scale=m]) .container.multiple:not(.is-circle){--calcite-internal-chip-select-space-x-end: .125rem ;--calcite-internal-chip-select-space-x-start: .125rem }:host([scale=m]) .container.multiple:not(.is-circle).image--slotted{--calcite-internal-chip-select-space-x-end: .5rem ;--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-xxs, .25rem) }:host([scale=m]) .container.closable:not(.is-circle){--calcite-internal-chip-container-space-x-end: var(--calcite-spacing-xxs, .25rem) }:host([scale=l]) .container{--calcite-internal-chip-block-size: 2.75rem ;--calcite-internal-chip-container-space-x-end: .5rem ;--calcite-internal-chip-container-space-x-start: .5rem ;--calcite-internal-chip-font-size: var(--calcite-font-size-0);--calcite-internal-chip-icon-size: var(--calcite-size-md, 2rem) ;--calcite-internal-chip-icon-space: .5rem ;--calcite-internal-chip-image-size: var(--calcite-size-md, 2rem) ;--calcite-internal-chip-title-space: .5rem ;--calcite-internal-close-size: var(--calcite-size-md, 2rem) }:host([scale=l]) .container:not(.closable).is-circle{--calcite-internal-chip-container-space-x-end: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xxs, .25rem) }:host([scale=l]) .container.image--slotted:not(.is-circle){--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xs, .375rem) }:host([scale=l]) .container.image--slotted:has(.chip-icon),:host([scale=l]) .container.image--slotted.text--slotted,:host([scale=l]) .container.image--slotted.closable{--calcite-internal-chip-image-space-x-end: .5rem }:host([scale=l]) .container.selectable.single:not(.is-circle).image--slotted{--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xs, .375rem) }:host([scale=l]) .container.selectable.single:not(.is-circle).selected{--calcite-internal-chip-select-space-x-end: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-none, 0)}:host([scale=l]) .container.selectable.single:not(.is-circle).selected.image--slotted{--calcite-internal-chip-select-space-x-end: var(--calcite-spacing-xs, .375rem) ;--calcite-internal-chip-select-space-x-start: .5rem }:host([scale=l]) .container.multiple:not(.is-circle){--calcite-internal-chip-container-space-x-start: .5rem ;--calcite-internal-chip-select-space-x-end: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-xxs, .25rem) }:host([scale=l]) .container.multiple:not(.is-circle).image--slotted{--calcite-internal-chip-select-space-x-end: .75rem }:host([scale=l]) .container.closable:not(.is-circle){--calcite-internal-chip-container-space-x-end: var(--calcite-spacing-xs, .375rem) }.container{box-sizing:border-box;display:inline-flex;block-size:100%;max-inline-size:100%;align-items:center;justify-content:center;font-weight:var(--calcite-font-weight-medium);outline-color:transparent;border-radius:var(--calcite-chip-corner-radius, 9999px);border-width:var(--calcite-border-width-sm);border-style:solid;font-size:var(--calcite-internal-chip-font-size, var(--calcite-font-size));padding-inline-start:var(--calcite-internal-chip-container-space-x-start);padding-inline-end:var(--calcite-internal-chip-container-space-x-end);block-size:var(--calcite-internal-chip-block-size, auto);inline-size:var(--calcite-internal-chip-inline-size, auto);min-inline-size:var(--calcite-internal-chip-block-size, auto)}.container:hover .select-icon--active{opacity:var(--calcite-opacity-full, 1)}.container.selectable{cursor:pointer}.container:not(.non-interactive):focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.container.text--slotted .title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.container:not(.text--slotted) .title,.container:not(.image--slotted) .image-container{display:none}.container.is-circle .chip-icon,.container.is-circle .image-container{padding:var(--calcite-spacing-none, 0)}.title{padding-inline:var(--calcite-internal-chip-title-space)}.image-container{display:inline-flex;overflow:hidden;align-items:center;justify-content:center;pointer-events:none;block-size:var(--calcite-internal-chip-image-size, var(--calcite-spacing-xxl, 1.5rem));inline-size:var(--calcite-internal-chip-image-size, var(--calcite-spacing-xxl, 1.5rem));padding-inline-start:var(--calcite-spacing-none, 0);padding-inline-end:var(--calcite-internal-chip-image-space-x-end, 0)}.chip-icon{position:relative;margin-block:0px;display:inline-flex;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1);color:var(--calcite-chip-icon-color, var(--calcite-chip-text-color, var(--calcite-icon-color, currentColor)));padding-inline:var(--calcite-internal-chip-icon-space, var(--calcite-spacing-xs, .375rem))}.select-icon{align-self:center;justify-content:center;align-items:center;display:flex;inset-block-start:-1px;position:absolute;visibility:hidden;inline-size:auto;opacity:0;transition:opacity .15s ease-in-out,inline-size .15s ease-in-out;color:var(--calcite-chip-select-icon-color, currentColor)}.select-icon.select-icon--active{position:relative;visibility:visible;opacity:var(--calcite-opacity-half, .5);color:var(--calcite-chip-select-icon-color-pressed, var(--calcite-chip-select-icon-color, currentColor))}.multiple .select-icon{display:flex;align-items:center;justify-content:center}.multiple .select-icon,.single .select-icon--active{padding-inline-start:var(--calcite-internal-chip-select-space-x-start);padding-inline-end:var(--calcite-internal-chip-select-space-x-end);block-size:var(--calcite-internal-chip-icon-size, var(--calcite-spacing-xxl, 1.5rem));inline-size:var(--calcite-internal-chip-icon-size, var(--calcite-spacing-xxl, 1.5rem))}slot[name=image]::slotted(*){display:flex;block-size:100%;inline-size:100%;overflow:hidden;border-radius:50%}.close{margin:0;cursor:pointer;align-items:center;border-radius:50%;border-style:none;outline-color:transparent;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;background-color:var(--calcite-close-background-color, var(--calcite-color-transparent));-webkit-appearance:none;display:flex;align-content:center;justify-content:center;color:var(--calcite-chip-close-icon-color, var(--calcite-close-icon-color, currentColor));block-size:var(--calcite-internal-close-size, var(--calcite-spacing-xxl, 1.5rem));inline-size:var(--calcite-internal-close-size, var(--calcite-spacing-xxl, 1.5rem));padding:0}.close:hover,.close:focus{background-color:var(--calcite-close-background-color-hover, var(--calcite-color-transparent-hover))}.close:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.close:active{background-color:var(--calcite-close-background-color-press, var(--calcite-color-transparent-press))}.close calcite-icon{color:inherit}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([hidden]){display:none}[hidden]{display:none}`;\nclass C extends m {\n  // #endregion\n  // #region Lifecycle\n  constructor() {\n    super(), this.closeButtonEl = o(), this.containerEl = o(), this.hasImage = !1, this.hasText = !1, this.appearance = \"solid\", this.closable = !1, this.closed = !1, this.closeOnDelete = !1, this.disabled = !1, this.iconFlipRtl = !1, this.interactive = !1, this.kind = \"neutral\", this.messages = f(), this.scale = \"m\", this.selected = !1, this.selectionMode = \"none\", this.calciteChipClose = a({ cancelable: !1 }), this.calciteChipSelect = a({ cancelable: !1 }), this.calciteInternalChipKeyEvent = a({ cancelable: !1 }), this.calciteInternalChipSelect = a({ cancelable: !1 }), this.calciteInternalSyncSelectedChips = a({ cancelable: !1 }), this.listen(\"keydown\", this.keyDownHandler), this.listen(\"click\", this.clickHandler);\n  }\n  static {\n    this.properties = { hasImage: 16, hasText: 16, appearance: 3, closable: 7, closed: 7, closeOnDelete: 7, disabled: 7, icon: 3, iconFlipRtl: 7, interactive: 5, kind: 3, label: 1, messageOverrides: 0, parentChipGroup: 0, scale: 3, selected: 7, selectionMode: 1, value: 1 };\n  }\n  static {\n    this.styles = y;\n  }\n  // #endregion\n  // #region Public Methods\n  /** Sets focus on the component. */\n  async setFocus() {\n    await g(this), !this.disabled && this.interactive ? this.containerEl.value?.focus() : !this.disabled && this.closable && this.closeButtonEl.value?.focus();\n  }\n  async load() {\n    h() && this.updateHasText();\n  }\n  willUpdate(e) {\n    e.has(\"selected\") && this.hasUpdated && this.watchSelected(this.selected);\n  }\n  updated() {\n    x(this);\n  }\n  loaded() {\n    this.selectionMode !== \"none\" && this.interactive && this.selected && this.handleSelectionPropertyChange(this.selected);\n  }\n  // #endregion\n  // #region Private Methods\n  watchSelected(e) {\n    this.selectionMode !== \"none\" && this.handleSelectionPropertyChange(e);\n  }\n  keyDownHandler(e) {\n    if (e.target === this.el)\n      switch (e.key) {\n        case \" \":\n        case \"Enter\":\n          this.handleEmittingEvent(), e.preventDefault();\n          break;\n        case \"Backspace\":\n        case \"Delete\":\n          this.closable && !this.closed && this.closeOnDelete && (e.preventDefault(), this.close());\n          break;\n        case \"ArrowRight\":\n        case \"ArrowLeft\":\n        case \"Home\":\n        case \"End\":\n          this.calciteInternalChipKeyEvent.emit(e), e.preventDefault();\n          break;\n      }\n  }\n  clickHandler() {\n    !this.interactive && this.closable && this.closeButtonEl.value.focus();\n  }\n  handleDefaultSlotChange() {\n    this.updateHasText();\n  }\n  close() {\n    this.calciteChipClose.emit(), this.selected = !1, this.closed = !0;\n  }\n  closeButtonKeyDownHandler(e) {\n    b(e.key) && (e.preventDefault(), this.close());\n  }\n  updateHasText() {\n    this.hasText = this.el.textContent.trim().length > 0;\n  }\n  handleSlotImageChange(e) {\n    this.hasImage = v(e);\n  }\n  handleEmittingEvent() {\n    this.interactive && this.calciteChipSelect.emit();\n  }\n  handleSelectionPropertyChange(e) {\n    this.selectionMode === \"single\" && this.calciteInternalSyncSelectedChips.emit(), !this.parentChipGroup.selectedItems.includes(this.el) && e && this.selectionMode !== \"multiple\" && this.calciteInternalChipSelect.emit(), this.selectionMode !== \"single\" && this.calciteInternalSyncSelectedChips.emit();\n  }\n  // #endregion\n  // #region Rendering\n  renderChipImage() {\n    return i`<div class=${t(c.imageContainer)}><slot name=${z.image} @slotchange=${this.handleSlotImageChange}></slot></div>`;\n  }\n  renderSelectionIcon() {\n    const e = this.selectionMode === \"multiple\" ? this.selected ? l.checkedMultiple : l.uncheckedMultiple : this.selected ? l.checkedSingle : void 0;\n    return i`<div class=${t({\n      [c.selectIcon]: !0,\n      [c.selectIconActive]: this.selectionMode === \"multiple\" || this.selected\n    })}>${e ? i`<calcite-icon .icon=${e} .scale=${n(this.scale)}></calcite-icon>` : null}</div>`;\n  }\n  renderCloseButton() {\n    return i`<button .ariaLabel=${this.messages.dismissLabel} class=${t(c.close)} @click=${this.close} @keydown=${this.closeButtonKeyDownHandler} .tabIndex=${this.disabled ? -1 : 0} ${r(this.closeButtonEl)}><calcite-icon .icon=${l.close} .scale=${n(this.scale)}></calcite-icon></button>`;\n  }\n  renderIcon() {\n    return i`<calcite-icon class=${t(c.chipIcon)} .flipRtl=${this.iconFlipRtl} .icon=${this.icon} .scale=${n(this.scale)}></calcite-icon>`;\n  }\n  render() {\n    const { disabled: e } = this, s = e || !e && !this.interactive, p = this.selectionMode === \"multiple\" && this.interactive ? \"checkbox\" : this.selectionMode !== \"none\" && this.interactive ? \"radio\" : this.interactive ? \"button\" : \"img\";\n    return u({ disabled: e, children: i`<div .ariaChecked=${this.selectionMode !== \"none\" && this.interactive ? this.selected : void 0} .ariaLabel=${this.label} class=${t({\n      [c.container]: !0,\n      [c.textSlotted]: this.hasText,\n      [c.imageSlotted]: this.hasImage,\n      [c.selectable]: this.selectionMode !== \"none\",\n      [c.multiple]: this.selectionMode === \"multiple\",\n      [c.single]: this.selectionMode === \"single\" || this.selectionMode === \"single-persist\",\n      [c.selected]: this.selected,\n      [c.closable]: this.closable,\n      [c.nonInteractive]: !this.interactive,\n      [c.isCircle]: !this.closable && !this.hasText && (!this.icon || !this.hasImage) && (this.selectionMode === \"none\" || !!this.selectionMode && this.selectionMode !== \"multiple\" && !this.selected)\n    })} @click=${this.handleEmittingEvent} .role=${p} .tabIndex=${s ? -1 : 0} ${r(this.containerEl)}>${this.selectionMode !== \"none\" && this.renderSelectionIcon() || \"\"}${this.renderChipImage()}${this.icon && this.renderIcon() || \"\"}<span class=${t(c.title)}><slot @slotchange=${this.handleDefaultSlotChange}></slot></span>${this.closable && this.renderCloseButton() || \"\"}</div>` });\n  }\n}\nd(\"calcite-chip\", C);\nexport {\n  C as Chip\n};\n","/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\nv4.32.7 */\nconst e = \"esri-basemap-gallery\", t = {\n  base: e,\n  sourceLoading: `${e}--source-loading`,\n  // When set, the items are be displayed in a grid instead of stacked vertically.\n  layoutGrid: `${e}--grid`,\n  // When set, the thumbnail of each item is narrower, to allow the title to be wider.\n  narrowItems: `${e}--narrow-items`,\n  loader: `${e}__loader`,\n  item: `${e}__item`,\n  itemContainer: `${e}__item-container`,\n  itemContent: `${e}__item-content`,\n  itemTitle: `${e}__item-title`,\n  itemTagsContainer: `${e}__item-tags-container`,\n  itemThumbnail: `${e}__item-thumbnail`,\n  selectedItem: `${e}__item--selected`,\n  itemError: `${e}__item--error`\n};\nexport {\n  t as c\n};\n","import { g as y, c as I } from \"../../chunks/runtime.js\";\nimport { classes as B } from \"@arcgis/components-utils\";\nimport { watch as h } from \"@arcgis/core/core/reactiveUtils.js\";\nimport { LitElement as w, noShadowRoot as x, nothing as r, safeClassMap as s } from \"@arcgis/lumina\";\nimport { html as l } from \"lit-html\";\nimport { g as A } from \"../../chunks/globalCss.js\";\nimport { c as i } from \"../../chunks/basemap-gallery-resources.js\";\n/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\nv4.32.7 */\nfunction C(e) {\n  return e.portalItem?.type === \"Web Scene\" || e.referenceLayers.some((t) => t.type === \"scene\");\n}\nfunction _(e) {\n  return !!e?.portalItem?.tags?.some((t) => t.toLowerCase() === \"beta\");\n}\nclass S extends w {\n  constructor() {\n    super(...arguments), this._itemState = \"loading\", this._isActive = !1;\n  }\n  static {\n    this.properties = { _itemState: 16, _isActive: 16, disabled: 5, item: 0, itemIndex: 9, viewModel: 0, messages: 0 };\n  }\n  static {\n    this.shadowRootOptions = x;\n  }\n  //#endregion\n  //#region Lifecycle\n  loaded() {\n    this.manager.onLifecycle(() => [\n      h(() => this.item.state, (t) => {\n        this._itemState = t;\n      }, { sync: !0 }),\n      h(() => this.viewModel.activeBasemap, (t) => {\n        this._isActive = this.item.basemap.id === t?.id, this._isActive && (this.el.childElem?.focus(), this.el.scrollIntoView({ block: \"nearest\" }));\n      }, { initial: !0, sync: !0 })\n    ]);\n  }\n  //#endregion\n  //#region Rendering\n  render() {\n    const { disabled: t, item: a, itemIndex: n, viewModel: o, messages: u } = this, g = a.basemap.thumbnailUrl || y(\"assets/basemap-gallery/images/basemap-toggle-64.svg\"), m = a.basemap.title, b = a.basemap.portalItem?.snippet, $ = a.error?.message || b || m, { activeBasemapIndex: p } = o, c = p === n, f = c || p === -1 && n === 0 ? 0 : -1, v = {\n      [i.selectedItem]: c,\n      [i.itemError]: a.state === \"error\"\n    }, d = `basemapgallery-item-${a.uid}`;\n    return l`<div .ariaChecked=${c} .ariaDisabled=${t} aria-labelledby=${d ?? r} class=${s(B(i.item, v))} role=radio tabindex=${f ?? r} title=${$ ?? r} @click=${() => {\n      a.state === \"ready\" && (o.activeBasemap = a.basemap);\n    }}><img alt class=${s(i.itemThumbnail)} src=${g ?? r}><div class=${s(i.itemContent)}><div class=${s(i.itemTitle)}><span id=${d ?? r}>${m}</span></div>${C(a.basemap) ? T(a.basemap, u) : null}</div>${a.state !== \"loading\" ? null : l`<calcite-scrim><span aria-hidden=true class=${s(A.loaderAnimation)} role=presentation></span></calcite-scrim>`}</div>`;\n  }\n}\nfunction T(e, t) {\n  return l`<div class=${s(i.itemTagsContainer)}>${D(t)}${_(e) ? E(t) : null}</div>`;\n}\nfunction D(e) {\n  return l`<calcite-chip scale=s .label=${e.tag3D}>${e.tag3D}</calcite-chip>`;\n}\nfunction E(e) {\n  return l`<calcite-chip appearance=outline-fill scale=s .label=${e.tagBeta}>${e.tagBeta}</calcite-chip>`;\n}\nI(\"arcgis-basemap-gallery-item\", S);\nexport {\n  S as ArcgisBasemapGalleryItem\n};\n","import{html as t,svg as r,mathml as e}from\"./lit-html.js\";\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst a=Symbol.for(\"\"),o=t=>{if(t?.r===a)return t?._$litStatic$},s=t=>({_$litStatic$:t,r:a}),i=(t,...r)=>({_$litStatic$:r.reduce(((r,e,a)=>r+(t=>{if(void 0!==t._$litStatic$)return t._$litStatic$;throw Error(`Value passed to 'literal' function must be a 'literal' result: ${t}. Use 'unsafeStatic' to pass non-literal values, but\\n            take care to ensure page security.`)})(e)+t[a+1]),t[0]),r:a}),l=new Map,n=t=>(r,...e)=>{const a=e.length;let s,i;const n=[],u=[];let c,$=0,f=!1;for(;$<a;){for(c=r[$];$<a&&void 0!==(i=e[$],s=o(i));)c+=s+r[++$],f=!0;$!==a&&u.push(i),n.push(c),$++}if($===a&&n.push(r[a]),f){const t=n.join(\"$$lit$$\");void 0===(r=l.get(t))&&(n.raw=n,l.set(t,r=n)),e=u}return t(r,...e)},u=n(t),c=n(r),$=n(e);export{u as html,i as literal,$ as mathml,c as svg,s as unsafeStatic,n as withStatic};\n//# sourceMappingURL=static.js.map\n","import { c as v } from \"../../chunks/runtime.js\";\nimport { html as l } from \"lit-html\";\nimport { usePropertyChange as f } from \"@arcgis/components-controllers\";\nimport { classes as u } from \"@arcgis/components-utils\";\nimport { when as y, watch as b } from \"@arcgis/core/core/reactiveUtils.js\";\nimport $ from \"@arcgis/core/widgets/BasemapGallery/BasemapGalleryViewModel.js\";\nimport { safeClassMap as n, LitElement as M, createEvent as x, noShadowRoot as L, nothing as p, safeStyleMap as R } from \"@arcgis/lumina\";\nimport { u as _ } from \"../../chunks/useView.js\";\nimport { m as B } from \"../../chunks/useViewModel.js\";\nimport { unsafeStatic as D, html as I } from \"lit/static-html.js\";\nimport { g as d } from \"../../chunks/globalCss.js\";\nimport { c as r } from \"../../chunks/basemap-gallery-resources.js\";\nimport { css as A } from \"@lit/reactive-element/css-tag.js\";\n/*! All material copyright Esri, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\nv4.32.7 */\nfunction C({ level: o, class: s, children: e }) {\n  const i = k(o), t = `h${i}`, a = D(t);\n  return I`<${a} .ariaLevel=${String(i)} class=${n(u(d.heading, s))} role=heading>${e}</${a}>`;\n}\nfunction E(o, s, e) {\n  return Math.min(Math.max(o, s), e);\n}\nfunction k(o) {\n  return E(Math.ceil(o), 1, 6);\n}\nconst S = A`@layer{arcgis-basemap-gallery{display:block}}`, G = B($), m = {\n  // Below this width, items are displayed as a single column and the thumbnail is placed above the title.\n  small: 200,\n  // Below this width, items are displayed as a single column but with the thumbnail side-by-side\n  // with the title. The title is square.\n  default: 280,\n  // Below this width, items are displayed as in `default`, but the thumbnail has an aspect ratio of 1.5\n  // Above this width, items are displayed in a grid.\n  wide: 420\n};\nclass K extends M {\n  constructor() {\n    super(...arguments), this.messages = _({}), this.viewModel = G(this), this._width = 0, this._state = \"\", this.activeBasemap = this.viewModel.activeBasemap, this.autoDestroyDisabled = !1, this.disabled = !1, this.headingLevel = 2, this.icon = \"basemap\", this.label = \"\", this.position = \"bottom-left\", this.source = this.viewModel.source, this.state = this.viewModel.state, this.arcgisPropertyChange = f()(\"activeBasemap\", \"state\"), this.arcgisReady = x();\n  }\n  static {\n    this.properties = { _width: 16, _state: 16, activeBasemap: 0, autoDestroyDisabled: 5, disabled: 7, headingLevel: 9, icon: 1, label: 1, position: 1, referenceElement: 1, source: 0, state: 3 };\n  }\n  static {\n    this.shadowRootOptions = L;\n  }\n  static {\n    this.styles = S;\n  }\n  //#endregion\n  //#region Public Methods\n  /** Permanently destroy the component */\n  async destroy() {\n    await this.manager.destroy();\n  }\n  //#endregion\n  //#region Lifecycle\n  loaded() {\n    this.manager.onLifecycle(() => [\n      y(() => this.source, () => {\n        this.viewModel.loadSource();\n      }, { sync: !0, initial: !0 }),\n      b(() => this.source.state, () => {\n        this._state = this.source.state;\n      }, { sync: !0 })\n    ]);\n    const s = new ResizeObserver((i) => {\n      for (const t of i)\n        this._width = t.contentRect.width;\n    }), e = this.el.childElem;\n    e && s.observe(e);\n  }\n  //#endregion\n  //#region Private Methods\n  _getRoundRobinIndex(s, e) {\n    return (s + e) % e;\n  }\n  _handleKeyDown(s) {\n    const { key: e } = s;\n    if (![\"ArrowUp\", \"ArrowDown\", \"ArrowRight\", \"ArrowLeft\"].includes(e))\n      return;\n    s.preventDefault();\n    const { items: t, activeBasemapIndex: a } = this.viewModel, h = e === \"ArrowUp\" || e === \"ArrowLeft\" ? this._getRoundRobinIndex(Math.max(a - 1, -1), t.length) : this._getRoundRobinIndex(a + 1, t.length), c = t.at(h);\n    c?.state === \"ready\" && (this.viewModel.activeBasemap = c.basemap);\n  }\n  //#endregion\n  //#region Rendering\n  render() {\n    const s = this.source.state === \"loading\", e = this.disabled || this.state === \"disabled\", i = this.viewModel.items, t = {\n      [r.sourceLoading]: s,\n      [d.disabled]: e,\n      \"esri-component\": !0\n      // For compatibility with Esri View UI\n    }, a = this._width;\n    a <= m.small || a >= m.wide ? t[r.layoutGrid] = !0 : a < m.default && (t[r.narrowItems] = !0);\n    const h = s ? l`<div class=${n(r.loader)}></div>` : null, c = s ? null : i.length > 0 ? l`<div aria-disabled=${this.disabled ?? p} aria-label=${this.label ?? p} class=${n(r.itemContainer)} @keydown=${this._handleKeyDown} role=radiogroup>${i.map((g, w) => l`<arcgis-basemap-gallery-item .disabled=${e} .item=${g} .itemIndex=${w} .viewModel=${this.viewModel} .messages=${this.messages}></arcgis-basemap-gallery-item>`)}</div>` : l`<div class=${n(d.empty)}>${C({ level: this.headingLevel, children: this.messages.noBasemaps })}</div>`;\n    return l`<div class=${n(u(r.base, d.widget, d.panel, t))} style=${R({\n      \"--esri-basemap-gallery-small\": `${m.small}px`\n    })}>${[h, c]}</div>`;\n  }\n}\nv(\"arcgis-basemap-gallery\", K);\nexport {\n  K as ArcgisBasemapGallery\n};\n","/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport Basemap from '@arcgis/core/Basemap';\r\nimport { property, subclass } from '@arcgis/core/core/accessorSupport/decorators';\r\nimport * as reactiveUtils from '@arcgis/core/core/reactiveUtils';\r\nimport Graphic from '@arcgis/core/Graphic';\r\nimport TileInfo from '@arcgis/core/layers/support/TileInfo';\r\nimport Map from '@arcgis/core/Map';\r\nimport MapView from '@arcgis/core/views/MapView';\r\nimport Expand from '@arcgis/core/widgets/Expand';\r\nimport { tsx } from '@arcgis/core/widgets/support/widget';\r\nimport Widget from '@arcgis/core/widgets/Widget';\r\n\r\ninterface OverviewParams extends __esri.WidgetProperties {\r\n    basemap: Basemap;\r\n    mainView: MapView;\r\n    scales: number[];\r\n    factor: number;\r\n}\r\n\r\n@subclass('esri.widgets.Overview')\r\nexport default class Overview extends Widget {\r\n    private overview: MapView;\r\n    private extentGraphic: Graphic;\r\n    private mainView: MapView;\r\n    private basemap: Basemap;\r\n    private scales: number[];\r\n    private factor: number;\r\n\r\n    constructor(params?: OverviewParams) {\r\n        super(params);\r\n    }\r\n\r\n    postInitialize() {\r\n        reactiveUtils.watch(() => [this.mainView.center, this.mainView.interacting, this.mainView.scale], () => {\r\n            this.onViewChange();\r\n        });\r\n    }\r\n\r\n    @property()\r\n        expand: Expand;\r\n\r\n    render() {\r\n        setTimeout(() => {\r\n            if (this.expand.expanded) {\r\n                this.onViewChange();\r\n            }\r\n        }, 10);\r\n        return <div id={`${this.id}_cont`} style=\"width:250px;height:150px;background:#fff\"></div>;\r\n    }\r\n\r\n    private onViewChange(): void {\r\n        if (this.expand.expanded) {\r\n            if (!this.overview && document.getElementById(`${this.id}_cont`)) {\r\n                this.createMap();\r\n                this.createExtentGraphic();\r\n            }\r\n            if (this.overview) {\r\n                this.overview.center = this.mainView.center;\r\n                this.overview.scale = this.mainView.scale * this.factor;\r\n                this.extentGraphic.geometry = this.mainView.extent;\r\n            }\r\n        }\r\n    }\r\n\r\n    private createMap(): void {\r\n        const map = new Map({\r\n            basemap: this.basemap,\r\n        });\r\n        const tileInfo = TileInfo.create({\r\n            spatialReference: this.mainView.spatialReference,\r\n            numLODs: this.scales.length,\r\n            scales: this.scales,\r\n        });\r\n        this.overview = new MapView({\r\n            container: `${this.id}_cont`,\r\n            map,\r\n            scale: this.mainView.scale,\r\n            center: this.mainView.center,\r\n            spatialReference: this.mainView.spatialReference,\r\n            constraints: {\r\n                rotationEnabled: false,\r\n                lods: tileInfo.lods,\r\n            },\r\n            ui: {\r\n                components: [],\r\n            },\r\n        });\r\n        this.overview.when(() => {\r\n            const stopEvtPropagation = (event) => {\r\n                event.stopPropagation();\r\n            };\r\n            this.overview.on('mouse-wheel', stopEvtPropagation);\r\n            this.overview.on('double-click', stopEvtPropagation);\r\n            this.overview.on('double-click', ['Control'], stopEvtPropagation);\r\n            this.overview.on('drag', stopEvtPropagation);\r\n            this.overview.on('drag', ['Shift'], stopEvtPropagation);\r\n            this.overview.on('drag', ['Shift', 'Control'], stopEvtPropagation);\r\n            this.overview.on('key-down', (event) => {\r\n                const prohibitedKeys = [\r\n                    '+',\r\n                    '-',\r\n                    'Shift',\r\n                    '_',\r\n                    '=',\r\n                    'ArrowUp',\r\n                    'ArrowDown',\r\n                    'ArrowRight',\r\n                    'ArrowLeft',\r\n                ];\r\n                const keyPressed = event.key;\r\n                if (prohibitedKeys.indexOf(keyPressed) !== -1) {\r\n                    event.stopPropagation();\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    private createExtentGraphic(): void {\r\n        const symbol = {\r\n            type: 'simple-fill',\r\n            color: [0, 0, 0, 0.5],\r\n            outline: null,\r\n        } as any;\r\n\r\n        this.extentGraphic = new Graphic({\r\n            symbol,\r\n        });\r\n        this.overview.graphics.add(this.extentGraphic);\r\n    }\r\n}\r\n","import Basemap from '@arcgis/core/Basemap';\r\nimport MapView from '@arcgis/core/views/MapView';\r\nimport LocalBasemapsSource from '@arcgis/core/widgets/BasemapGallery/support/LocalBasemapsSource';\r\nimport CoordinateConversion from '@arcgis/core/widgets/CoordinateConversion';\r\nimport Conversion from '@arcgis/core/widgets/CoordinateConversion/support/Conversion';\r\nimport Format from '@arcgis/core/widgets/CoordinateConversion/support/Format';\r\nimport Expand from '@arcgis/core/widgets/Expand';\r\nimport LayerList from '@arcgis/core/widgets/LayerList';\r\nimport '@arcgis/map-components/components/arcgis-basemap-gallery';\r\nimport Overview from '../widgets/Overview';\r\n\r\nexport default class WidgetUtils {\r\n\r\n    static addOverview(basemap: Basemap, view: MapView, scales: number[], factor: number, display: 'collapsed' | 'expanded'): void {\r\n        const overview = new Overview({\r\n            basemap,\r\n            mainView: view,\r\n            scales,\r\n            factor,\r\n        });\r\n        const overviewExpand = new Expand({\r\n            expandIcon: 'map',\r\n            view,\r\n            content: overview,\r\n            expanded: display === 'expanded',\r\n            mode: 'floating',\r\n            autoCollapse: false,\r\n            group: 'api',\r\n        });\r\n        overview.expand = overviewExpand;\r\n        view.ui.add(overviewExpand, {\r\n            position: 'bottom-right',\r\n        });\r\n    }\r\n\r\n    static addLayerList(view: MapView, display: 'collapsed' | 'expanded'): void {\r\n        const layerList = new LayerList({\r\n            view,\r\n        });\r\n        const layerListExpand = new Expand({\r\n            expandIcon: 'layers',\r\n            view,\r\n            content: layerList,\r\n            expanded: display === 'expanded',\r\n            mode: 'floating',\r\n            autoCollapse: false,\r\n            group: 'api',\r\n        });\r\n        view.ui.add(layerListExpand, {\r\n            position: 'top-right',\r\n        });\r\n    }\r\n\r\n    static addBasemapGallery(items: Basemap[], view: MapView): void {\r\n        const basemapGallery = document.createElement('arcgis-basemap-gallery') as any;\r\n        basemapGallery.source = new LocalBasemapsSource({\r\n            basemaps: items\r\n        });\r\n        basemapGallery.view = view;\r\n        const container = document.createElement('div');\r\n        container.appendChild(basemapGallery);\r\n        const basemapGalleryExpand = new Expand({\r\n            expandIcon: 'basemap',\r\n            view,\r\n            content: container,\r\n            mode: 'floating',\r\n            autoCollapse: true,\r\n            group: 'api',\r\n        });\r\n        view.ui.add(basemapGalleryExpand, {\r\n            position: 'top-right',\r\n        });\r\n    }\r\n\r\n    static addCoordinates(view: MapView, display: 'collapsed' | 'expanded'): void {\r\n        const coords = new CoordinateConversion({\r\n            view,\r\n        });\r\n        coords.visibleElements = {\r\n            expandButton: false,\r\n        };\r\n\r\n        coords.when(() => {\r\n            const handle = setInterval(() => {\r\n                const div = document.getElementsByClassName('esri-coordinate-conversion')[0] as HTMLElement;\r\n                if (div) {\r\n                    clearInterval(handle);\r\n                    div.style.width = '300px';\r\n                }\r\n            }, 50);\r\n            \r\n            // copie du format basemap pour pouvoir donner un autre nom\r\n            const basemap = coords.formats.find((f) => f.name === 'basemap');\r\n            const mn95 = new Format({\r\n                name: 'mn95',\r\n                coordinateSegments: basemap!.coordinateSegments,\r\n                spatialReference: basemap!.spatialReference,\r\n            });\r\n\r\n            // ajout du format MN95 par défaut\r\n            coords.formats = coords.formats.filter((f) => f.name === 'dd');\r\n            coords.formats.add(mn95, 0);\r\n            coords.conversions.removeAll();\r\n            const conversion = new Conversion({\r\n                format: mn95,\r\n            });\r\n            coords.conversions.add(conversion);\r\n        });\r\n\r\n        const coordsExpand = new Expand({\r\n            expandIcon: 'gps-on',\r\n            view,\r\n            content: coords,\r\n            expanded: display === 'expanded',\r\n            mode: 'floating',\r\n            autoCollapse: false,\r\n            group: 'api',\r\n        });\r\n        view.ui.add(coordsExpand, {\r\n            position: 'bottom-right',\r\n        });\r\n    }\r\n\r\n}\r\n","import Extent from '@arcgis/core/geometry/Extent';\r\nimport Geometry from '@arcgis/core/geometry/Geometry';\r\nimport MultiPoint from '@arcgis/core/geometry/MultiPoint';\r\nimport Point from '@arcgis/core/geometry/Point';\r\nimport SpatialReference from '@arcgis/core/geometry/SpatialReference';\r\nimport Graphic from '@arcgis/core/Graphic';\r\nimport GraphicsLayer from '@arcgis/core/layers/GraphicsLayer';\r\nimport TileInfo from '@arcgis/core/layers/support/TileInfo';\r\nimport Map from '@arcgis/core/Map';\r\nimport PopupTemplate from '@arcgis/core/PopupTemplate';\r\nimport { GeometryUnion } from '@arcgis/core/unionTypes.js';\r\nimport MapView from '@arcgis/core/views/MapView';\r\nimport '@arcgis/map-components/components/arcgis-scale-bar';\r\nimport { Emitter } from 'nanoevents';\r\nimport { ConfigItem } from './types/ConfigItem';\r\nimport { MarkerParams } from './types/MarkerParams';\r\nimport GpxUtils from './utils/GpxUtils';\r\nimport LayerUtils from './utils/LayerUtils';\r\nimport TextUtils from './utils/TextUtils';\r\nimport WidgetUtils from './utils/WidgetUtils';\r\n\r\nexport default class MapClass {\r\n    private view: MapView;\r\n    private layerUtils: LayerUtils;\r\n    private markerLayerName = 'markerLayer';\r\n\r\n    constructor(public config: ConfigItem) {\r\n        this.layerUtils = new LayerUtils(config);\r\n    }\r\n\r\n    init(emitter: Emitter): void {\r\n        const basemaps = this.layerUtils.getBasemaps(this.config.basemaps);\r\n        const map = new Map({\r\n            basemap: basemaps[0],\r\n        });\r\n        const spatialReference = new SpatialReference({\r\n            wkid: this.config.spatialReference,\r\n        });\r\n        const center = new Point({\r\n            x: this.config.center[0],\r\n            y: this.config.center[1],\r\n            spatialReference,\r\n        });\r\n        const tileInfo = TileInfo.create({\r\n            spatialReference,\r\n            numLODs: this.config.scales.length,\r\n            scales: this.config.scales,\r\n        });\r\n        const extent = new Extent({\r\n            xmin: this.config.globalExtent.xmin,\r\n            ymin: this.config.globalExtent.ymin,\r\n            xmax: this.config.globalExtent.xmax,\r\n            ymax: this.config.globalExtent.ymax,\r\n            spatialReference,\r\n        });\r\n        this.view = new MapView({\r\n            container: this.config.container,\r\n            map,\r\n            scale: this.config.scale,\r\n            center,\r\n            spatialReference,\r\n            constraints: {\r\n                rotationEnabled: false,\r\n                lods: tileInfo.lods,\r\n                minScale: this.config.minScale,\r\n                maxScale: this.config.maxScale,\r\n                geometry: extent,\r\n            },\r\n            popup: {\r\n                dockEnabled: true,\r\n                dockOptions: {\r\n                    buttonEnabled: false,\r\n                    breakpoint: false,\r\n                },\r\n                viewModel: {\r\n                    includeDefaultActions: false,\r\n                },\r\n            },\r\n        });\r\n        this.view.when(() => {\r\n            emitter.emit('map-created');\r\n        });\r\n\r\n        // barre d'échelle\r\n        /*const scaleBar = new ScaleBar({\r\n            view: this.view,\r\n            unit: 'metric',\r\n        });\r\n        this.view.ui.add(scaleBar, {\r\n            position: 'bottom-left',\r\n        });*/\r\n        const scaleBar = document.createElement('arcgis-scale-bar') as any;\r\n        scaleBar.setAttribute('bar-style', 'line');\r\n        scaleBar.setAttribute('unit', 'metric');\r\n        scaleBar.view = this.view;\r\n        this.view.ui.add(scaleBar, 'bottom-left');\r\n\r\n        // ajout des couches vecteur\r\n        if (this.config.layers && this.config.vectorServiceUrl) {\r\n            /*this.layerUtils.getFeatureLayers(this.config.layers).then((layers) => {\r\n                this.view.map.addMany(layers.reverse());\r\n            });*/\r\n            this.layerUtils.getMapImageLayers(this.config.layers).then((layers) => {\r\n                this.view.map.addMany(layers.reverse());\r\n            });\r\n        }\r\n\r\n        // ajout des widgets\r\n        if (basemaps.length > 1) {\r\n            WidgetUtils.addBasemapGallery(basemaps, this.view);\r\n        }\r\n        if (this.config.layerList) {\r\n            WidgetUtils.addLayerList(this.view, this.config.layerList);\r\n        }\r\n        if (this.config.overviewDisplay && this.config.overviewBasemap) {\r\n            const overviewBasemap = this.layerUtils.getBasemaps([this.config.overviewBasemap])[0];\r\n            WidgetUtils.addOverview(overviewBasemap, this.view, this.config.scales, this.config.overviewFactor as number, this.config.overviewDisplay);\r\n        }\r\n        if (this.config.showCoords) {\r\n            WidgetUtils.addCoordinates(this.view, this.config.showCoords);\r\n        }\r\n\r\n        // gestion du ctrl + click\r\n        this.view.on('click', (e) => {\r\n            if (e.native.ctrlKey) {\r\n                e.stopPropagation();\r\n                emitter.emit('ctrlClick', [e.mapPoint.x, e.mapPoint.y]);\r\n            }\r\n        });\r\n    }\r\n\r\n    center(position: number[], scale?: number): void {\r\n        this.view.center = new Point({\r\n            x: position[0],\r\n            y: position[1],\r\n            spatialReference: this.view.spatialReference,\r\n        });\r\n        if (scale !== undefined) {\r\n            this.view.scale = scale;\r\n        }\r\n    }\r\n\r\n    centerOnObject(layer: string, ids: string[], highlight: boolean): void {\r\n        // suppression des graphiques existants\r\n        this.view.graphics.removeAll();\r\n\r\n        const queryConfig = this.config.vectorLayerQueries.filter((item) => item.layer === layer)[0];\r\n        if (!queryConfig) {\r\n            console.warn(`Invalid layer name: ${layer}`);\r\n            return;\r\n        }\r\n\r\n        this.layerUtils.queryLayer(queryConfig, ids).then((geometries) => {\r\n            if (!geometries.length) {\r\n                console.warn('No object found with this query.');\r\n                return;\r\n            }\r\n\r\n            const globalExtent = this.getGlobalExtent(geometries, 1.5);\r\n            this.view.extent = globalExtent;\r\n\r\n            if (highlight) {\r\n                const symbols = {\r\n                    point: this.config.selectionPointSymbol,\r\n                    multipoint: this.config.selectionPointSymbol,\r\n                    polyline: this.config.selectionPolylineSymbol,\r\n                    polygon: this.config.selectionPolygonSymbol,\r\n                };\r\n                geometries.forEach((geom) => {\r\n                    const gr = new Graphic({\r\n                        geometry: geom,\r\n                        symbol: symbols[geom.type],\r\n                    });\r\n                    this.view.graphics.add(gr);\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    getCenterCoordinates(): number[] {\r\n        return [this.view.center.x, this.view.center.y];\r\n    }\r\n\r\n    showPopup(title: string, content: string): void {\r\n        this.view.openPopup({\r\n            title,\r\n            content,\r\n        });\r\n        // évite que les coordonnées ne soient pas visibles directement sur les petites cartes (il faut cliquer sur le titre)\r\n        //this.view.popup.collapsed = false;\r\n    }\r\n\r\n    addMarker(params?: MarkerParams): void {\r\n        if (!params) {\r\n            params = {};\r\n        }\r\n        this.addMarkers([params]);\r\n    }\r\n\r\n    addMarkers(params: MarkerParams[]): void {\r\n        const graphics: Graphic[] = [];\r\n        params.forEach((markerParams) => {\r\n            const symbol = Object.assign({}, this.config.markerSymbol);\r\n            if (markerParams.icon && markerParams.size) {\r\n                symbol.url = markerParams.icon;\r\n                symbol.width = `${markerParams.size[0]}px`;\r\n                symbol.height = `${markerParams.size[1]}px`;\r\n            }\r\n            const coords = markerParams.position ? markerParams.position : this.getCenterCoordinates();\r\n            const geometry = new Point({\r\n                x: coords[0],\r\n                y: coords[1],\r\n                spatialReference: this.view.spatialReference,\r\n            });\r\n            const gr = new Graphic({\r\n                geometry,\r\n                symbol,\r\n            });\r\n            if (markerParams.popup?.title || markerParams.popup?.content) {\r\n                gr.popupTemplate = new PopupTemplate({\r\n                    title: markerParams.popup.title,\r\n                    content: markerParams.popup.content\r\n                });\r\n            }\r\n            graphics.push(gr);\r\n        });\r\n        let layer = this.view.map.allLayers.find((l) => l.id === this.markerLayerName) as GraphicsLayer;\r\n        if (!layer) {\r\n            layer = new GraphicsLayer({\r\n                id: this.markerLayerName,\r\n                listMode: 'hide'\r\n            });\r\n            this.view.map.add(layer);\r\n        }\r\n        layer.graphics.addMany(graphics);\r\n    }\r\n\r\n    clearMarkers(): void {\r\n        const layer = this.view.map.allLayers.find((l) => l.id === this.markerLayerName) as GraphicsLayer;\r\n        if (layer) {\r\n            layer.destroy();\r\n        }\r\n    }\r\n\r\n    addGpxLayer(name: string, url: string, zoom: boolean): void {\r\n        if (!this.isValidLayerName(name)) {\r\n            return;\r\n        }\r\n        GpxUtils.gpxToFeatures(url, this.view.spatialReference).then((r) => {\r\n            const symbols = {\r\n                point: this.config.gpxPointSymbol,\r\n                polyline: this.config.gpxPolylineSymbol,\r\n                polygon: this.config.gpxPolygonSymbol,\r\n            };\r\n            const graphics: Graphic[] = [];\r\n            r.tracks.forEach((gr) => {\r\n                gr.symbol = symbols[gr.geometry!.type];\r\n                graphics.push(gr);\r\n            });\r\n            r.waypoints.forEach((gr) => {\r\n                gr.symbol = symbols[gr.geometry!.type];\r\n                graphics.push(gr);\r\n            });\r\n            this.addGraphicsLayer(graphics, name, zoom);\r\n        });\r\n    }\r\n\r\n    addTextLayer(name: string, url: string, zoom: boolean): void {\r\n        if (!this.isValidLayerName(name)) {\r\n            return;\r\n        }\r\n        TextUtils.txtToFeatures(url, this.view.spatialReference).then((features) => {\r\n            this.addGraphicsLayer(features, name, zoom);\r\n        });\r\n    }\r\n\r\n    private getGlobalExtent(geometries: GeometryUnion[], expandFactor: number): Extent {\r\n        const getExtent = (geom: Geometry): Extent => {\r\n            const extent = geom.extent;\r\n            if (extent && extent.width && extent.height) {\r\n                return extent.expand(expandFactor);\r\n            }\r\n\r\n            const pt = geom.type === 'point' ? [(geom as Point).x, (geom as Point).y] : (geom as MultiPoint).points[0];\r\n            const size = 50;\r\n            return new Extent({\r\n                xmin: pt[0] - size,\r\n                ymin: pt[1] - size,\r\n                xmax: pt[0] + size,\r\n                ymax: pt[1] + size,\r\n                spatialReference: this.view.spatialReference,\r\n            });\r\n        };\r\n\r\n        let result!: Extent;\r\n        geometries.forEach((geom) => {\r\n            if (result) {\r\n                result.union(getExtent(geom));\r\n            } else {\r\n                result = getExtent(geom.clone());\r\n            }\r\n        });\r\n        return result.expand(expandFactor);\r\n    }\r\n\r\n    private isValidLayerName(name: string): boolean {\r\n        // test s'il y a déjà une couche avec ce nom. Si c'est le cas, on considère que le même gpx a déjà été chargé\r\n        if (this.view.map.layers.some((l) => l.title === name)) {\r\n            console.warn(`Map already contains a layer called '${name}'.`);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private addGraphicsLayer(graphics: Graphic[], name: string, zoom: boolean): void {\r\n        const layer = new GraphicsLayer({\r\n            title: name\r\n        });\r\n        this.view.map.add(layer);\r\n        layer.graphics.addMany(graphics);\r\n        if (zoom) {\r\n            const geometries = graphics.map((f) => f.geometry!);\r\n            const extent = this.getGlobalExtent(geometries, 1.5);\r\n            this.view.extent = extent;\r\n        }\r\n    }\r\n\r\n}\r\n","import esriRequest from '@arcgis/core/request';\r\nimport { BasemapItem, ConfigItem } from '../types/ConfigItem';\r\nimport { MapControlParams } from '../types/MapControlParams';\r\n\r\nexport class ConfigUtils {\r\n\r\n    static getConfig(params: MapControlParams): Promise<ConfigItem> {\r\n        return new Promise((resolve, reject) => {\r\n            esriRequest(params.configUrl, {\r\n                responseType: 'json',\r\n            }).then((r) => {\r\n                const config = r.data;\r\n\r\n                let overviewBasemap: BasemapItem | undefined = undefined;\r\n                let overviewFactor: number | undefined = undefined;\r\n                let overviewDisplay: 'collapsed' | 'expanded' | undefined;\r\n                if (params.miniMap !== undefined) {\r\n                    overviewDisplay = params.miniMap;\r\n                    const basemap = this.getBasemap(config.basemaps, config.overviewBasemap);\r\n                    if (basemap) {\r\n                        overviewBasemap = basemap;\r\n                    }\r\n                    overviewFactor = config.overviewFactor;\r\n                }\r\n                let layerList: 'collapsed' | 'expanded' | undefined;\r\n                if (params.layerList !== undefined && params.layers && params.layers.length) {\r\n                    layerList = params.layerList;\r\n                }\r\n                let vectorServiceUrl: string = config.vectorServiceUrl;\r\n                if (vectorServiceUrl?.substring(vectorServiceUrl.length - 1) === '/') {\r\n                    vectorServiceUrl = vectorServiceUrl.substring(0, vectorServiceUrl.length - 1);\r\n                }\r\n\r\n                resolve({\r\n                    apiUrl: config.apiUrl,\r\n                    basemaps: this.getBasemaps(config, params),\r\n                    center: params.center || config.center,\r\n                    container: params.container,\r\n                    globalExtent: config.globalExtent,\r\n                    gpxPointSymbol: config.gpxPointSymbol,\r\n                    gpxPolylineSymbol: config.gpxPolylineSymbol,\r\n                    gpxPolygonSymbol: config.gpxPolygonSymbol,\r\n                    layers: params.layers,\r\n                    layerList,\r\n                    markerSymbol: config.markerSymbol,\r\n                    maxScale: config.maxScale,\r\n                    minScale: config.minScale,\r\n                    overviewBasemap,\r\n                    overviewDisplay,\r\n                    overviewFactor,\r\n                    scale: params.scale || config.scale,\r\n                    scales: config.scales,\r\n                    selectionPointSymbol: config.selectionPointSymbol,\r\n                    selectionPolylineSymbol: config.selectionPolylineSymbol,\r\n                    selectionPolygonSymbol: config.selectionPolygonSymbol,\r\n                    spatialReference: config.spatialReference,\r\n                    showCoords: params.showCoords,\r\n                    vectorLayerQueries: config.vectorLayerQueries,\r\n                    vectorServiceUrl,\r\n                    vectorServiceToken: config.vectorServiceToken,\r\n                });\r\n            }).catch((error) => {\r\n                reject(error);\r\n            });\r\n        });\r\n    }\r\n\r\n    private static getBasemaps(config, params: MapControlParams): BasemapItem[] {\r\n        const result: BasemapItem[] = [];\r\n        if (params.basemaps === undefined) {\r\n            const basemap = this.getBasemap(config.basemaps, config.defaultBasemap, config.copyright);\r\n            if (basemap) {\r\n                result.push(basemap);\r\n            }\r\n        } else {\r\n            params.basemaps.forEach((bm) => {\r\n                const basemap = this.getBasemap(config.basemaps, bm, config.copyright);\r\n                if (basemap) {\r\n                    result.push(basemap);\r\n                }\r\n            });\r\n        }\r\n        return result;\r\n    }\r\n\r\n    private static getBasemap(basemaps, name: string, copyright?: string): BasemapItem | null {\r\n        const basemap = basemaps[name];\r\n        if (!basemap) {\r\n            console.warn(`Invalid basemap name: ${name}`);\r\n            return null;\r\n        }\r\n        return {\r\n            alias: basemap.alias,\r\n            copyright,\r\n            layerId: basemap.layerId,\r\n            name,\r\n            thumbnailUrl: basemap.thumbnailUrl,\r\n            type: basemap.type,\r\n            url: basemap.url,\r\n            urlTemplate: basemap.urlTemplate,\r\n        };\r\n    }\r\n}\r\n","import esriConfig from '@arcgis/core/config';\r\nimport { createNanoEvents, Emitter } from 'nanoevents';\r\nimport MapClass from './MapClass';\r\nimport { MapControlParams } from './types/MapControlParams';\r\nimport { MarkerParams } from './types/MarkerParams';\r\nimport { ConfigUtils } from './utils/ConfigUtils';\r\n//import * as intl from '@arcgis/core/intl';\r\n\r\ninterface Events {\r\n    ctrlClick: (position: number[]) => void;\r\n}\r\n\r\nexport default class MapControl {\r\n    private map: MapClass;\r\n    private emitter: Emitter;\r\n\r\n    /**\r\n     * MapControl constructor\r\n     * @param params Map parameters\r\n     */\r\n    constructor(params: MapControlParams) {\r\n        this.emitter = createNanoEvents<Events>();\r\n\r\n        ConfigUtils.getConfig(params).then((config) => {\r\n            let apiUrl = config.apiUrl;\r\n            if (apiUrl.charAt(apiUrl.length - 1) !== '/') {\r\n                apiUrl += '/';\r\n            }\r\n            esriConfig.assetsPath = `${apiUrl}@arcgis/core/assets`;\r\n            \r\n            const css = document.createElement('link');\r\n            css.setAttribute('rel', 'stylesheet');\r\n            css.setAttribute('type', 'text/css');\r\n            css.setAttribute('href', `${apiUrl}@arcgis/core/assets/esri/themes/light/main.css`);\r\n            document.getElementsByTagName('head')[0].appendChild(css);\r\n\r\n            //intl.setLocale('fr');\r\n            this.map = new MapClass(config);\r\n            this.map.init(this.emitter);\r\n        }).catch((error) => {\r\n            console.error(error);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Listen on events\r\n     * @param event Event name\r\n     * @param callback Callback function\r\n     */\r\n    on<E extends keyof Events>(event: E, callback: Events[E]) {\r\n        return this.emitter.on(event, callback);\r\n    }\r\n\r\n    /**\r\n     * Center the map on a new location\r\n     * @param position Coordinates of the center\r\n     * @param scale Scale\r\n     */\r\n    center(position: number[], scale?: number): void {\r\n        this.callMapFunction(() => this.map.center(position, scale));\r\n    }\r\n\r\n    /**\r\n     * Center the map on one or more objects\r\n     * @param layer Layer name\r\n     * @param ids Ids of the objects\r\n     * @param highlight Highlight the object or not\r\n     */\r\n    centerOnObject(layer: string, ids: string[], highlight: boolean): void {\r\n        this.callMapFunction(() => this.map.centerOnObject(layer, ids, highlight));\r\n    }\r\n\r\n    /**\r\n     * Add a GPX layer on the map\r\n     * @param name Name of the layer visible in the layer list control\r\n     * @param url Url of the gpx file\r\n     */\r\n    addGpxLayer(name: string, url: string, zoom: boolean): void {\r\n        this.callMapFunction(() => this.map.addGpxLayer(name, url, zoom));\r\n    }\r\n\r\n    /**\r\n     * Add a layer from a text file on the map\r\n     * @param name Name of the layer visible in the layer list control\r\n     * @param url Url of the text file\r\n     */\r\n    addTextLayer(name: string, url: string, zoom: boolean): void {\r\n        this.callMapFunction(() => this.map.addTextLayer(name, url, zoom));\r\n    }\r\n\r\n    /**\r\n     * Add a marker on the map\r\n     * @param params Marker parameters\r\n     */\r\n    addMarker(params?: MarkerParams): void {\r\n        this.callMapFunction(() => this.map.addMarker(params));\r\n    }\r\n\r\n    /**\r\n     * Add multiple markers on the map\r\n     * @param params Marker parameters\r\n     */\r\n    addMarkers(params: MarkerParams[]): void {\r\n        this.callMapFunction(() => this.map.addMarkers(params));\r\n    }\r\n\r\n    /**\r\n     * Clear all markers on the map\r\n     */\r\n    clearMarkers(): void {\r\n        this.callMapFunction(() => this.map.clearMarkers());\r\n    }\r\n\r\n    /**\r\n     * Display a popup on the map\r\n     * @param title Title of the popup\r\n     * @param content Content of the popup\r\n     */\r\n    showPopup(title: string, content: string): void {\r\n        this.map.showPopup(title, content);\r\n    }\r\n\r\n    private callMapFunction(fct): void {\r\n        if (this.map) {\r\n            fct();\r\n        } else {\r\n            this.emitter.on('map-created', () => fct());\r\n        }\r\n    }\r\n\r\n}\r\n"],"names":["createNanoEvents","event","args","callbacks","i","length","cb","_a","lazyMetaSubItemJoiner","classes","classes2","effectiveClasses","arg","prop","className","Deferred","_value","_error","resolve","reject","inTargetElement","element","targetElement","currentElement","observeAncestorsMutation","attributeFilter","callback","subscribe","observe","mutations","mutation","observers","attributes","previousObserver","subscribers","mutationObserver","observer","closestElement","base","selector","rootElement","_b","getElementAttribute","el","fallbackValue","closest","isEsriInternalEnv","safeCall","thisContext","rest","error","safeAsyncCall","result","supportedLocalesArray","supportedLocales","defaultLocale","localeEquivalencies","fetchT9nStringsBundle","locale","assetsPath","prefix","path","filePath","t9nStringsCache","fetchBundle","response","getElementLocales","lang","normalizeLocale","rawLanguageCode","regionCode","languageCode","normalizedLocale","startLocaleObserver","getAssetsPath","onUpdated","assetName","updateComponentLocaleState","newResult","t9nLocale","t9nAssetsPath","t9nStrings","camelToKebab","string","upperBeforeLower","upper","remainder","devToolsAwareTimeout","timeout","interval","shortTimeoutIntervals","elapsed","reference","isNotUndefined","item","devOnlyDetectIncorrectLazyUsages","LitClass","genericPrototype","descriptor","allowList","customErrorMessages","key","value","attachToAncestor","child","ancestor","litParent","defineProperty","parseCondensedProp","propAndAttribute","name","HtmlElement","ProxyClass","_c","propName","methodName","genericThis","oldValue","newValue","module","tagName","store","LitConstructor","LitConstructor2","lazyTagName","parentClass","patchLitElement","litElement","syncLitElement","litObserved","lazyObserved","missingFromLazy","attribute","missingFromLit","isStillConnected","litElementPrototype","elementPrototype","qualifiedName","noShadowRoot","retrieveComponentMembers","component","isLit","elementProperties","constructor","members","_name","propType","parsePropertyValue","type","getMemberType","controllerSymbol","isController","devOnlySetPersistentControllerData","controller","data","manager","controllers","index","devOnlyControllerData","devOnlyGetPersistentControllerData","ambientComponent","setAmbientComponent","retrieveComponent","name2","isEsriInternalEnv2","ambientControllers","setParentController","retrieveParentControllers","ambientChildController","setAmbientChildController","retrieveAmbientChildController","use","watchExports","useRefSync","unsubscribe","exports","useRef","ambientChildController2","shouldBypass","elementToInstance","Controller","makeProvisionalValue","resolvedComponent","toControllerHost","oldExports","proxy","safeCallback","isEsriInternalEnv3","genericController","changes","callUpdate","cleanupRaw","cleanup2","GenericController","target","receiver","cyclical","accessBeforeLoad","trackPropertyKey","object","onResolved","defaultValue","keys","keyCount","keyTrackMap","keyTrackResolve","pendingTrackers","keys2","key2","safeCall2","commit","watch","property","_a2","genericProperty","isEsriInternalEnv4","internals","watchers","genericCallback","propertyName","safeCall3","ComponentInternals","nothing","_oldValue","trackers","tracker","classPrototype","htmlPrototype","prototype","isEsriInternalEnv5","tolerateNotFound","originalGet","originalSet","isGetterAlreadyOverwritten","customAccessor","isSetterAlreadyOverwritten","shouldOverwriteGet","shouldOverwriteSet","finalGetter","component2","getters","emptyArray","finalSetter","rawNewValue","setters","watcher","trackPropKey","safeCall4","trackKey","hostsCandidates","candidateHosts","leftToResolve","resolved","resolution","host","bypassSetter","bypassGetter","bypassReadOnly","proxyExports","Class","ambientControllers2","instance","initialExports","hostCandidates","setProxy","assignedToProp","genericHost","controllerValueChanged","hostValueChanged","controllerUpdatedExports","useControllerManager","forceUpdate","ControllerManager","addController","removeController","controllerHost","update","stencilMethod","litMethod","isLitElementClass","autoDestroyDisabledPropName","defaultGetterSetter","isStencilDistBuild","hostConnected","hostDisconnected","hostUpdate","hostUpdated","callConnected","callDisconnected","callLoad","callLoaded","maybeLitComponent","callUpdated","updatePromise","callDestroy","destroy","autoDestroyOnDisconnectTimeout","line","makeController","FunctionalController","originalExports","constructorChangedExports","makeT9nController","getAssetPath","options","pending","componentWithOverrides","withoutOverrides","label","applyOverrides","messageOverrides","currentValue","rawMessages","updated","deepMerge","original","overwrites","merged","usePropertyChange","_component","propertyChangeController","eventName","toWatch","eventEmitter","allProps","t","e","s","o","n$9","r","n","S","c","h","a","l","p","d","u","f","y","b$4","b","v","_","m","g","$","x","T","E","A","C","P","V","N","H","I","L","k","M","R","z","R$1","k$2","I$1","L$1","j","B","r$6","i$3","createEventFactory","retrieveComponent2","emitter","payload","createEvent","emptyFunction","LitElement","OriginalLitElement","ourShouldUpdate","isOwnComponent","_d","warningsWereCustomized","_e","_f","styles","finalizedStyles","useLightDom","flags","isFirstCall","existingShadowRoot","renderRoot","domRoot","stylesheet","parentLoadPromise","pendingChildren","loaded","_changedProperties","listener","boundListener","globalWithLit","makeRuntime","assetPath","setAssetPath","runtime","suffix","assetUrl","safeClassMap","parameters","classMap","safeStyleMap","styleMap","litNothing","setAttribute","attributeName","f$2","h$1","w","reactiveUtils","loadReactiveUtils","importCoreReactiveUtils","AccessorController","_loadAccessor","_options","accessorSupport","finalParameters","awaitedParameters","genericComponent","existingInstance","filterWatchedProperties","loader","watchedProperties","isBinding","allowedPropNameMismatches","hasProp","doBinding","isFlippingBoolean","collidesWithNativeProp","collidesWithCustomProp","getter","setter","flipBoolean","finalValue","_propName","genericInstance","readonlyProps","findReadOnlyAccessorProps","setReadonlyProps","domValue","modelValue","resolvedDomValue","resolvedNewValue","reactiveUtils2","toListen","unknown","emit","trimmedEventName","eventTarget","getEventTarget","accessorController","properties","_property","readonlyProperties","U","D","GpxUtils","url","spatialReference","esriRequest","xml","projectOperator","waypoint","wPt","Point","gr","track","polyline","Polyline","segment","point","pt","route","geom","node","defaultName","description","popupTemplate","Graphic","SwissTileLayer","BaseTileLayer","params","SpatialReference","tileInfo","TileInfo","level","row","col","__decorateClass","subclass","LayerUtils","config","token","esriId","layers","featureLayers","featureLayer","FeatureLayer","fLayer","mapImageLayers","layer","MapImageLayer","sublayer","layerQuery","ids","layerInfo","field","where","query","r2","basemapItems","Basemap","WMTSLayer","TileLayer","ImageryLayer","VectorTileLayer","TextUtils","graphics","parts","coords","geometry","symbolSize","symbol","PictureMarkerSymbol","_w","bt","nt","wt","Ct","ut","at","rt","it","st","ot","O","_A","G","_K","K","Overview","Widget","tsx","map","Map","MapView","stopEvtPropagation","prohibitedKeys","keyPressed","WidgetUtils","basemap","view","scales","factor","display","overview","overviewExpand","Expand","layerList","LayerList","layerListExpand","items","basemapGallery","LocalBasemapsSource","container","basemapGalleryExpand","CoordinateConversion","handle","div","mn95","Format","conversion","Conversion","coordsExpand","MapClass","basemaps","center","extent","Extent","scaleBar","overviewBasemap","position","scale","highlight","queryConfig","geometries","globalExtent","symbols","title","content","markerParams","PopupTemplate","GraphicsLayer","zoom","features","expandFactor","getExtent","size","ConfigUtils","overviewFactor","overviewDisplay","vectorServiceUrl","bm","copyright","MapControl","apiUrl","esriConfig","css","fct"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46]}